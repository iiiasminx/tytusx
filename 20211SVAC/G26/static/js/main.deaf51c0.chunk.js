(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[function(t,e,i){"use strict";i.r(e),i.d(e,"Primitiva",(function(){return l})),i.d(e,"TipoPrim",(function(){return n}));var n,r=i(6),o=i(7),s=i(13),a=i(3),c=i(17),l=function(){function t(e,i,n,o,s){Object(r.a)(this,t),this.linea=n,this.columna=o,this.tipo=i,this.valor=e,this.isXQuery=s}return Object(o.a)(t,[{key:"getTipo",value:function(t){return this.tipo}},{key:"get3Dir",value:function(t){return this.tipo===n.IDENTIFIER?this.getValorInicial(t):this.getValor(t)}},{key:"getValorInicial",value:function(t){return this.valor}},{key:"getValor",value:function(t){var e=this;if(this.tipo===n.IDENTIFIER)return t.existeSimbolo(this.valor)?t.obtenerSimbolo(this.valor):null;if(this.tipo===n.ATRIBUTO){if(this.isXQuery){for(var i=new s.a("Temporal",null,null),r=0;r<t.tsimbolos.length;r++){var o=t.tsimbolos[r].valor;if(o.getTipo()===a.a.ATRIBUTO&&o.getNombre()===this.valor)return i.agregarSimbolo(o.getNombre(),o),i}return null}this.tipo=n.FUNCION;var l=new s.a("Temporal",null,null);return t.padre.tsimbolos.forEach((function(i){var n=i.valor;n.getTipo()===a.a.ETIQUETA&&n.getNombre()===t.nombre&&n.valor.tsimbolos.forEach((function(t){var i=t.valor;i.getTipo()!==a.a.ATRIBUTO||"*"!==e.valor&&e.valor!==i.getNombre()||l.agregarSimbolo(n.getNombre(),n)}))})),l}if(this.tipo!==n.FUNCION&&"last()"!=this.valor){if(this.tipo==n.CONSULTA){this.tipo=n.FUNCION;var u=new c.Consulta(this.valor,this.linea,this.columna),h=new s.a("Temporal",null,null);return t.padre.tsimbolos.forEach((function(e){var i=e.valor;i.getNombre()===t.nombre&&(u.ejecutar(i.valor).length>0&&h.agregarSimbolo(i.getNombre(),i))})),h}return this.valor}if(this.valor instanceof Array)return this.tipo=n.CONSULTA,this.getValor(t);switch(this.valor.toLowerCase()){case"last()":var f=t.padre,g=0;return f.tsimbolos.forEach((function(e){var i=e.valor;i.getTipo()===a.a.ETIQUETA&&i.getNombre()===t.nombre&&g++})),this.tipo=n.INTEGER,g>0?g:0;default:return this.valor}}}]),t}();!function(t){t[t.INTEGER=0]="INTEGER",t[t.DOUBLE=1]="DOUBLE",t[t.CADENA=2]="CADENA",t[t.IDENTIFIER=3]="IDENTIFIER",t[t.ATRIBUTO=4]="ATRIBUTO",t[t.DOT=5]="DOT",t[t.FUNCION=6]="FUNCION",t[t.BOOLEAN=7]="BOOLEAN",t[t.CONSULTA=8]="CONSULTA",t[t.ERROR=9]="ERROR",t[t.FUNCIONXQUERY=10]="FUNCIONXQUERY",t[t.XQUERYIDENTIFIER=11]="XQUERYIDENTIFIER"}(n||(n={}))},,,function(t,e,i){"use strict";var n;i.d(e,"a",(function(){return n})),function(t){t[t.STRING=0]="STRING",t[t.ETIQUETA=1]="ETIQUETA",t[t.ATRIBUTO=2]="ATRIBUTO",t[t.ETIQUETA_UNIQUE=3]="ETIQUETA_UNIQUE",t[t.XQ_VAR=4]="XQ_VAR",t[t.XQ_FUNC=5]="XQ_FUNC",t[t.XQ_NUMB=6]="XQ_NUMB"}(n||(n={}))},,,,,,function(t,e,i){"use strict";i.r(e);var n=i(6),r=i(7),o=function(){function t(e,i,r,o){Object(n.a)(this,t),this.tipoError=e,this.descripcion=i,this.linea=r,this.columna=o}return Object(r.a)(t,[{key:"getTipo",value:function(){return this.tipoError}},{key:"getDescripcion",value:function(){return this.descripcion}},{key:"getLinea",value:function(){return this.linea}},{key:"getColumna",value:function(){return this.columna}},{key:"getMensaje",value:function(){return"Error "+this.tipoError+": "+this.descripcion+" en la linea "+this.linea+" y columna "+this.columna}}]),t}(),s=new(function(){function t(){return Object(n.a)(this,t),this.listaError=new Array,"object"===typeof t._instance?t._instance:(t._instance=this,this)}return Object(r.a)(t,[{key:"agregarError",value:function(t,e,i,n){this.listaError.push(new o(t,e,i,n))}},{key:"getSize",value:function(){return this.listaError.length}},{key:"getError",value:function(t){return this.listaError[t]}},{key:"limpiar",value:function(){this.listaError=[]}}],[{key:"getInstance",value:function(){return this._instance}}]),t}());e.default=s},function(t,e,i){"use strict";i.r(e),i.d(e,"Nodo",(function(){return a})),i.d(e,"TipoNodo",(function(){return n})),i.d(e,"TipoAxis",(function(){return r}));var n,r,o=i(6),s=i(7),a=function(){function t(e,i,n,r,s,a,c){Object(o.a)(this,t),this.linea=n,this.columna=r,this.tipo=i,this.nombre=e,this.predicado=s,this.fromRoot=!0,this.tipoAxis=a,this.NodeTest=c}return Object(s.a)(t,[{key:"get3Dir",value:function(){}},{key:"ToString",value:function(){return void 0!=this.predicado?this.nombre+" "+this.predicado:this.nombre}},{key:"isFromRoot",value:function(){return this.fromRoot}},{key:"setFromRoot",value:function(t){this.fromRoot=t}},{key:"getValorInicial",value:function(){return this.nombre}},{key:"getValor",value:function(){return void 0!=this.NodeTest?this.NodeTest.getNombre():this.nombre}},{key:"getNombre",value:function(){return this.nombre}},{key:"getPredicado",value:function(){return void 0!=this.NodeTest?this.NodeTest.getPredicado():this.predicado}},{key:"getTipo",value:function(){return this.tipo}},{key:"isAxis",value:function(){return void 0!=this.tipoAxis}},{key:"getTipoAxis",value:function(){return this.tipoAxis}}]),t}();!function(t){t[t.IDENTIFIER=0]="IDENTIFIER",t[t.ATRIBUTO=1]="ATRIBUTO",t[t.DOT=2]="DOT",t[t.DOTDOT=3]="DOTDOT",t[t.ASTERISCO=4]="ASTERISCO",t[t.AXIS=5]="AXIS",t[t.FUNCION=6]="FUNCION",t[t.NODOERROR=7]="NODOERROR"}(n||(n={})),function(t){t[t.ANCESTOR=0]="ANCESTOR",t[t.ANCESTORORSELF=1]="ANCESTORORSELF",t[t.ATTRIBUTE=2]="ATTRIBUTE",t[t.CHILD=3]="CHILD",t[t.DESCENDANT=4]="DESCENDANT",t[t.DESCENDANTORSELF=5]="DESCENDANTORSELF",t[t.FOLLOWING=6]="FOLLOWING",t[t.FOLLOWINGSIBLING=7]="FOLLOWINGSIBLING",t[t.PARENT=8]="PARENT",t[t.PRECEDING=9]="PRECEDING",t[t.PRECEDINGSIBLING=10]="PRECEDINGSIBLING",t[t.SELF=11]="SELF",t[t.NAMESPACE=12]="NAMESPACE"}(r||(r={}))},,,function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i(6),r=i(7),o=i(9),s=i(3),a=function(){function t(e,i,r){Object(n.a)(this,t),this.tsimbolos=new Array,this.nombre=e,this.padre=i,this.global=null===r?this:r}return Object(r.a)(t,[{key:"agregarSimbolo",value:function(t,e){this.tsimbolos.push({nombre:t,valor:e})}},{key:"sobreEscribirSimbolo",value:function(t,e){for(var i=this;null!=i;i=i.padre)for(var n=0;n<i.tsimbolos.length;n++)if(i.tsimbolos[n].nombre.toString().toLowerCase()===t.toString().toLowerCase()){var r={nombre:t,valor:e};return i.tsimbolos[n]=r,!0}return o.default.agregarError("semantico","No existe el simbolo "+t,-1,-1),!1}},{key:"getStringTipo",value:function(t){switch(t){case s.a.STRING:return"Cadena";case s.a.ETIQUETA:return"Etiqueta";case s.a.ATRIBUTO:return"Atributo";case s.a.XQ_FUNC:return"Funcion XQuery";case s.a.XQ_VAR:return"Variable XQuery"}return""}},{key:"obtenerSimbolo",value:function(t){for(var e=this;null!=e;e=e.padre)for(var i=0;i<e.tsimbolos.length;i++)if(e.tsimbolos[i].nombre.toString().toLowerCase()===t.toString().toLowerCase())return e.tsimbolos[i].valor;return o.default.agregarError("semantico","No existe el simbolo "+t,-1,-1),null}},{key:"setSimbolo",value:function(t,e){for(var i=this;null!=i;i=i.padre)for(var n=0;n<i.tsimbolos.length;n++){var r=i.tsimbolos[n];if(r.nombre.toString().toLowerCase()===t.toString().toLowerCase())return void(r.valor=e)}}},{key:"existeSimbolo",value:function(t){for(var e=0;e<this.tsimbolos.length;e++)if(this.tsimbolos[e].nombre.toString().toLowerCase()===t.toString().toLowerCase())return!0;return!1}}]),t}()},,,function(t,e,i){"use strict";i.r(e),i.d(e,"Primitiva3D",(function(){return s})),i.d(e,"TipoPrim3D",(function(){return n}));var n,r=i(6),o=i(7),s=function(){function t(e,i,n,o,s,a){Object(r.a)(this,t),this.fila=s,this.columna=a,this.valor=n,this.tipo=e,this.tipoPrimitiva=i,this.codigo3D=o}return Object(o.a)(t,[{key:"getCodigo3D",value:function(){return this.valor}},{key:"getValor",value:function(){return this.valor}},{key:"getTipoPrim3D",value:function(){return this.tipoPrimitiva}},{key:"getTipoExpresion",value:function(){return this.tipo}}]),t}();!function(t){t[t.IDENTIFIER=0]="IDENTIFIER",t[t.DOUBLE=1]="DOUBLE",t[t.INTEGER=2]="INTEGER"}(n||(n={}))},function(t,e,i){"use strict";i.r(e),i.d(e,"Consulta",(function(){return l}));var n=i(8),r=i(6),o=i(7),s=i(3),a=i(10),c=i(0),l=function(){function t(e,i,n){Object(r.a)(this,t),this.listaNodos=e,this.linea=i,this.columna=n}return Object(o.a)(t,[{key:"ToString",value:function(){var t="";return this.listaNodos.forEach((function(e){e.isFromRoot()?t+="/"+e.getNombre():t+="//"+e.getNombre(),e.isAxis()&&(t+="::"+e.getValor()),void 0!=e.getPredicado()&&(t+="["+e.getPredicado()+"]")})),t}},{key:"ejecutar",value:function(t){var e=this.obtenerSalida(0,t,null,!1),i=Object(n.a)(e,2),r=i[0];i[1];return r}},{key:"simbolosToString",value:function(t){var e=this,i="";return t.forEach((function(t){if("string"!==typeof t)switch(t.getTipo()){case s.a.ATRIBUTO:i+=t.getNombre()+"="+t.getValor()+"\n";break;case s.a.ETIQUETA:void 0!==t.valor?i+=e.escribirConsultaObjeto(t,0):i+=e.escribirEtiquetaPadre(t);break;case s.a.STRING:i+=e.concatHijoTexto(t,0);break;default:i+="---\x3e "+t.getTipo()}else i+=t+"\n"})),i}},{key:"obtenerSalida",value:function(t,e,i,r){var o=this,c=[],l=this.listaNodos[t];switch(l.getTipo()){case a.TipoNodo.IDENTIFIER:for(var u=0;u<e.tsimbolos.length;u++){var h=e.tsimbolos[u].valor;if(h.getNombre()===l.getNombre()){var f=l.getPredicado();if(void 0!=f){var g,m=this.obtenerConsultaPredicado(f,t,e,i,r,l.getValor(),!1),d=Object(n.a)(m,2);g=d[0],r=d[1],c=c.concat(g);break}if(t+1<this.listaNodos.length){var p,T=this.obtenerSalida(t+1,h.valor,h,r),b=Object(n.a)(T,2);p=b[0],r=b[1],c=c.concat(p)}else c.push(h)}else if(!l.isFromRoot()&&h.getTipo()===s.a.ETIQUETA){var E,I=this.obtenerSalida(t,h.valor,h,r),v=Object(n.a)(I,2);E=v[0],r=v[1],c=c.concat(E)}if(r)break}break;case a.TipoNodo.ATRIBUTO:"*"===l.getNombre()?l.isFromRoot()?e.tsimbolos.forEach((function(t){var e=t.valor;e.getTipo()===s.a.ATRIBUTO&&c.push(e.valor)})):e.tsimbolos.forEach((function(t){var e=t.valor;e.getTipo()===s.a.ATRIBUTO||e.getTipo()===s.a.STRING?c.push(e.valor):e.getTipo()===s.a.ETIQUETA&&(c=c.concat(o.getConsultaAtributos(e,0,"*")))})):l.isFromRoot()?e.tsimbolos.forEach((function(t){var e=t.valor;e.getTipo()===s.a.ATRIBUTO&&l.getNombre()===e.getNombre()&&c.push(e.valor)})):e.tsimbolos.forEach((function(t){var e=t.valor;e.getTipo()===s.a.ATRIBUTO?l.getNombre()===e.getNombre()&&c.push(e.valor):e.getTipo()===s.a.STRING?c.push(e.valor):e.getTipo()===s.a.ETIQUETA&&(c=c.concat(o.getConsultaAtributos(e,0,l.getNombre())))}));break;case a.TipoNodo.DOTDOT:if(t+1<this.listaNodos.length){var y,A=this.obtenerSalida(t+1,e.padre,e.padre.valor,r),O=Object(n.a)(A,2);y=O[0],r=O[1],c=c.concat(y)}else{var N=e.padre;c.push(N)}break;case a.TipoNodo.DOT:if(t+1<this.listaNodos.length){var R,_=this.obtenerSalida(t+1,e,i,r),S=Object(n.a)(_,2);R=S[0],r=S[1],c=c.concat(R)}else(i.getTipo()===s.a.STRING||i.getTipo()===s.a.ETIQUETA)&&c.push(i);break;case a.TipoNodo.ASTERISCO:t+1<this.listaNodos.length?e.tsimbolos.forEach((function(e){if(e.valor.getTipo()===s.a.ETIQUETA){var i,a=o.obtenerSalida(t+1,e.valor.valor,e.valor,r),l=Object(n.a)(a,2);i=l[0],r=l[1],c=c.concat(i)}})):e.tsimbolos.forEach((function(t){var e=t.valor;(e.getTipo()===s.a.STRING||e.getTipo()===s.a.ETIQUETA)&&c.push(e)}));break;case a.TipoNodo.FUNCION:switch(l.getValor().toLocaleLowerCase()){case"text()":e.tsimbolos.forEach((function(e){var a=e.valor;if(a.getTipo()===s.a.STRING&&c.push(a),!l.isFromRoot()&&a.getTipo()==s.a.ETIQUETA){var u,h=o.obtenerSalida(t,a.valor,i,r),f=Object(n.a)(h,2);u=f[0],r=f[1],c=c.concat(u)}}));break;case"node()":e.tsimbolos.forEach((function(t){var e=t.valor;(e.getTipo()===s.a.ETIQUETA||e.getTipo()==s.a.STRING)&&c.push(e)}))}break;case a.TipoNodo.AXIS:!function(){switch(l.getTipoAxis()){case a.TipoAxis.ANCESTOR:var u=l.getValor();if("*"!=u)for(var h=e.padre;null!=h;){if(h.nombre===u){if(t+1<o.listaNodos.length){var f,g=o.obtenerSalida(t+1,h,i,r),m=Object(n.a)(g,2);f=m[0],r=m[1],c=c.concat(f)}else c.push(h);break}h=h.padre}else{for(var d=e.padre;null!=d.padre;)d=d.padre;if(t+1<o.listaNodos.length){var p,T=o.obtenerSalida(t+1,d,i,r),b=Object(n.a)(T,2);p=b[0],r=b[1],c=c.concat(p)}else c.push(d)}break;case a.TipoAxis.ANCESTORORSELF:if("*"!=l.getValor()){var E=e.padre;for(l.isFromRoot()||e.tsimbolos.forEach((function(e){var a=e.valor;if(a.getTipo()===s.a.ETIQUETA){var l,u=o.obtenerSalida(t,a.valor,i,r),h=Object(n.a)(u,2);l=h[0],r=h[1],c=c.concat(l)}}));null!=E;){if(E.nombre===l.getValor()){var I=l.getPredicado();if(void 0!=I){var v,y=o.obtenerConsultaPredicado(I,t,e,i,r,l.getValor(),!0),A=Object(n.a)(y,2);v=A[0],r=A[1],c=c.concat(v);break}if(t+1<o.listaNodos.length){var O,N=o.obtenerSalida(t+1,E,i,r),R=Object(n.a)(N,2);O=R[0],r=R[1],c=c.concat(O)}else c.push(E);c.push(E);break}E=E.padre}}else{for(var _=e.padre;null!=_.padre;)_=_.padre;if(t+1<o.listaNodos.length){var S,k=o.obtenerSalida(t+1,_,i,r),w=Object(n.a)(k,2);S=w[0],r=w[1],c=c.concat(S)}else c.push(_);c.push(_)}break;case a.TipoAxis.ATTRIBUTE:"*"===l.getValor()?e.tsimbolos.forEach((function(u){var h=u.valor;if(h.getTipo()===s.a.ATRIBUTO)if(t+1<o.listaNodos.length)if(o.listaNodos[t+1].getTipo()==a.TipoNodo.AXIS){var f,g=o.obtenerSalida(t+1,e,i,r),m=Object(n.a)(g,2);f=m[0],r=m[1],c=c.concat(f)}else c=[];else c.push(h.valor);if(!l.isFromRoot()&&h.getTipo()==s.a.ETIQUETA){var d,p=o.obtenerSalida(t,h.valor,i,r),T=Object(n.a)(p,2);d=T[0],r=T[1],c=c.concat(d)}})):e.tsimbolos.forEach((function(u){var h=u.valor;if(h.getTipo()===s.a.ATRIBUTO&&h.getNombre()===l.getValor())if(t+1<o.listaNodos.length)if(o.listaNodos[t+1].getTipo()==a.TipoNodo.AXIS){var f,g=o.obtenerSalida(t+1,e,i,r),m=Object(n.a)(g,2);f=m[0],r=m[1],c=c.concat(f)}else c=[];else c.push(h.valor);if(!l.isFromRoot()&&h.getTipo()==s.a.ETIQUETA){var d,p=o.obtenerSalida(t,h.valor,i,r),T=Object(n.a)(p,2);d=T[0],r=T[1],c=c.concat(d)}}));break;case a.TipoAxis.CHILD:"*"===l.getValor()?e.tsimbolos.forEach((function(a){var u=a.valor,h=l.getPredicado();if(void 0!=h){var f,g=o.obtenerConsultaPredicado(h,t,e,i,r,l.getValor(),!1),m=Object(n.a)(g,2);f=m[0],r=m[1],c=c.concat(f)}else if(t+1<o.listaNodos.length){if(u.getTipo()===s.a.ETIQUETA){var d,p=o.obtenerSalida(t+1,u.valor,i,r),T=Object(n.a)(p,2);d=T[0],r=T[1],c=c.concat(d)}}else u.getTipo()===s.a.ETIQUETA&&c.push(u);if(!l.isFromRoot()&&u.getTipo()==s.a.ETIQUETA){var b,E=o.obtenerSalida(t,u.valor,i,r),I=Object(n.a)(E,2);b=I[0],r=I[1],c=c.concat(b)}})):e.tsimbolos.forEach((function(a){var u=a.valor,h=l.getPredicado();if(u.getNombre()===l.getValor())if(void 0!=h){var f,g=o.obtenerConsultaPredicado(h,t,e,i,r,l.getValor(),!1),m=Object(n.a)(g,2);f=m[0],r=m[1],c=c.concat(f)}else if(t+1<o.listaNodos.length){if(u.getTipo()==s.a.ETIQUETA){var d,p=o.obtenerSalida(t+1,u.valor,i,r),T=Object(n.a)(p,2);d=T[0],r=T[1],c=c.concat(d)}}else u.getTipo()==s.a.ETIQUETA&&c.push(u);if(!l.isFromRoot()&&u.getTipo()==s.a.ETIQUETA){var b,E=o.obtenerSalida(t,u.valor,i,r),I=Object(n.a)(E,2);b=I[0],r=I[1],c=c.concat(b)}})),r=!0;break;case a.TipoAxis.DESCENDANT:"*"===l.getValor()?e.tsimbolos.forEach((function(e){var a=e.valor;if(t+1<o.listaNodos.length){if(a.getTipo()===s.a.ETIQUETA){var l,u,h=o.obtenerSalida(t+1,a.valor,i,r),f=Object(n.a)(h,2);l=f[0],r=f[1],c=c.concat(l);var g=o.obtenerHijosRecursivos(t+1,a.valor,i,!1,r),m=Object(n.a)(g,2);u=m[0],r=m[1],c=c.concat(u)}}else if(a.getTipo()===s.a.ETIQUETA){var d,p=o.obtenerHijosRecursivos(t+1,a.valor,i,!0,r),T=Object(n.a)(p,2);d=T[0],r=T[1],c=c.concat(d)}})):e.tsimbolos.forEach((function(e){var a=e.valor;if(a.getNombre()===l.getValor())if(t+1<o.listaNodos.length){if(a.getTipo()==s.a.ETIQUETA){var u,h=o.obtenerSalida(t+1,a.valor,i,r),f=Object(n.a)(h,2);u=f[0],r=f[1],c=c.concat(u)}}else a.getTipo()==s.a.ETIQUETA&&c.push(a);else if(a.getTipo()==s.a.ETIQUETA){var g,m=o.obtenerSalida(t,a.valor,i,r),d=Object(n.a)(m,2);g=d[0],r=d[1],c=c.concat(g)}}));break;case a.TipoAxis.DESCENDANTORSELF:"*"===l.getValor()?e.tsimbolos.forEach((function(e){var a=e.valor;if(t+1<o.listaNodos.length){if(a.getTipo()===s.a.ETIQUETA){var l,u=o.obtenerSalida(t+1,a.valor,i,r),h=Object(n.a)(u,2);l=h[0],r=h[1],c=c.concat(l);var f=o.obtenerHijosRecursivos(t+1,a.valor,i,!1,r),g=Object(n.a)(f,2);l=g[0],r=g[1],c=c.concat(l)}}else if(a.getTipo()===s.a.ETIQUETA){var m;c.push(a);var d=o.obtenerHijosRecursivos(t+1,a.valor,i,!0,r),p=Object(n.a)(d,2);m=p[0],r=p[1],c=c.concat(m)}})):e.tsimbolos.forEach((function(e){var a=e.valor;if(a.getNombre()===l.getValor())if(t+1<o.listaNodos.length){if(a.getTipo()==s.a.ETIQUETA){var u,h=o.obtenerSalida(t+1,a.valor,i,r),f=Object(n.a)(h,2);u=f[0],r=f[1],c=c.concat(u)}}else a.getTipo()==s.a.ETIQUETA&&c.push(a);else if(a.getTipo()==s.a.ETIQUETA&&a.getTipo()==s.a.ETIQUETA){var g,m=o.obtenerSalida(t,a.valor,i,r),d=Object(n.a)(m,2);g=d[0],r=d[1],c=c.concat(g)}}));break;case a.TipoAxis.FOLLOWING:for(var D=e.padre,U=!1,P=e.nombre;null!=D;)D.tsimbolos.forEach((function(e){var a=e.valor;if(U&&("*"===l.getValor()||l.getValor()===a.getNombre()))if(t+1<o.listaNodos.length){var u,h=o.obtenerSalida(t+1,a.valor,i,r),f=Object(n.a)(h,2);u=f[0],r=f[1],c=c.concat(u)}else a.getTipo()===s.a.ETIQUETA&&c.push(a);if(U||a.getNombre()!==P||(U=!0),!l.isFromRoot()&&a.getTipo()==s.a.ETIQUETA){var g,m=o.obtenerSalida(t,a.valor,i,r),d=Object(n.a)(m,2);g=d[0],r=d[1],c=c.concat(g)}})),P=D.nombre,D=D.padre,U=!1;break;case a.TipoAxis.FOLLOWINGSIBLING:var L=e.padre;if("*"===l.getValor()){var X=!1,C=e.nombre;L.tsimbolos.forEach((function(e){var a=e.valor;if(X)if(t+1<o.listaNodos.length){var u,h=o.obtenerSalida(t+1,a.valor,i,r),f=Object(n.a)(h,2);u=f[0],r=f[1],c=c.concat(u)}else a.getTipo()===s.a.ETIQUETA&&c.push(a);if(X||a.getNombre()!==C||(X=!0),!l.isFromRoot()&&a.getTipo()==s.a.ETIQUETA){var g,m=o.obtenerSalida(t,a.valor,i,r),d=Object(n.a)(m,2);g=d[0],r=d[1],c=c.concat(g)}}))}else{var x=!1,Q=e.nombre;L.tsimbolos.forEach((function(e){var a=e.valor;if(x&&a.getNombre()===l.getValor())if(t+1<o.listaNodos.length){var u,h=o.obtenerSalida(t+1,a.valor,i,r),f=Object(n.a)(h,2);u=f[0],r=f[1],c=c.concat(u)}else a.getTipo()===s.a.ETIQUETA&&c.push(a);if(x||a.getNombre()!==Q||(x=!0),!l.isFromRoot()&&a.getTipo()==s.a.ETIQUETA){var g,m=o.obtenerSalida(t,a.valor,i,r),d=Object(n.a)(m,2);g=d[0],r=d[1],c=c.concat(g)}}))}break;case a.TipoAxis.NAMESPACE:c=[];case a.TipoAxis.PARENT:if("*"===l.getValor()||l.getValor()===e.padre.nombre)if(t+1<o.listaNodos.length){var j,M=o.obtenerSalida(t+1,e.padre,i,r),$=Object(n.a)(M,2);j=$[0],r=$[1],c=c.concat(j)}else c.push(e.padre),e.padre.tsimbolos.forEach((function(e){var a=e.valor;if(!l.isFromRoot()&&a.getTipo()==s.a.ETIQUETA){var u,h=o.obtenerSalida(t,a.valor,i,r),f=Object(n.a)(h,2);u=f[0],r=f[1],c=c.concat(u)}}));break;case a.TipoAxis.PRECEDING||a.TipoAxis.PRECEDINGSIBLING:var F=e.padre,G=!0;F.tsimbolos.forEach((function(a){var u=a.valor;if(G&&e.nombre===u.getNombre()&&(G=!1),G&&u.getTipo()==s.a.ETIQUETA&&("*"===l.getValor()||l.getValor()===u.getNombre()))if(t+1<o.listaNodos.length){var h,f=o.obtenerSalida(t+1,u.valor,i,r),g=Object(n.a)(f,2);h=g[0],r=g[1],c=c.concat(h)}else c.push(u)}));break;case a.TipoAxis.SELF:if("*"===l.getValor()||l.getValor()===i.getNombre())if(t+1<o.listaNodos.length){var H,B=o.obtenerSalida(t+1,e,i,r),z=Object(n.a)(B,2);H=z[0],r=z[1],c=c.concat(H)}else c.push(i)}}();break;case a.TipoNodo.NODOERROR:if(t+1<this.listaNodos.length){var k=this.obtenerSalida(t+1,e,i,r),w=Object(n.a)(k,2);c=w[0],r=w[1]}else c=[]}return[c,r]}},{key:"encontrarEntorno",value:function(t,e){for(var i=0;i<t.tsimbolos.length;i++){var n=t.tsimbolos[i].valor;if(n.getTipo()==s.a.ETIQUETA&&n.getNombre()==e)return n.valor}return null}},{key:"obtenerConsultaPredicado",value:function(t,e,i,r,o,a,l){var u,h=this,f=[],g=this.listaNodos[e];if(null==(u=l?i.padre:this.encontrarEntorno(i,a)))return[f,o,[]];i=u;var m=t.getValor(i);console.log("PREDVALUE:",m);var d=[],p=t.getTipo();if(null===m||void 0===m)return[f,o,[]];switch(p){case c.TipoPrim.INTEGER:if(i=i.padre,m<1)return[f,o,[]];var T=1;i.tsimbolos.forEach((function(t){var i=t.valor;if(i.getTipo()===s.a.ETIQUETA&&i.getNombre()===g.getValor()){if(T==m)if(e+1<h.listaNodos.length){var a,c=h.obtenerSalida(e+1,i.valor,r,o),l=Object(n.a)(c,2);a=l[0],o=l[1],f=f.concat(a),d.push(i)}else f.push(i),d.push(i);T++}}));break;case c.TipoPrim.DOUBLE:case c.TipoPrim.BOOLEAN:break;case c.TipoPrim.FUNCION:m.tsimbolos.forEach((function(t){var i=t.valor;if(e+1<h.listaNodos.length){var s,a=h.obtenerSalida(e+1,i.valor,r,o),c=Object(n.a)(a,2);s=c[0],o=c[1],f=f.concat(s),d.push(i),l&&(o=!0)}else f.push(i),d.push(i)}))}return[f,o,d]}},{key:"addTabs",value:function(t){for(var e="",i=0;i<t;i++)e+="    ";return e}},{key:"buscarHaciaAdentro",value:function(t,e,i,r,o){var a=this,c=[];return t.valor.tsimbolos.forEach((function(t){var l=t.valor;if(l.getTipo()===s.a.ETIQUETA){if(l.getNombre()==e)if(i+1<a.listaNodos.length){var u,h=a.obtenerSalida(i+1,l.valor,r,o),f=Object(n.a)(h,2);u=f[0],o=f[1],c=c.concat(u)}else c.push(l);var g,m=a.buscarHaciaAdentro(l,e,i,r,o),d=Object(n.a)(m,2);g=d[0],o=d[1],c=c.concat(g)}})),[c,o]}},{key:"obtenerHijosRecursivos",value:function(t,e,i,r,o){var a=this,c=[];return e.tsimbolos.forEach((function(e){var l=e.valor;if(l.getTipo()===s.a.ETIQUETA)if(r){var u;c.push(l);var h=a.obtenerHijosRecursivos(t,l.valor,i,r,o),f=Object(n.a)(h,2);u=f[0],o=f[1],c=c.concat(u)}else{var g,m=a.obtenerSalida(t,l.valor,i,o),d=Object(n.a)(m,2);g=d[0],o=d[1],c=c.concat(g)}})),[c,o]}},{key:"escribirEtiquetaPadre",value:function(t){var e=this,i="< "+t.nombre,n=!0;return t.tsimbolos.forEach((function(t){var r=t.valor;r.getTipo()==s.a.ATRIBUTO&&(i+=r.getNombre()+"="+r.getValor()+" "),r.getTipo()==s.a.ETIQUETA&&(n&&(i+=">",n=!1),i+=e.escribirConsultaObjeto(t.valor,0))})),i}},{key:"getConsultaAtributos",value:function(t,e,i){var n=this,r=[];return t.valor.tsimbolos.forEach((function(t){var o=t.valor;o.getTipo()===s.a.ATRIBUTO&&("*"===i||i===o.getNombre())&&r.push(o),o.getTipo()===s.a.ETIQUETA&&(r=r.concat(n.getConsultaAtributos(o,e,i)))})),r}},{key:"escribirConsultaObjeto",value:function(t,e){var i=this,n=this.addTabs(e)+"";n+="<"+t.nombre;var r=t.valor.tsimbolos;return r.forEach((function(t){var e=t.valor;e.getTipo()===s.a.ATRIBUTO&&(n+=" "+e.nombre+"="+e.valor)})),t.getTipo()===s.a.ETIQUETA_UNIQUE?n+="/>\n":n+=">\n",r.forEach((function(t){var r=t.valor;r.getTipo()===s.a.STRING?n+=i.concatHijoTexto(r,e+1):r.getTipo()===s.a.ETIQUETA&&(n+=i.escribirConsultaObjeto(r,e+1))})),t.getTipo()!=s.a.ETIQUETA_UNIQUE&&(n+=this.addTabs(e)+"</"+t.nombre+">\n"),n}},{key:"concatHijoTexto",value:function(t,e){var i=this.addTabs(e)+"";return(i+=t.getValor()+" ")+"\n"}}]),t}()},function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r,o,s){Object(n.a)(this,t),this.tipo=e,this.nombre=i,this.valor=r,this.linea=o,this.columna=s,this.posicion=0}return Object(r.a)(t,[{key:"getTipo",value:function(){return this.tipo}},{key:"getNombre",value:function(){return this.nombre}},{key:"getValor",value:function(){return this.valor}},{key:"getLinea",value:function(){return this.linea}},{key:"getColumna",value:function(){return this.columna}},{key:"getPosicion",value:function(){return this.posicion}},{key:"setPosicion",value:function(t){this.posicion=t}}]),t}()},,function(t,e,i){"use strict";i.r(e),i.d(e,"Operacion3D",(function(){return a})),i.d(e,"TipoOperacion3D",(function(){return n}));var n,r=i(6),o=i(7),s=i(16),a=function(){function t(e,i,o,a,c,l,u){Object(r.a)(this,t),this.tipo=e,this.codigo3D=c,this.fila=l,this.tipoOperacion=i,this.columna=u,this.op_der=a,this.op_izq=o,this.tipoOperacion==n.MENOSUNARIO&&this.op_izq instanceof s.Primitiva3D&&(this.op_izq.valor=-1*this.op_izq.getValor(),this.op_izq.codigo3D="-"+this.op_izq.valor)}return Object(o.a)(t,[{key:"getCodigo3D",value:function(){return this.codigo3D=this.op_izq.getCodigo3D(),null!=this.op_der&&(this.codigo3D+=" "+this.getOperandoString()+" ",this.codigo3D+=this.op_der.getCodigo3D()),this.codigo3D}},{key:"getOperandoString",value:function(){switch(this.tipoOperacion){case n.SUMA:return"+";case n.RESTA:return"-";case n.MULTIPLICACION:return"*";case n.DIVISION:return"/";case n.MOD:return"%";case n.MAYORQUE:return">";case n.MENORQUE:return"<";case n.MAYORIGUALQUE:return">=";case n.MENORIGUALQUE:return"<=";case n.IGUALIGUAL:return"==";case n.DIFERENTEQUE:return"!=";case n.MENOSUNARIO:return"-";default:return"?"}}},{key:"getTipoOperacion",value:function(){return this.tipoOperacion}},{key:"getTipoExpresion",value:function(){return this.tipo}},{key:"getValorRelacional",value:function(){switch(this.tipoOperacion){case n.MAYORQUE:if(this.op_der)return this.op_izq.getValor()>this.op_der.getValor();case n.MAYORIGUALQUE:if(this.op_der)return this.op_izq.getValor()>=this.op_der.getValor();case n.IGUALIGUAL:if(this.op_der)return this.op_izq.getValor()==this.op_der.getValor();case n.DIFERENTEQUE:if(this.op_der)return this.op_izq.getValor()!=this.op_der.getValor();case n.MENORQUE:if(this.op_der)return this.op_izq.getValor()<this.op_der.getValor();case n.MENORIGUALQUE:if(this.op_der)return this.op_izq.getValor()<=this.op_der.getValor();default:return console.log("Tipo condicion Incorrecta: ",this.tipoOperacion),!1}}},{key:"negarCondicion",value:function(){switch(this.tipoOperacion){case n.MAYORQUE:return n.MENORQUE;case n.MAYORIGUALQUE:return n.MENORIGUALQUE;case n.IGUALIGUAL:return n.DIFERENTEQUE;case n.DIFERENTEQUE:return n.IGUALIGUAL;case n.MENORQUE:return n.MAYORQUE;case n.MENORIGUALQUE:return n.MAYORIGUALQUE;default:return console.log("Tipo condicion Incorrecta: ",this.tipoOperacion),null}}}]),t}();!function(t){t[t.SUMA=0]="SUMA",t[t.RESTA=1]="RESTA",t[t.MULTIPLICACION=2]="MULTIPLICACION",t[t.DIVISION=3]="DIVISION",t[t.MOD=4]="MOD",t[t.MAYORQUE=5]="MAYORQUE",t[t.MENORQUE=6]="MENORQUE",t[t.IGUALIGUAL=7]="IGUALIGUAL",t[t.DIFERENTEQUE=8]="DIFERENTEQUE",t[t.MAYORIGUALQUE=9]="MAYORIGUALQUE",t[t.MENORIGUALQUE=10]="MENORIGUALQUE",t[t.MENOSUNARIO=11]="MENOSUNARIO"}(n||(n={}))},function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return n}));var n,r=i(6),o=i(7),s=function(){function t(e,i,n,o){Object(r.a)(this,t),this.contSQ=0,this.contHQ=0,this.xQueryHeap=[],this.xQueryStack=[],this.strTraduccion="",this.xmlHeap=[],this.xmlStack=[],this.instruccion=e,this.xQueryTabla=i,this.translateXPath=o,this.xmlTabla=n,this.contT=0,this.funcionesUtilizadas=[]}return Object(o.a)(t,[{key:"getFuncionesUtilizadas",value:function(){var t=this,e="";return this.funcionesUtilizadas=this.funcionesUtilizadas.reverse(),this.funcionesUtilizadas.forEach((function(i){switch(i){case n.FROMHEAPTOXQHEAP:e+=t.getFromHeapToXQHeap();break;case n.IMPRIMIRATRIBUTOXQ:e+=t.getImprimirAtributo();break;case n.IMPRIMIRCONSULTAXQ:e+=t.getImprimirConsulta();break;case n.IMPRIMIRETIQUETAXQ:e+=t.getImprimirEtiqueta();break;case n.IMPRIMIRTEXTOXQ:e+=t.getImprimirTexto()}})),e}},{key:"getDeclaraTempsXQuery",value:function(){var t="";if(this.contT>0){var e=0;for(t="double tq"+e,e++;e<this.contT;)t+=", tq"+e,e++;t+=";\n"}return t}},{key:"iniciarTraduccion",value:function(){return this.instruccion.getCodigo3Dir(this.xQueryTabla,this.xmlTabla,this.translateXPath,this)}},{key:"StringToHeap",value:function(t,e){var i=this,n='\n\t /* VARIABLE "'+e+'" EN HEAP de XQUERY*/ \n',r="tq"+this.contT;return n+="\t"+r+" = HQ;\n",n+="\tXQHeap[(int)HQ] = -3; \n\tHQ = HQ + 1; \n",t.split("").forEach((function(t){n=n+"\tXQHeap[(int)HQ] = "+t.charCodeAt(0)+"; \n\tHQ = HQ + 1; \n",i.xQueryHeap.push(t.charCodeAt(0)),i.contHQ++})),n+="\tXQHeap[(int)HQ] = -3; \n\tHQ = HQ + 1; \n",n+="\tXQStack[(int)SQ] = "+r+";\n",this.contSQ++,n}},{key:"getFromHeapToXQHeap",value:function(){var t="void fromHeapToXQHeap(){\n";t+="\t/*--- TQ"+this.contT+" TIENE EL VALOR CON EL QUE FINALIZA EL AMBITO --- */ \n";var e="tq"+this.contT;this.contT=this.contT+1,t+="\t"+e+" = heap[(int)H];\n",t+="\tXQHeap[(int)HQ] = heap[(int)H];\n",t+="\t HQ = HQ + 1;\n\t H = H+1;\n";var i="tq"+this.contT;return this.contT=this.contT+1,t+="\tL1:\n\t\t"+i+" = heap[(int)H];\n\t\tif("+i+" == "+e+") goto L2;\n\t\tXQHeap[(int)HQ] = "+i+";\n",t+="\t\t HQ = HQ + 1;\n\t\t H = H+1;\n",t+="\t\tgoto L1;\n",t+="\tL2: \n\t\t/*--- Ya se completo el ambito en el heap del xpath ---*/\n\t\tXQHeap[(int)HQ] = heap[(int)H];\n\t\t H = H + 1;\n",t+="\treturn;\n",t+="}\n"}},{key:"getImprimirConsulta",value:function(){var t="void imprimirConsultaXQ(){\n";t+="\t/* --- tq"+this.contT+" TIENE EL VALOR CON EL QUE FINALIZA LA CONSULTA -- */\n";var e="tq"+this.contT;return this.contT=this.contT+1,t+="\tHQ = HQ + 1;\n",t+="\tL0:\n\t"+e+" = XQHeap[(int)HQ];\n\t\tif("+e+" == -13) goto L5;\n\t\tgoto L1;\n",t+="\tL1:\n",t+="\t\t /* -- Ver si es etiqueta -- */\n",t+="\t\t if("+e+" > -5) goto L2;\n",t+="\t\timprimirEtiquetaXQ();\n",t+='\t\tprintf("%c", (char) 10);\n',t+="\t\tgoto L0;\n",t+="\tL2:\n",t+="\t\t /* -- Ver si es atributo(-2) o texto(-3) -- */\n",t+="\t\tif("+e+" == -2) goto L3;\n",t+="\t\tif("+e+" == -3) goto L4;\n",t+="\t\tgoto L5;\n",t+='\tL3: \n\t\tHQ = HQ + 2;\n\t\timprimirAtributoXQ();\n\tprintf("%c", (char) 10);\n\t\tgoto L0;\n',t+='\tL4: \n\t\tHQ = HQ + 1;\n\t\timprimirTextoXQ();\n\t\tprintf("%c", (char) 10);\n\t\tgoto L0;\n',t+='\tL5: \n\tprintf("%c", (char) 10);\n\treturn;\n}\n'}},{key:"getImprimirEtiqueta",value:function(){var t="void imprimirEtiquetaXQ() {\n",e="tq"+this.contT;this.contT=this.contT+1,t+="\t"+e+" = XQHeap[(int)HQ];\n",t+="\tHQ = HQ + 1;\n";var i="tq"+this.contT;this.contT=this.contT+1,t+="\t"+i+" = 0;\n";var n="tq"+this.contT;this.contT=this.contT+1,t+="\t"+n+" = HQ;\n",t+='\tprintf("%c", (int) 60); //Ascii <\n';var r="tq"+this.contT;this.contT=this.contT+1,t+="\tL1:\n\t\t"+r+" = XQHeap[(int)HQ];\n\t\tif("+r+" == "+e+") goto L2;\n\t\tgoto L3;\n",t+="\tL3:\n\t\tif("+r+' != -2) goto L4;\n\t\tHQ = HQ + 1;\n\t\tprintf("%c", (char) 32); // Espacio\n\t\timprimirAtributoXQ();\n\t\tHQ = HQ + 1;\n\t\tgoto L1;\n',t+="\tL4:\n\t\t//Ver si es texto\n\t\tif("+r+' != -3) goto L5;\n\t\tprintf("%c", (char) 62); //Ascii >\n\t\tHQ = HQ + 1;\n\t\t'+i+" = 1;\n\t\timprimirTextoXQ();\n\t\tgoto L1;\n",t+="\tL5:\n\t\tif("+r+" != -1) goto L6;\n\t\tHQ = HQ + 1;\n\t\tgoto L1;\n",t+="\tL6:\n\t\t//Revisar si hay otra etiqueta\n\t\tif("+r+" < "+e+") goto L7;\n\t\t//Aun no, solo imprimir caracter. (Revisar antes si es fin de ambito -13)\n\t\tif("+r+' == -13) goto L2;\n\t\tprintf("%c", (char) '+r+");\n\t\tHQ = HQ + 1;\n\t\tgoto L1;\n";var o="tq"+this.contT;return this.contT=this.contT+1,t+="\tL7:\n\t\tif("+r+" == -13) goto L2;\n\t\tif("+i+" == 0) goto L10;\n\t\tXQStack[(int)SQ] = "+e+";\n\t\tSQ = SQ + 1;\n\t\tXQStack[(int)SQ] = "+n+";\n\t\tSQ = SQ + 1;\n\t\timprimirEtiquetaXQ();\n\t\t"+e+" = XQStack[(int)SQ];\n\t\t"+o+" = SQ + 1;\n\t\t"+i+" = 1;\n\t\t"+n+" = XQStack[(int)"+o+"];\n\t\tHQ = HQ + 1;\n\t\tgoto L1;\n",t+='\tL10:\n\t\tprintf("%c", (char) 62); //Ascii >\n\t\t'+i+" = 1;\n\t\tgoto L7;\n",t+="\tL2:\n\t\t//EScribir etiqueta de cierre.\n\t\tif("+i+'== 0) goto L11;\n\t\tprintf("%c", (char) 60); //Ascii <\n\t\tprintf("%c", (char) 47); //Ascii /\n\t\tgoto L8;\n',t+='\tL11:\n\t\tprintf("%c", (char) 62); //Ascii >\n\t\t'+i+" = 1;\n\t\tgoto L2;\n",t+="\tL8:\n\t\t"+r+" = XQHeap[(int)"+n+"];\n\t\tif("+r+' == -1) goto L9;\n\t\tprintf("%c", (char) '+r+");\n\t\t"+n+" = "+n+" + 1;\n\t\tgoto L8;\n",t+='\tL9:\n\t\tprintf("%c", (char) 62); //Ascii >\n\tSQ = SQ - 2;\n\treturn;\n',t+="}\n"}},{key:"getImprimirAtributo",value:function(){var t="void imprimirAtributoXQ(){\n",e="tq"+this.contT;return this.contT=this.contT+1,t+="\tL1:\n\t\t"+e+" = XQHeap[(int)HQ];\n\t\tif("+e+' == -2) goto L2;\n\t\tprintf("%c", (char)'+e+");\n\t\tHQ = HQ + 1;\n\t\tgoto L1;\n",t+='\tL2:\n\t\tprintf("%c", (char) 32); // Espacio\n\t\tprintf("%c", (char)61); // = \n\t\tprintf("%c", (char) 32); // Espacio\n\t\tHQ = HQ + 2;\n',t+="\tL3:\n",t+="\t\t"+e+" = XQHeap[(int)HQ];\n",t+="\t\tif("+e+" == -3) goto L4;\n",t+='\t\tprintf("%c", (char)'+e+");\n",t+="\t\tHQ = HQ + 1;\n",t+="\t\tgoto L3;\n",t+='\tL4:\n\t\tprintf("%c", (char) 32);// Espacio\n\treturn;\n',t+="}\n"}},{key:"getImprimirTexto",value:function(){var t="void imprimirTextoXQ(){\n";t+="\t//Texto termina con -3\n";var e="tq"+this.contT;return this.contT=this.contT+1,t+="\tL1:\n\t\t"+e+" = XQHeap[(int)HQ];\n\t\tif("+e+' == -3) goto L2;\n\t\tprintf("%c", (char)'+e+");\n\t\tHQ = HQ + 1;\n\t\tgoto L1;\n\tL2:\n\t\tHQ = HQ + 1;\n\treturn;\n",t+="}\n"}}]),t}();!function(t){t[t.FROMHEAPTOXQHEAP=0]="FROMHEAPTOXQHEAP",t[t.IMPRIMIRCONSULTAXQ=1]="IMPRIMIRCONSULTAXQ",t[t.IMPRIMIRETIQUETAXQ=2]="IMPRIMIRETIQUETAXQ",t[t.IMPRIMIRTEXTOXQ=3]="IMPRIMIRTEXTOXQ",t[t.IMPRIMIRATRIBUTOXQ=4]="IMPRIMIRATRIBUTOXQ"}(n||(n={}))},,,,,,function(t,e,i){"use strict";var n;i.r(e),i.d(e,"TipoInstruccion3D",(function(){return n})),function(t){t[t.ASIGNORMAL=0]="ASIGNORMAL",t[t.ASIGARREGLO=1]="ASIGARREGLO",t[t.ARREGLOASIG=2]="ARREGLOASIG",t[t.ARREGLOASIGARREGLO=3]="ARREGLOASIGARREGLO",t[t.ETIQUETA=4]="ETIQUETA",t[t.GOTO=5]="GOTO",t[t.LLAMADA=6]="LLAMADA",t[t.PRINTF=7]="PRINTF",t[t.IF=8]="IF",t[t.RETURN=9]="RETURN",t[t.REPRESENTACION=10]="REPRESENTACION"}(n||(n={}))},,function(t,e,i){"use strict";i.r(e),i.d(e,"Operacion",(function(){return u})),i.d(e,"TipoOperacion",(function(){return n}));var n,r=i(6),o=i(7),s=i(13),a=i(3),c=i(0),l=i(9),u=function(){function t(e,i,n,o,s,a){Object(r.a)(this,t),this.linea=o,this.isXQuery=a,this.columna=s,this.op_izq=i,this.op_der=n,this.operacion=e}return Object(o.a)(t,[{key:"getTipo",value:function(t){return this.tipo}},{key:"get3Dir",value:function(t){var e,i=this.op_izq.get3Dir(t);null!=this.op_der&&(e=this.op_der.get3Dir(t));var n=[];return n.push(i),n.push(this.operacion),n.push(e),n}},{key:"getValorInicial",value:function(t){return""}},{key:"getValor",value:function(t){if(this.operacion===n.PAR){var e=this.op_izq.getValor(t);return this.tipo=this.op_izq.getTipo(t),e}var i,r,o,u,h,f,g;if(this.op_izq.getTipo(t)!=c.TipoPrim.ATRIBUTO&&this.op_izq.getTipo(t)!=c.TipoPrim.CONSULTA&&(u=this.op_izq.getValor(t)),h=this.op_izq.getTipo(t),this.op_der.getTipo(t)!=c.TipoPrim.ATRIBUTO&&(f=this.op_der.getValor(t)),g=this.op_der.getTipo(t),null===u){if(this.op_izq.getValorInicial(t)!==t.nombre)return;u=t.obtenerSimbolo(this.op_izq.getValorInicial(t))}switch(this.operacion){case n.SUMA:if(this.tipo=this.tipoDominanteAritmetica(h,g),this.tipo===c.TipoPrim.ERROR)return o;switch(h){case c.TipoPrim.INTEGER:switch(g){case c.TipoPrim.INTEGER:return o=(i=parseInt(u))+(r=parseInt(f));case c.TipoPrim.DOUBLE:return o=(i=parseFloat(u))+(r=parseFloat(f));default:return l.default.agregarError("semantico","No se puede sumar "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede sumar "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}case c.TipoPrim.DOUBLE:switch(g){case c.TipoPrim.INTEGER:case c.TipoPrim.DOUBLE:return o=(i=parseFloat(u))+(r=parseFloat(f));default:return l.default.agregarError("semantico","No se puede sumar "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede sumar "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}default:return l.default.agregarError("semantico","No se puede sumar "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede sumar "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}case n.RESTA:if(this.tipo=this.tipoDominanteAritmetica(h,g),this.tipo===c.TipoPrim.ERROR)return o;switch(h){case c.TipoPrim.INTEGER:switch(g){case c.TipoPrim.INTEGER:return o=(i=parseInt(u))-(r=parseInt(f));case c.TipoPrim.DOUBLE:return o=(i=parseFloat(u))-(r=parseFloat(f));default:return l.default.agregarError("semantico","No se puede restar "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede restar "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}case c.TipoPrim.DOUBLE:switch(g){case c.TipoPrim.INTEGER:case c.TipoPrim.DOUBLE:return o=(i=parseFloat(u))-(r=parseFloat(f));default:return l.default.agregarError("semantico","No se puede restar "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede restar "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}default:return l.default.agregarError("semantico","No se puede restar "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede restar "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}case n.MULTIPLICACION:if(this.tipo=this.tipoDominanteAritmetica(h,g),this.tipo===c.TipoPrim.ERROR)return o;switch(h){case c.TipoPrim.INTEGER:switch(g){case c.TipoPrim.INTEGER:return o=(i=parseInt(u))*(r=parseInt(f));case c.TipoPrim.DOUBLE:return o=(i=parseFloat(u))*(r=parseFloat(f));default:return l.default.agregarError("semantico","No se puede multiplicar "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede multiplicar "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}case c.TipoPrim.DOUBLE:switch(g){case c.TipoPrim.INTEGER:case c.TipoPrim.DOUBLE:return o=(i=parseFloat(u))*(r=parseFloat(f));default:return l.default.agregarError("semantico","No se puede multiplicar "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede multiplicar "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}default:return l.default.agregarError("semantico","No se puede multiplicar "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede multiplicar "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}case n.DIVISION:if(this.tipo=this.tipoDominanteAritmetica(h,g),this.tipo===c.TipoPrim.ERROR)return o;switch(h){case c.TipoPrim.INTEGER:switch(g){case c.TipoPrim.INTEGER:return i=parseInt(u),0!=(r=parseInt(f))?o=i/r:(l.default.agregarError("semantico","El denominador debe ser diferente de 0",this.linea,this.columna),"Error semantico: El denominador debe ser diferente de 0 en la linea "+this.linea+" y columna "+this.columna);case c.TipoPrim.DOUBLE:return i=parseFloat(u),0!=(r=parseFloat(f))?o=i/r:(l.default.agregarError("semantico","El denominador debe ser diferente de 0",this.linea,this.columna),"Error semantico: El denominador debe ser diferente de 0 en la linea "+this.linea+" y columna "+this.columna);default:return l.default.agregarError("semantico","No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}case c.TipoPrim.DOUBLE:switch(g){case c.TipoPrim.INTEGER:case c.TipoPrim.DOUBLE:return i=parseFloat(u),0!=(r=parseFloat(f))?o=i/r:(l.default.agregarError("semantico","El denominador debe ser diferente de 0",this.linea,this.columna),"Error semantico: El denominador debe ser diferente de 0 en la linea "+this.linea+" y columna "+this.columna);default:return l.default.agregarError("semantico","No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}default:return l.default.agregarError("semantico","No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}case n.MOD:if(this.tipo=this.tipoDominanteAritmetica(h,g),this.tipo===c.TipoPrim.ERROR)return o;switch(h){case c.TipoPrim.INTEGER:switch(g){case c.TipoPrim.INTEGER:return i=parseInt(u),0!=(r=parseInt(f))?o=i%r:(l.default.agregarError("semantico","El denominador debe ser diferente de 0",this.linea,this.columna),"Error semantico: El denominador debe ser diferente de 0 en la linea "+this.linea+" y columna "+this.columna);case c.TipoPrim.DOUBLE:return i=parseFloat(u),0!=(r=parseFloat(f))?o=i%r:(l.default.agregarError("semantico","El denominador debe ser diferente de 0",this.linea,this.columna),"Error semantico: El denominador debe ser diferente de 0 en la linea "+this.linea+" y columna "+this.columna);default:return l.default.agregarError("semantico","No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}case c.TipoPrim.DOUBLE:switch(g){case c.TipoPrim.INTEGER:case c.TipoPrim.DOUBLE:return o=(i=parseFloat(u))+(r=parseFloat(f));default:return l.default.agregarError("semantico","No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}default:return l.default.agregarError("semantico","No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}case n.MAYORQUE:switch(h){case c.TipoPrim.INTEGER:switch(g){case c.TipoPrim.INTEGER:case c.TipoPrim.DOUBLE:break;case c.TipoPrim.FUNCION:if(this.tipo=c.TipoPrim.FUNCION,"position()"==f.toLowerCase()){var m=parseInt(u),d=new s.a("Temporal",null,null),p=t.padre,T=1;return p.tsimbolos.forEach((function(e){var i=e.valor;m>T&&i.getNombre()===t.nombre&&d.agregarSimbolo(i.getNombre(),i),i.getTipo()===a.a.ETIQUETA&&i.getNombre()===t.nombre&&T++})),d}return l.default.agregarError("semantico","No se puede hacer relacional "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede hacer relacional "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna;case c.TipoPrim.IDENTIFIER:return this.tipo=c.TipoPrim.FUNCION,this.resolverOperacionNumeroId(u,f,t,n.MAYORQUE,c.TipoPrim.INTEGER)}break;case c.TipoPrim.DOUBLE:switch(h){case c.TipoPrim.IDENTIFIER:return this.tipo=c.TipoPrim.FUNCION,this.resolverOperacionNumeroId(u,f,t,n.MAYORQUE,c.TipoPrim.DOUBLE)}case c.TipoPrim.CADENA:break;case c.TipoPrim.ATRIBUTO:switch(g){case c.TipoPrim.CADENA:return this.resolverOperacionAtributoCadena(t,n.MAYORQUE)}break;case c.TipoPrim.FUNCION:if(this.tipo=c.TipoPrim.FUNCION,"position()"!=u.toLowerCase())return l.default.agregarError("semantico","No se puede hacer relacional "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede hacer relacional "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna;switch(g){case c.TipoPrim.INTEGER:var b=parseInt(f),E=new s.a("Temporal",null,null),I=t.padre,v=1;return I.tsimbolos.forEach((function(e){var i=e.valor;v>b&&i.getNombre()==t.nombre&&E.agregarSimbolo(i.getNombre(),i),i.getTipo()===a.a.ETIQUETA&&i.getNombre()==t.nombre&&v++})),E;default:return l.default.agregarError("semantico","No se puede hacer relacional "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede hacer relacional "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}case c.TipoPrim.IDENTIFIER:switch(this.tipo=c.TipoPrim.FUNCION,g){case c.TipoPrim.INTEGER:return this.resolverOperacionIdNumero(u,f,t,n.MAYORQUE,c.TipoPrim.INTEGER);case c.TipoPrim.DOUBLE:return this.resolverOperacionIdNumero(u,f,t,n.MAYORQUE,c.TipoPrim.DOUBLE);case c.TipoPrim.CADENA:return this.resolverOperacionIdCadena(u,f,t,n.MAYORQUE);case c.TipoPrim.IDENTIFIER:}}break;case n.MENORQUE:switch(h){case c.TipoPrim.INTEGER:switch(g){case c.TipoPrim.INTEGER:case c.TipoPrim.DOUBLE:break;case c.TipoPrim.FUNCION:if(this.tipo=c.TipoPrim.FUNCION,"position()"==f.toLowerCase()){var y=parseInt(u),A=new s.a("Temporal",null,null),O=t.padre,N=1;return O.tsimbolos.forEach((function(e){var i=e.valor;y<N&&i.getNombre()==t.nombre&&A.agregarSimbolo(t.nombre,i),i.getTipo()===a.a.ETIQUETA&&i.getNombre()===t.nombre&&N++})),A}return l.default.agregarError("semantico","No se puede hacer relacional "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede hacer relacional "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna;case c.TipoPrim.IDENTIFIER:return this.tipo=c.TipoPrim.FUNCION,this.resolverOperacionNumeroId(u,f,t,n.MENORQUE,c.TipoPrim.INTEGER)}break;case c.TipoPrim.DOUBLE:switch(h){case c.TipoPrim.IDENTIFIER:return this.tipo=c.TipoPrim.FUNCION,this.resolverOperacionNumeroId(u,f,t,n.MENORQUE,c.TipoPrim.DOUBLE)}case c.TipoPrim.CADENA:break;case c.TipoPrim.ATRIBUTO:switch(g){case c.TipoPrim.CADENA:return this.resolverOperacionAtributoCadena(t,n.MENORQUE)}break;case c.TipoPrim.FUNCION:if(this.tipo=c.TipoPrim.FUNCION,"position()"==u.toLowerCase())switch(g){case c.TipoPrim.INTEGER:var R=parseInt(f),_=new s.a("Temporal",null,null),S=t.padre,k=1;return S.tsimbolos.forEach((function(e){var i=e.valor;k<R&&i.getNombre()===t.nombre&&_.agregarSimbolo(t.nombre,i),i.getTipo()===a.a.ETIQUETA&&i.getNombre()===t.nombre&&k++})),_;default:return l.default.agregarError("semantico","No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}break;case c.TipoPrim.IDENTIFIER:switch(this.tipo=c.TipoPrim.FUNCION,g){case c.TipoPrim.INTEGER:return this.resolverOperacionIdNumero(u,f,t,n.MENORQUE,c.TipoPrim.INTEGER);case c.TipoPrim.DOUBLE:return this.resolverOperacionIdNumero(u,f,t,n.MENORQUE,c.TipoPrim.DOUBLE);case c.TipoPrim.CADENA:return this.resolverOperacionIdCadena(u,f,t,n.MENORQUE);case c.TipoPrim.IDENTIFIER:}}break;case n.MAYORIGUALQUE:switch(h){case c.TipoPrim.INTEGER:switch(g){case c.TipoPrim.INTEGER:case c.TipoPrim.DOUBLE:break;case c.TipoPrim.FUNCION:if(this.tipo=c.TipoPrim.FUNCION,"position()"==f.toLowerCase()){var w=parseInt(u),D=new s.a("Temporal",null,null),U=t.padre,P=1;return U.tsimbolos.forEach((function(e){var i=e.valor;w>=P&&i.getNombre()==t.nombre&&D.agregarSimbolo(t.nombre,i),i.getTipo()===a.a.ETIQUETA&&i.getNombre()===t.nombre&&P++})),D}return l.default.agregarError("semantico","No se puede hacer relacional "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede hacer relacional "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna;case c.TipoPrim.IDENTIFIER:return this.tipo=c.TipoPrim.FUNCION,this.resolverOperacionNumeroId(u,f,t,n.MAYORIGUALQUE,c.TipoPrim.INTEGER)}break;case c.TipoPrim.DOUBLE:switch(h){case c.TipoPrim.IDENTIFIER:return this.tipo=c.TipoPrim.FUNCION,this.resolverOperacionNumeroId(u,f,t,n.MAYORIGUALQUE,c.TipoPrim.DOUBLE)}case c.TipoPrim.CADENA:break;case c.TipoPrim.ATRIBUTO:switch(g){case c.TipoPrim.CADENA:return this.resolverOperacionAtributoCadena(t,n.MAYORIGUALQUE)}break;case c.TipoPrim.FUNCION:if(this.tipo=c.TipoPrim.FUNCION,"position()"==u.toLowerCase())switch(g){case c.TipoPrim.INTEGER:var L=parseInt(f),X=new s.a("Temporal",null,null),C=t.padre,x=1;return C.tsimbolos.forEach((function(e){var i=e.valor;x>=L&&i.getNombre()===t.nombre&&X.agregarSimbolo(t.nombre,i),i.getTipo()===a.a.ETIQUETA&&i.getNombre()===t.nombre&&x++})),X;default:return l.default.agregarError("semantico","No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}break;case c.TipoPrim.IDENTIFIER:switch(this.tipo=c.TipoPrim.FUNCION,g){case c.TipoPrim.INTEGER:return this.resolverOperacionIdNumero(u,f,t,n.MAYORIGUALQUE,c.TipoPrim.INTEGER);case c.TipoPrim.DOUBLE:return this.resolverOperacionIdNumero(u,f,t,n.MAYORIGUALQUE,c.TipoPrim.DOUBLE);case c.TipoPrim.CADENA:return this.resolverOperacionIdCadena(u,f,t,n.MAYORIGUALQUE);case c.TipoPrim.IDENTIFIER:}}break;case n.MENORIGUALQUE:switch(h){case c.TipoPrim.INTEGER:switch(g){case c.TipoPrim.INTEGER:case c.TipoPrim.DOUBLE:break;case c.TipoPrim.FUNCION:if(this.tipo=c.TipoPrim.FUNCION,"position()"==f.toLowerCase()){var Q=parseInt(u),j=new s.a("Temporal",null,null),M=t.padre,$=1;return M.tsimbolos.forEach((function(e){var i=e.valor;Q<=$&&i.getNombre()==t.nombre&&j.agregarSimbolo(t.nombre,i),i.getTipo()===a.a.ETIQUETA&&i.getNombre()===t.nombre&&$++})),j}return l.default.agregarError("semantico","No se puede hacer relacional "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede hacer relacional "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna;case c.TipoPrim.IDENTIFIER:return this.tipo=c.TipoPrim.FUNCION,this.resolverOperacionNumeroId(u,f,t,n.MENORIGUALQUE,c.TipoPrim.INTEGER)}break;case c.TipoPrim.DOUBLE:switch(h){case c.TipoPrim.IDENTIFIER:return this.tipo=c.TipoPrim.FUNCION,this.resolverOperacionNumeroId(u,f,t,n.MENORIGUALQUE,c.TipoPrim.DOUBLE)}case c.TipoPrim.CADENA:break;case c.TipoPrim.ATRIBUTO:switch(g){case c.TipoPrim.CADENA:return this.resolverOperacionAtributoCadena(t,n.MENORIGUALQUE)}break;case c.TipoPrim.FUNCION:if(this.tipo=c.TipoPrim.FUNCION,"position()"==u.toLowerCase())switch(g){case c.TipoPrim.INTEGER:var F=parseInt(f),G=new s.a("Temporal",null,null),H=t.padre,B=1;return H.tsimbolos.forEach((function(e){var i=e.valor;B<=F&&i.getNombre()===t.nombre&&G.agregarSimbolo(t.nombre,i),i.getTipo()===a.a.ETIQUETA&&i.getNombre()===t.nombre&&B++})),G;default:return l.default.agregarError("semantico","No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}break;case c.TipoPrim.IDENTIFIER:switch(this.tipo=c.TipoPrim.FUNCION,g){case c.TipoPrim.INTEGER:return this.resolverOperacionIdNumero(u,f,t,n.MENORIGUALQUE,c.TipoPrim.INTEGER);case c.TipoPrim.DOUBLE:return this.resolverOperacionIdNumero(u,f,t,n.MENORIGUALQUE,c.TipoPrim.DOUBLE);case c.TipoPrim.IDENTIFIER:}}break;case n.IGUAL:switch(h){case c.TipoPrim.INTEGER:switch(g){case c.TipoPrim.INTEGER:case c.TipoPrim.DOUBLE:break;case c.TipoPrim.FUNCION:if(this.tipo=c.TipoPrim.FUNCION,"position()"==f.toLowerCase()){var z=parseInt(u),V=new s.a("Temporal",null,null),q=t.padre,Y=1;return q.tsimbolos.forEach((function(e){var i=e.valor;z===Y&&i.getNombre()==t.nombre&&V.agregarSimbolo(t.nombre,i),i.getTipo()===a.a.ETIQUETA&&i.getNombre()===t.nombre&&Y++})),V}return l.default.agregarError("semantico","No se puede hacer relacional "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede hacer relacional "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna;case c.TipoPrim.IDENTIFIER:return this.tipo=c.TipoPrim.FUNCION,this.resolverOperacionNumeroId(u,f,t,n.IGUAL,c.TipoPrim.INTEGER)}break;case c.TipoPrim.DOUBLE:switch(h){case c.TipoPrim.IDENTIFIER:return this.tipo=c.TipoPrim.FUNCION,this.resolverOperacionNumeroId(u,f,t,n.IGUAL,c.TipoPrim.DOUBLE)}case c.TipoPrim.CADENA:switch(g){case c.TipoPrim.ATRIBUTO:this.tipo=c.TipoPrim.FUNCION,u=this.op_izq.getValor(t),f=this.op_der.getValorInicial(t);var W=new s.a("Temporal",null,null);return t.padre.tsimbolos.forEach((function(e){var i=e.valor;if(i.getTipo()===a.a.ETIQUETA&&i.getNombre()===t.nombre){var n=!1;i.valor.tsimbolos.forEach((function(t){var e=t.valor;e.getTipo()!==a.a.ATRIBUTO||"*"!==f&&e.getNombre()!==f||u===e.getValor()&&(n||(W.agregarSimbolo(i.getNombre(),i),n=!0))}))}})),W}break;case c.TipoPrim.ATRIBUTO:switch(g){case c.TipoPrim.CADENA:return this.resolverOperacionAtributoCadena(t,n.IGUAL);case c.TipoPrim.ATRIBUTO:this.tipo=c.TipoPrim.FUNCION,f=this.op_der.getValorInicial(t),u=this.op_izq.getValorInicial(t);var Z=new s.a("Temporal",null,null);return t.padre.tsimbolos.forEach((function(e){var i=e.valor;if(i.getTipo()===a.a.ETIQUETA&&i.getNombre()===t.nombre){var n=!1;i.valor.tsimbolos.forEach((function(t){var e=t.valor;e.getTipo()!==a.a.ATRIBUTO||"*"!==u&&e.getNombre()!==u||f===u&&(n||(Z.agregarSimbolo(i.getNombre(),i),n=!0))}))}})),Z}break;case c.TipoPrim.FUNCION:if(this.tipo=c.TipoPrim.FUNCION,"position()"==u.toLowerCase())switch(g){case c.TipoPrim.INTEGER:var K=parseInt(f),J=new s.a("Temporal",null,null),tt=t.padre,et=1;return tt.tsimbolos.forEach((function(e){var i=e.valor;et===K&&i.getNombre()===t.nombre&&J.agregarSimbolo(t.nombre,i),i.getTipo()===a.a.ETIQUETA&&i.getNombre()===t.nombre&&et++})),J;default:return l.default.agregarError("semantico","No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}break;case c.TipoPrim.IDENTIFIER:switch(this.tipo=c.TipoPrim.FUNCION,g){case c.TipoPrim.INTEGER:return this.resolverOperacionIdNumero(u,f,t,n.IGUAL,c.TipoPrim.INTEGER);case c.TipoPrim.DOUBLE:return this.resolverOperacionIdNumero(u,f,t,n.IGUAL,c.TipoPrim.DOUBLE);case c.TipoPrim.CADENA:return this.resolverOperacionIdCadena(u,f,t,n.IGUAL);case c.TipoPrim.IDENTIFIER:}break;case c.TipoPrim.CONSULTA:this.tipo=c.TipoPrim.FUNCION;new s.a("Temporal",null,null);switch(g){case c.TipoPrim.CADENA:var it=this.op_izq.getValorInicial(t),nt=it[it.length-1].isFromRoot(),rt=it[it.length-1].getNombre(),ot=this.op_izq.getValor(t);return this.resolverConsultaRecursiva(ot,f,rt,nt,n.IGUAL);default:return null}}break;case n.DIFERENTEQUE:switch(h){case c.TipoPrim.INTEGER:switch(g){case c.TipoPrim.INTEGER:case c.TipoPrim.DOUBLE:break;case c.TipoPrim.FUNCION:if(this.tipo=c.TipoPrim.FUNCION,"position()"==f.toLowerCase()){var st=parseInt(u),at=new s.a("Temporal",null,null),ct=t.padre,lt=1;return ct.tsimbolos.forEach((function(e){var i=e.valor;st!=lt&&i.getNombre()==t.nombre&&at.agregarSimbolo(t.nombre,i),i.getTipo()===a.a.ETIQUETA&&i.getNombre()===t.nombre&&lt++})),at}return l.default.agregarError("semantico","No se puede hacer relacional "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede hacer relacional "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna;case c.TipoPrim.IDENTIFIER:return this.tipo=c.TipoPrim.FUNCION,this.resolverOperacionNumeroId(u,f,t,n.DIFERENTEQUE,c.TipoPrim.INTEGER)}break;case c.TipoPrim.DOUBLE:switch(h){case c.TipoPrim.IDENTIFIER:return this.tipo=c.TipoPrim.FUNCION,this.resolverOperacionNumeroId(u,f,t,n.DIFERENTEQUE,c.TipoPrim.DOUBLE)}case c.TipoPrim.CADENA:switch(g){case c.TipoPrim.ATRIBUTO:this.tipo=c.TipoPrim.FUNCION,u=this.op_izq.getValor(t),f=this.op_der.getValorInicial(t);var ut=new s.a("Temporal",null,null);return t.padre.tsimbolos.forEach((function(e){var i=e.valor;i.getTipo()===a.a.ETIQUETA&&i.getNombre()===t.nombre&&i.valor.tsimbolos.forEach((function(t){var e=t.valor;e.getTipo()!==a.a.ATRIBUTO||"*"!==f&&e.getNombre()!==f||u!=e.getValor()&&ut.agregarSimbolo(i.getNombre(),i)}))})),ut}break;case c.TipoPrim.ATRIBUTO:switch(g){case c.TipoPrim.CADENA:return this.resolverOperacionAtributoCadena(t,n.DIFERENTEQUE)}break;case c.TipoPrim.FUNCION:if(this.tipo=c.TipoPrim.FUNCION,"position()"==u.toLowerCase())switch(g){case c.TipoPrim.INTEGER:var ht=parseInt(f),ft=new s.a("Temporal",null,null),gt=t.padre,mt=1;return gt.tsimbolos.forEach((function(e){var i=e.valor;mt!=ht&&i.getNombre()===t.nombre&&ft.agregarSimbolo(t.nombre,i),i.getTipo()===a.a.ETIQUETA&&i.getNombre()===t.nombre&&mt++})),ft;default:return l.default.agregarError("semantico","No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g),this.linea,this.columna),"Error semantico: No se puede dividir "+this.getStringTipo(h)+" con "+this.getStringTipo(g)+" en la linea "+this.linea+" y columna "+this.columna}break;case c.TipoPrim.IDENTIFIER:switch(this.tipo=c.TipoPrim.FUNCION,g){case c.TipoPrim.INTEGER:return void 0!=this.isXQuery&&this.isXQuery?this.XQresolverOperacionIdNumero(u,f,t,n.DIFERENTEQUE,c.TipoPrim.INTEGER):this.resolverOperacionIdNumero(u,f,t,n.DIFERENTEQUE,c.TipoPrim.INTEGER);case c.TipoPrim.DOUBLE:return this.resolverOperacionIdNumero(u,f,t,n.DIFERENTEQUE,c.TipoPrim.DOUBLE);case c.TipoPrim.CADENA:return this.resolverOperacionIdCadena(u,f,t,n.DIFERENTEQUE);case c.TipoPrim.IDENTIFIER:}}break;case n.AND:case n.OR:}}},{key:"getStringTipo",value:function(t){switch(t){case c.TipoPrim.INTEGER:return"entero";case c.TipoPrim.DOUBLE:return"doble";case c.TipoPrim.CADENA:return"cadena";case c.TipoPrim.IDENTIFIER:return"id";case c.TipoPrim.ATRIBUTO:return"atributo";case c.TipoPrim.DOT:return"dot";case c.TipoPrim.BOOLEAN:return"boolean";case c.TipoPrim.FUNCION:return"Funcion mae";case c.TipoPrim.CONSULTA:return"Consulta";default:return"ERROR"}}},{key:"buscarTexto",value:function(t){for(var e=0;e<t.valor.tsimbolos.length;e++){var i=t.valor.tsimbolos[e].valor;if(i.getTipo()===a.a.STRING)return i.getValor()}return null}},{key:"tipoDominanteAritmetica",value:function(t,e){return t==c.TipoPrim.ERROR||e==c.TipoPrim.ERROR?c.TipoPrim.ERROR:t==c.TipoPrim.DOUBLE||e==c.TipoPrim.DOUBLE?c.TipoPrim.DOUBLE:t==c.TipoPrim.INTEGER||e==c.TipoPrim.INTEGER?c.TipoPrim.INTEGER:c.TipoPrim.ERROR}},{key:"tipoDominanteOperacion",value:function(t,e){return t==c.TipoPrim.ERROR||e==c.TipoPrim.ERROR?c.TipoPrim.ERROR:t==c.TipoPrim.DOUBLE||e==c.TipoPrim.DOUBLE?c.TipoPrim.DOUBLE:t==c.TipoPrim.INTEGER||e==c.TipoPrim.INTEGER?c.TipoPrim.INTEGER:c.TipoPrim.ERROR}},{key:"XQresolverOperacionIdNumero",value:function(t,e,i,r,o){var a,l=this;a=o===c.TipoPrim.INTEGER?parseInt(e):parseFloat(e);var u=t.getNombre(),h=new s.a("Temporal",null,null);return i.tsimbolos.forEach((function(t){var e=t.valor;if(e.getNombre()===u){var i=l.buscarTexto(e);if(null!=i){var o=+i;switch(r){case n.MAYORQUE:o>a&&h.agregarSimbolo(e.nombre,e);break;case n.MENORQUE:o<a&&h.agregarSimbolo(e.nombre,e);break;case n.MAYORIGUALQUE:o>=a&&h.agregarSimbolo(e.nombre,e);break;case n.MENORIGUALQUE:o<=a&&h.agregarSimbolo(e.nombre,e);break;case n.IGUAL:o===a&&h.agregarSimbolo(e.nombre,e);break;case n.DIFERENTEQUE:o!=a&&h.agregarSimbolo(e.nombre,e)}}}})),h}},{key:"resolverOperacionIdNumero",value:function(t,e,i,r,o){var l,u=this;if(void 0!=this.isXQuery&&this.isXQuery)return this.XQresolverOperacionIdNumero(t,e,i,r,o);l=o===c.TipoPrim.INTEGER?parseInt(e):parseFloat(e);var h=t.getNombre(),f=new s.a("Temporal",null,null);return i.padre.tsimbolos.forEach((function(t){var e=t.valor;e.getTipo()===a.a.ETIQUETA&&e.getNombre()===i.nombre&&e.valor.tsimbolos.forEach((function(t){var i=t.valor;if(i.getNombre()===h){var o=u.buscarTexto(i);if(null!=o){var s=+o;switch(r){case n.MAYORQUE:s>l&&f.agregarSimbolo(e.nombre,e);break;case n.MENORQUE:s<l&&f.agregarSimbolo(e.nombre,e);break;case n.MAYORIGUALQUE:s>=l&&f.agregarSimbolo(e.nombre,e);break;case n.MENORIGUALQUE:s<=l&&f.agregarSimbolo(e.nombre,e);break;case n.IGUAL:s===l&&f.agregarSimbolo(e.nombre,e);break;case n.DIFERENTEQUE:s!=l&&f.agregarSimbolo(e.nombre,e)}}}}))})),f}},{key:"resolverOperacionIdCadena",value:function(t,e,i,r){var o=this;if(void 0!=this.isXQuery&&this.isXQuery)return this.XQresolverOperacionIdCadena(t,e,i,r);var c=e,l=t.getNombre(),u=new s.a("Temporal",null,null);return i.padre.tsimbolos.forEach((function(t){var e=t.valor;e.getTipo()===a.a.ETIQUETA&&e.getNombre()===i.nombre&&e.valor.tsimbolos.forEach((function(t){var i=t.valor;if(i.getNombre()===l){var s=o.buscarTexto(i);if(c=c.replace('"',""),null!=s)switch(r){case n.MAYORQUE:s>c&&u.agregarSimbolo(e.nombre,e);break;case n.MENORQUE:s<c&&u.agregarSimbolo(e.nombre,e);break;case n.MAYORIGUALQUE:s>=c&&u.agregarSimbolo(e.nombre,e);break;case n.MENORIGUALQUE:s<=c&&u.agregarSimbolo(e.nombre,e);break;case n.IGUAL:s===c&&u.agregarSimbolo(e.nombre,e);break;case n.DIFERENTEQUE:s!=c&&u.agregarSimbolo(e.nombre,e)}}}))})),u}},{key:"XQresolverOperacionIdCadena",value:function(t,e,i,r){var o=this,a=e,c=t.getNombre(),l=new s.a("Temporal",null,null);return i.tsimbolos.forEach((function(t){var e=t.valor;if(e.getNombre()===c){var i=o.buscarTexto(e);if(a=(a=(a=(a=a.replace('"',"")).replace('"',"")).replace("'","")).replace("'",""),null!=i)switch(r){case n.MAYORQUE:i>a&&l.agregarSimbolo(e.nombre,e);break;case n.MENORQUE:i<a&&l.agregarSimbolo(e.nombre,e);break;case n.MAYORIGUALQUE:i>=a&&l.agregarSimbolo(e.nombre,e);break;case n.MENORIGUALQUE:i<=a&&l.agregarSimbolo(e.nombre,e);break;case n.IGUAL:i==a&&l.agregarSimbolo(e.nombre,e);break;case n.DIFERENTEQUE:i!=a&&l.agregarSimbolo(e.nombre,e)}}})),l}},{key:"resolverOperacionAtributoCadena",value:function(t,e){if(this.tipo=c.TipoPrim.FUNCION,void 0!=this.isXQuery&&this.isXQuery)return this.XQresolverOperacionAtributoCadena(t,e);var i=this.op_der.getValor(t),r=this.op_izq.getValorInicial(t),o=new s.a("Temporal",null,null);return t.padre.tsimbolos.forEach((function(s){var c=s.valor;if(c.getTipo()===a.a.ETIQUETA&&c.getNombre()===t.nombre){var l=!1;c.valor.tsimbolos.forEach((function(t){var s=t.valor;if(s.getTipo()===a.a.ATRIBUTO&&("*"===r||s.getNombre()===r))switch(e){case n.MAYORQUE:i>s.getValor()&&(l||(o.agregarSimbolo(c.getNombre(),c),l=!0));break;case n.MENORQUE:i<s.getValor()&&(l||(o.agregarSimbolo(c.getNombre(),c),l=!0));break;case n.MAYORIGUALQUE:i>=s.getValor()&&(l||(o.agregarSimbolo(c.getNombre(),c),l=!0));break;case n.MENORIGUALQUE:i<=s.getValor()&&(l||(o.agregarSimbolo(c.getNombre(),c),l=!0));break;case n.IGUAL:i===s.getValor()&&(l||(o.agregarSimbolo(c.getNombre(),c),l=!0));break;case n.DIFERENTEQUE:i!=s.getValor()&&(l||(o.agregarSimbolo(c.getNombre(),c),l=!0))}}))}})),o}},{key:"XQresolverOperacionAtributoCadena",value:function(t,e){this.tipo=c.TipoPrim.FUNCION;var i=this.op_der.getValor(t),r=this.op_izq.getValorInicial(t),o=new s.a("Temporal",null,null);return t.tsimbolos.forEach((function(t){var s=t.valor;if(s.getNombre()===r){var a=s.valor;switch(i=(i=(i=(i=i.replace('"',"")).replace('"',"")).replace("'","")).replace("'",""),a=(a=(a=(a=a.replace('"',"")).replace('"',"")).replace('"',"")).replace('"',""),e){case n.MAYORQUE:a>i&&o.agregarSimbolo(s.nombre,s);break;case n.MENORQUE:a<i&&o.agregarSimbolo(s.nombre,s);break;case n.MAYORIGUALQUE:a>=i&&o.agregarSimbolo(s.nombre,s);break;case n.MENORIGUALQUE:a<=i&&o.agregarSimbolo(s.nombre,s);break;case n.IGUAL:a===i&&o.agregarSimbolo(s.nombre,s);break;case n.DIFERENTEQUE:a!=i&&o.agregarSimbolo(s.nombre,s)}}})),o}},{key:"resolverConsultaRecursiva",value:function(t,e,i,r,o){var c=this,l=new s.a("Temporal",null,null),u=!1;return t.tsimbolos.forEach((function(t){var s=t.valor;u=!1,s.valor.tsimbolos.forEach((function(t){var h=t.valor;h.getTipo()===a.a.ETIQUETA&&h.valor.tsimbolos.forEach((function(t){var f=t.valor;if(o===n.IGUAL)if(f.getTipo()!==a.a.ATRIBUTO||"*"!==i&&f.getNombre()!==i||f.getValor()!==e){if(h.getTipo()===a.a.ETIQUETA&&!r){c.buscarAtributosRecursivamente(h,e,i,o)&&(u||(l.agregarSimbolo(s.nombre,s),u=!0))}}else u||(l.agregarSimbolo(s.nombre,s),u=!0);else if(o===n.DIFERENTEQUE)if(f.getTipo()!==a.a.ATRIBUTO||"*"!==i&&f.getNombre()!==i||f.getValor()===e){if(h.getTipo()===a.a.ETIQUETA&&!r){c.buscarAtributosRecursivamente(h,e,i,o)&&(u||(l.agregarSimbolo(s.nombre,s),u=!0))}}else u||l.agregarSimbolo(s.nombre,s)}))}))})),l}},{key:"buscarAtributosRecursivamente",value:function(t,e,i,r){for(var o=0;o<t.valor.tsimbolos.length;o++){var s=t.valor.tsimbolos[o].valor;if(r===n.IGUAL){if(s.getTipo()===a.a.ATRIBUTO&&("*"===i||s.getNombre()===i)&&s.getValor()===e)return!0;if(s.getTipo()===a.a.ETIQUETA&&this.buscarAtributosRecursivamente(s,e,i,r))return!0}else if(r===n.DIFERENTEQUE){if(s.getTipo()===a.a.ATRIBUTO&&("*"===i||s.getNombre()===i)&&s.getValor()!==e)return!0;if(s.getTipo()===a.a.ETIQUETA&&this.buscarAtributosRecursivamente(s,e,i,r))return!0}}return!1}},{key:"resolverOperacionNumeroId",value:function(t,e,i,r,o){var l,u=this;l=o===c.TipoPrim.INTEGER?parseInt(t):parseFloat(t);var h=e.getNombre(),f=new s.a("Temporal",null,null);return i.padre.tsimbolos.forEach((function(t){var e=t.valor;e.getTipo()===a.a.ETIQUETA&&e.getNombre()===i.nombre&&e.valor.tsimbolos.forEach((function(t){var i=t.valor;if(i.getNombre()===h){var o=u.buscarTexto(i);if(null!=o){var s=+o;switch(r){case n.MAYORQUE:l>s&&f.agregarSimbolo(e.nombre,e);break;case n.MENORQUE:l<s&&f.agregarSimbolo(e.nombre,e);break;case n.MAYORIGUALQUE:l>=s&&f.agregarSimbolo(e.nombre,e);break;case n.MENORIGUALQUE:l<=s&&f.agregarSimbolo(e.nombre,e);break;case n.IGUAL:l===s&&f.agregarSimbolo(e.nombre,e);break;case n.DIFERENTEQUE:l!=s&&f.agregarSimbolo(e.nombre,e)}}}}))})),f}}]),t}();!function(t){t[t.SUMA=0]="SUMA",t[t.RESTA=1]="RESTA",t[t.MULTIPLICACION=2]="MULTIPLICACION",t[t.DIVISION=3]="DIVISION",t[t.MAYORQUE=4]="MAYORQUE",t[t.MENORQUE=5]="MENORQUE",t[t.MAYORIGUALQUE=6]="MAYORIGUALQUE",t[t.MENORIGUALQUE=7]="MENORIGUALQUE",t[t.IGUAL=8]="IGUAL",t[t.DIFERENTEQUE=9]="DIFERENTEQUE",t[t.OR=10]="OR",t[t.AND=11]="AND",t[t.NOT=12]="NOT",t[t.MOD=13]="MOD",t[t.PAR=14]="PAR",t[t.XQEQ=15]="XQEQ",t[t.XQGT=16]="XQGT",t[t.XQLT=17]="XQLT",t[t.XQNE=18]="XQNE",t[t.XQLE=19]="XQLE",t[t.XQGE=20]="XQGE"}(n||(n={}))},,,,,,function(t,e,i){"use strict";i.r(e),i.d(e,"Asignacion3D",(function(){return s}));var n=i(6),r=i(7),o=i(27),s=function(){function t(e,i,r,o,s,a){Object(n.a)(this,t),this.fila=s,this.columna=a,this.tipo=e,this.codigo3D=o,this.expresion=r,this.identificador=i,this.eliminada=!1,this.optimizada=!1}return Object(r.a)(t,[{key:"isOptimizada",value:function(){return this.optimizada}},{key:"setOptimizada",value:function(t){this.optimizada=t}},{key:"isEliminada",value:function(){return this.eliminada}},{key:"setEliminada",value:function(t){this.eliminada=t}},{key:"getTipoInstruccion",value:function(){return this.tipo}},{key:"setCodigo3D",value:function(t){this.codigo3D=t}},{key:"getCodigo3D",value:function(){return this.tipo===o.TipoInstruccion3D.ASIGNORMAL&&(this.codigo3D=this.identificador+" = "+this.expresion.getCodigo3D()+";"),this.codigo3D}}]),t}()},,function(t,e,i){"use strict";var n;i.r(e),i.d(e,"TipoExpresion3D",(function(){return n})),function(t){t[t.PRIMITIVA=0]="PRIMITIVA",t[t.OPERACION=1]="OPERACION"}(n||(n={}))},,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e),i.d(e,"cstXmlAsc",(function(){return s})),i.d(e,"cstXmlDesc",(function(){return a})),i.d(e,"cstXpathAsc",(function(){return c})),i.d(e,"cstXpathDesc",(function(){return l}));var n=i(6),r=i(7),o=function(){function t(){Object(n.a)(this,t),this.id=0,this.pila=[],this.raiz=null}return Object(r.a)(t,[{key:"agregarPila",value:function(t){this.pila.push(t)}},{key:"obtenerUltimoNodo",value:function(){return this.pila.pop()}},{key:"setRaiz",value:function(t){this.raiz=t}},{key:"getRaiz",value:function(){return this.raiz}},{key:"getId",value:function(){return this.id=this.id+1,this.id}}]),t}(),s=new o,a=new o,c=new o,l=new o},function(t,e,i){"use strict";i.r(e),i.d(e,"Etiqueta3D",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r,o,s){Object(n.a)(this,t),this.tipo=e,this.fila=o,this.identificador=i,this.codigo3D=r,this.columna=s,this.eliminada=!1,this.optimizada=!1}return Object(r.a)(t,[{key:"isOptimizada",value:function(){return this.optimizada}},{key:"setOptimizada",value:function(t){this.optimizada=t}},{key:"isEliminada",value:function(){return this.eliminada}},{key:"setEliminada",value:function(t){this.eliminada=t}},{key:"getCodigo3D",value:function(){return this.codigo3D}},{key:"setCodigo3D",value:function(t){this.codigo3D=t}},{key:"getTipoInstruccion",value:function(){return this.tipo}}]),t}()},,,,,,,,,function(t,e,i){"use strict";i.r(e),i.d(e,"Atributo",(function(){return c}));var n=i(6),r=i(7),o=i(18),s=i(3),a=i(9),c=function(){function t(e,i,r,o){Object(n.a)(this,t),this.identificador=e,this.valor=i,this.linea=r,this.columna=o}return Object(r.a)(t,[{key:"ejecutar",value:function(t){t.existeSimbolo(this.identificador)?a.default.agregarError("semantico","Ya existe el simbolo "+this.identificador,this.linea,this.columna):t.agregarSimbolo(this.identificador,new o.a(s.a.ATRIBUTO,this.identificador,this.valor,this.linea,this.columna))}}]),t}()},,,,,,,,,,function(t,e,i){"use strict";i.r(e),i.d(e,"Objeto",(function(){return c}));var n=i(6),r=i(7),o=i(13),s=i(18),a=i(3),c=function(){function t(e,i,r,o,s,a,c){Object(n.a)(this,t),this.identificador=e,this.texto=i,this.linea=r,this.columna=o,this.listaAtributos=s,this.listaObjetos=a,this.isUnica=c}return Object(r.a)(t,[{key:"ejecutar",value:function(t){var e=new o.a(this.identificador,t,t.global);e.agregarSimbolo("Etiqueta unica",new s.a(a.a.ETIQUETA_UNIQUE,"Etiqueta unica",this.isUnica,this.linea,this.columna)),this.listaAtributos.forEach((function(t){t.ejecutar(e)})),this.listaObjetos.forEach((function(t){t.ejecutar(e)})),""!==this.texto&&e.agregarSimbolo("Texto",new s.a(a.a.STRING,"Texto",this.texto,this.linea,this.columna)),t.agregarSimbolo(this.identificador,new s.a(this.isUnica?a.a.ETIQUETA_UNIQUE:a.a.ETIQUETA,this.identificador,e,this.linea,this.columna))}}]),t}()},,,function(t,e,i){"use strict";i.r(e),i.d(e,"If3D",(function(){return a}));var n=i(6),r=i(7),o=i(37),s=i(20),a=function(){function t(e,i,r,o,s,a){Object(n.a)(this,t),this.fila=s,this.columna=a,this.tipo=e,this.codigo3D=o,this.condicion=i,this.gotoEtiqueta=r,this.eliminada=!1,this.optimizada=!1}return Object(r.a)(t,[{key:"isOptimizada",value:function(){return this.optimizada}},{key:"setOptimizada",value:function(t){this.optimizada=t}},{key:"isEliminada",value:function(){return this.eliminada}},{key:"setEliminada",value:function(t){this.eliminada=t}},{key:"getTipoInstruccion",value:function(){return this.tipo}},{key:"negarCondicion",value:function(){if(this.condicion instanceof s.Operacion3D){var t=this.condicion.negarCondicion();if(t){var e=new s.Operacion3D(o.TipoExpresion3D.OPERACION,t,this.condicion.op_izq,this.condicion.op_der,this.condicion.codigo3D,-1,-1),i=Object.create(e);return this.condicion=Object.create(i),i}}}},{key:"setCodigo3D",value:function(t){this.codigo3D=t}},{key:"getCodigo3D",value:function(){return this.codigo3D="if ("+this.condicion.getCodigo3D()+")",this.codigo3D+=" "+this.gotoEtiqueta.getCodigo3D(),this.codigo3D}}]),t}()},,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e),i.d(e,"Goto3D",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r,o,s){Object(n.a)(this,t),this.fila=o,this.columna=s,this.tipo=e,this.codigo3D=r,this.identificador=i,this.eliminada=!1,this.optimizada=!1}return Object(r.a)(t,[{key:"isOptimizada",value:function(){return this.optimizada}},{key:"setOptimizada",value:function(t){this.optimizada=t}},{key:"isEliminada",value:function(){return this.eliminada}},{key:"setEliminada",value:function(t){this.eliminada=t}},{key:"getTipoInstruccion",value:function(){return this.tipo}},{key:"changeReferencia",value:function(t){this.identificador=t}},{key:"getReferencia",value:function(){return this.identificador}},{key:"setCodigo3D",value:function(t){this.codigo3D=t}},{key:"getCodigo3D",value:function(){return this.codigo3D="goto "+this.identificador+";",this.codigo3D}}]),t}()},,,,,,,function(t,e,i){"use strict";i.r(e),i.d(e,"Predicate",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r){Object(n.a)(this,t),this.expresion=e,this.linea=i,this.columna=r}return Object(r.a)(t,[{key:"getTipo",value:function(){return this.tipo}},{key:"get3Dir",value:function(t){return this.expresion.get3Dir(t)}},{key:"getValor",value:function(t){var e=this.expresion.getValor(t);return this.tipo=this.expresion.getTipo(t),e}},{key:"getValorInicial",value:function(t){}}]),t}()},,,,,function(t,e,i){"use strict";i.r(e),i.d(e,"Main",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r,o,s){Object(n.a)(this,t),this.fila=o,this.codigo3Dir=r,this.columna=s,this.tipo=e,this.listaInstrucciones=i}return Object(r.a)(t,[{key:"getCodigo3Dir",value:function(){var t="void main() {\n";return this.listaInstrucciones.forEach((function(e){t+="    "+e.getCodigo3D()+"\n"})),t+="}"}},{key:"setCodigo3Dir",value:function(t){this.codigo3Dir=t}},{key:"optimizar",value:function(){return""}}]),t}()},function(t,e,i){"use strict";i.r(e),i.d(e,"Metodo",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r,o,s){Object(n.a)(this,t),this.fila=o,this.columna=s,this.tipo=e,this.codigo3Dir=r,this.listaInstrucciones=i}return Object(r.a)(t,[{key:"getCodigo3Dir",value:function(){var t="void "+this.codigo3Dir+"() {\n";return this.listaInstrucciones.forEach((function(e){t+="    "+e.getCodigo3D()+"\n"})),t+="}"}},{key:"setCodigo3Dir",value:function(t){this.codigo3Dir=t}},{key:"optimizar",value:function(){}}]),t}()},,function(t,e,i){"use strict";(function(t,n){var r=function(){var t=function(t,e,i,n){for(i=i||{},n=t.length;n--;i[t[n]]=e);return i},e=[5,7],n=[2,8],r=[1,4],o=[1,16],s=[1,7],a=[1,9],c=[1,8],l=[1,15],u=[1,14],h=[1,12],f=[1,13],g=[5,7,12,16,20,42,43,44,45,46,47,48,49,50,51,52,53,55],m=[2,41],d=[1,25],p=[5,7,16,20,42,43,44,45,46,47,48,49,50,51,52,53,55],T=[1,31],b=[1,34],E=[1,35],I=[1,36],v=[1,37],y=[1,38],A=[1,39],O=[1,40],N=[1,41],R=[1,42],_=[1,43],S=[1,44],k=[1,45],w=[1,46],D=[1,60],U=[1,58],P=[1,59],L=[1,62],X=[1,54],C=[1,55],x=[1,56],Q=[1,57],j=[1,80],M=[1,81],$=[1,82],F=[1,83],G=[1,84],H=[1,85],B=[1,86],z=[1,87],V=[1,88],q=[1,89],Y=[1,90],W=[1,91],Z=[1,92],K=[16,20,42,43,44,45,46,47,48,49,50,51,52,53,55],J=[1,99],tt=[1,102],et=[1,100],it=[1,101],nt=[16,42,43,45,46,47,48,49,50,51,52,55],rt=[16,45,46,47,48,49,50,51,52,55],ot={trace:function(){},yy:{},symbols_:{error:2,START:3,LISTACONSULTAS:4,EOF:5,CONSULTA:6,andSelect:7,identifier:8,LISTANODOS:9,MASTIPOS:10,NODO:11,diag:12,TIPONODO:13,corA:14,EXPRESION:15,corC:16,AXES:17,attr:18,PREDICATE:19,asterisco:20,dot:21,FUNCIONES:22,ancestor:23,dospuntos:24,NODETEST:25,ancestorSelf:26,attribute:27,child:28,descendant:29,descendantSelf:30,following:31,followingSib:32,namespace:33,parent:34,preced:35,precedSib:36,self:37,textFunc:38,nodeFunc:39,PRIMITIVA:40,OPERACION:41,mas:42,menos:43,div:44,lte:45,lt:46,gte:47,gt:48,igual:49,nequal:50,or:51,and:52,mod:53,parA:54,parC:55,DoubleLiteral:56,IntegerLiteral:57,cadena:58,cadena2:59,lastFunc:60,positionFunc:61,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"andSelect",8:"identifier",12:"diag",14:"corA",16:"corC",18:"attr",20:"asterisco",21:"dot",23:"ancestor",24:"dospuntos",26:"ancestorSelf",27:"attribute",28:"child",29:"descendant",30:"descendantSelf",31:"following",32:"followingSib",33:"namespace",34:"parent",35:"preced",36:"precedSib",37:"self",38:"textFunc",39:"nodeFunc",42:"mas",43:"menos",44:"div",45:"lte",46:"lt",47:"gte",48:"gt",49:"igual",50:"nequal",51:"or",52:"and",53:"mod",54:"parA",55:"parC",56:"DoubleLiteral",57:"IntegerLiteral",58:"cadena",59:"cadena2",60:"lastFunc",61:"positionFunc"},productions_:[0,[3,2],[4,3],[4,1],[6,2],[6,2],[6,1],[9,2],[9,0],[11,2],[11,3],[11,2],[11,3],[13,1],[13,4],[13,1],[13,1],[10,3],[10,3],[10,2],[10,3],[10,2],[10,1],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[25,2],[25,2],[25,2],[25,2],[19,3],[19,0],[15,1],[15,1],[41,3],[41,3],[41,3],[41,3],[41,3],[41,3],[41,3],[41,3],[41,3],[41,3],[41,3],[41,3],[41,3],[41,3],[40,1],[40,1],[40,1],[40,1],[40,2],[40,2],[40,1],[40,2],[40,1],[22,1],[22,1],[22,1],[22,1]],performAction:function(t,e,i,n,r,o,s){var a=o.length-1;switch(r){case 1:return this.$=o[a-1],this.$;case 2:this.$=[new ct(o[a-2],s[a-2].first_line,s[a-2].first_column)],this.$=this.$.concat(o[a]);break;case 3:this.$=[new ct(o[a],s[a].first_line,s[a].first_column)];break;case 4:this.$=[new lt(o[a-1],gt.IDENTIFIER,s[a-1].first_line,s[a-1].first_column)],o[a].length>0&&(this.$=this.$.concat(o[a]));break;case 5:this.$=[o[a-1]],o[a].length>0&&(this.$=this.$.concat(o[a]));break;case 6:case 69:this.$=o[a];break;case 7:this.$=[o[a-1]],this.$=this.$.concat(o[a]);break;case 8:this.$=[];break;case 9:o[a].fromRoot=!0,this.$=o[a];break;case 10:o[a].fromRoot=!1,this.$=o[a];break;case 11:console.log("Entra a error sintactico de one diag"),dt.default.agregarError("sintactico","Token inesperado '"+t+"'",s[a-1].first_line,s[a-1].first_column),this.$=new lt(o[a],gt.NODOERROR,s[a-1].first_line,s[a-1].first_column);break;case 12:console.log("Entra a error sintactico de two diags"),dt.default.agregarError("sintactico","Token inesperado '"+t+"'",s[a-2].first_line,s[a-2].first_column),this.$=new lt(o[a],gt.NODOERROR,s[a-2].first_line,s[a-2].first_column);break;case 13:this.$=new lt(o[a],gt.IDENTIFIER,s[a].first_line,s[a].first_column);break;case 14:this.$=new lt(o[a-3],gt.IDENTIFIER,s[a-3].first_line,s[a-3].first_column,new ut(o[a-1],s[a-1].first_line,s[a-1].first_column));break;case 15:case 16:case 42:case 67:case 68:case 70:this.$=o[a];break;case 17:case 18:this.$=new lt(o[a-1],gt.ATRIBUTO,s[a-2].first_line,s[a-2].first_column);break;case 19:this.$=new lt(o[a-1],gt.DOT,s[a-1].first_line,s[a-1].first_column);break;case 20:this.$=new lt(o[a-2]+o[a-1],gt.DOTDOT,s[a-2].first_line,s[a-2].first_column);break;case 21:this.$=new lt(o[a-1],gt.ASTERISCO,s[a-1].first_line,s[a-1].first_column);break;case 22:this.$=new lt(o[a],gt.FUNCION,s[a].first_line,s[a].first_column);break;case 23:this.$=new lt(o[a-2],gt.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,mt.ANCESTOR,o[a]);break;case 24:this.$=new lt(o[a-2],gt.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,mt.ANCESTORORSELF,o[a]);break;case 25:this.$=new lt(o[a-2],gt.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,mt.ATTRIBUTE,o[a]);break;case 26:this.$=new lt(o[a-2],gt.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,mt.CHILD,o[a]);break;case 27:this.$=new lt(o[a-2],gt.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,mt.DESCENDANT,o[a]);break;case 28:this.$=new lt(o[a-2],gt.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,mt.DESCENDANTORSELF,o[a]);break;case 29:this.$=new lt(o[a-2],gt.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,mt.FOLLOWING,o[a]);break;case 30:this.$=new lt(o[a-2],gt.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,mt.FOLLOWINGSIBLING,o[a]);break;case 31:this.$=new lt(o[a-2],gt.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,mt.NAMESPACE,o[a]);break;case 32:this.$=new lt(o[a-2],gt.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,mt.PARENT,o[a]);break;case 33:this.$=new lt(o[a-2],gt.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,mt.PRECEDING,o[a]);break;case 34:this.$=new lt(o[a-2],gt.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,mt.PRECEDINGSIBLING,o[a]);break;case 35:this.$=new lt(o[a-2],gt.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,mt.SELF,o[a]);break;case 36:o[a]instanceof ut?this.$=new lt(o[a-1],gt.IDENTIFIER,s[a-1].first_line,s[a-1].first_column):this.$=new lt(o[a-1],gt.IDENTIFIER,s[a-1].first_line,s[a-1].first_column,o[a]);break;case 37:case 38:o[a]instanceof ut?this.$=new lt(o[a-1],gt.FUNCION,s[a-1].first_line,s[a-1].first_column):this.$=new lt(o[a-1],gt.FUNCION,s[a-1].first_line,s[a-1].first_column,o[a]);break;case 39:o[a]instanceof ut?this.$=new lt(o[a-1],gt.ASTERISCO,s[a-1].first_line,s[a-1].first_column):this.$=new lt(o[a-1],gt.ASTERISCO,s[a-1].first_line,s[a-1].first_column,o[a]);break;case 40:this.$=o[a-1];break;case 41:this.$=[];break;case 43:this.$=o[a];break;case 44:this.$=new at(ft.MULTIPLICACION,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 45:this.$=new at(ft.SUMA,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 46:this.$=new at(ft.RESTA,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 47:this.$=new at(ft.DIVISION,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 48:this.$=new at(ft.MENORIGUALQUE,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 49:this.$=new at(ft.MENORQUE,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 50:this.$=new at(ft.MAYORIGUALQUE,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 51:this.$=new at(ft.MAYORQUE,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 52:this.$=new at(ft.IGUAL,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 53:this.$=new at(ft.DIFERENTEQUE,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 54:this.$=new at(ft.OR,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 55:this.$=new at(ft.AND,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 56:this.$=new at(ft.MOD,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 57:this.$=new at(ft.PAR,o[a-1],null,s[a-2].first_line,s[a-2].first_column);break;case 58:this.$=new st(o[a],ht.DOUBLE,s[a].first_line,s[a].first_column);break;case 59:this.$=new st(o[a],ht.INTEGER,s[a].first_line,s[a].first_column);break;case 60:case 61:this.$=new st(o[a],ht.CADENA,s[a].first_line,s[a].first_column);break;case 62:case 63:this.$=new st(o[a],ht.ATRIBUTO,s[a-1].first_line,s[a-1].first_column);break;case 64:this.$=new st(o[a],ht.DOT,s[a].first_line,s[a].first_column);break;case 65:o[a].length>0?(this.$=[new lt(o[a-1],gt.IDENTIFIER,s[a-1].first_line,s[a-1].first_column)],this.$=this.$.concat(o[a]),this.$=new st(this.$,ht.CONSULTA,s[a-1].first_line,s[a-1].first_column)):this.$=new st(o[a-1],ht.IDENTIFIER,s[a-1].first_line,s[a-1].first_column);break;case 66:this.$=new st(o[a],ht.FUNCION,s[a].first_line,s[a].first_column)}},table:[t(e,n,{3:1,4:2,6:3,10:5,9:6,22:10,11:11,8:r,12:o,18:s,20:a,21:c,38:l,39:u,60:h,61:f}),{1:[3]},{5:[1,17]},{5:[2,3],7:[1,18]},t(e,n,{11:11,9:19,12:o}),t(e,n,{11:11,9:20,12:o}),t(e,[2,6]),{8:[1,21],20:[1,22]},t(g,m,{19:23,14:d,21:[1,24]}),t(g,m,{19:26,14:d}),t(g,[2,22]),t(p,n,{11:11,9:27,12:o}),t(g,[2,67]),t(g,[2,68]),t(g,[2,69]),t(g,[2,70]),{2:[1,30],8:T,10:32,12:[1,29],13:28,17:33,18:s,20:a,21:c,22:10,23:b,26:E,27:I,28:v,29:y,30:A,31:O,32:N,33:R,34:_,35:S,36:k,37:w,38:l,39:u,60:h,61:f},{1:[2,1]},t(e,n,{6:3,10:5,9:6,22:10,11:11,4:47,8:r,12:o,18:s,20:a,21:c,38:l,39:u,60:h,61:f}),t(e,[2,4]),t(e,[2,5]),t(g,m,{19:48,14:d}),t(g,m,{19:49,14:d}),t(g,[2,19]),t(g,m,{19:50,14:d}),{8:D,15:51,18:U,21:P,22:61,38:l,39:u,40:52,41:53,54:L,56:X,57:C,58:x,59:Q,60:h,61:f},t(g,[2,21]),t(p,[2,7]),t(g,[2,9]),{2:[1,64],8:T,10:32,13:63,17:33,18:s,20:a,21:c,22:10,23:b,26:E,27:I,28:v,29:y,30:A,31:O,32:N,33:R,34:_,35:S,36:k,37:w,38:l,39:u,60:h,61:f},t(g,[2,11]),t(g,[2,13],{14:[1,65]}),t(g,[2,15]),t(g,[2,16]),{24:[1,66]},{24:[1,67]},{24:[1,68]},{24:[1,69]},{24:[1,70]},{24:[1,71]},{24:[1,72]},{24:[1,73]},{24:[1,74]},{24:[1,75]},{24:[1,76]},{24:[1,77]},{24:[1,78]},{5:[2,2]},t(g,[2,17]),t(g,[2,18]),t(g,[2,20]),{16:[1,79],20:j,42:M,43:$,44:F,45:G,46:H,47:B,48:z,49:V,50:q,51:Y,52:W,53:Z},t(K,[2,42]),t(K,[2,43]),t(K,[2,58]),t(K,[2,59]),t(K,[2,60]),t(K,[2,61]),{8:[1,93],20:[1,94]},t(K,[2,64]),t(K,n,{11:11,9:95,12:o}),t(K,[2,66]),{8:D,15:96,18:U,21:P,22:61,38:l,39:u,40:52,41:53,54:L,56:X,57:C,58:x,59:Q,60:h,61:f},t(g,[2,10]),t(g,[2,12]),{8:D,15:97,18:U,21:P,22:61,38:l,39:u,40:52,41:53,54:L,56:X,57:C,58:x,59:Q,60:h,61:f},{8:J,20:tt,25:98,38:et,39:it},{8:J,20:tt,25:103,38:et,39:it},{8:J,20:tt,25:104,38:et,39:it},{8:J,20:tt,25:105,38:et,39:it},{8:J,20:tt,25:106,38:et,39:it},{8:J,20:tt,25:107,38:et,39:it},{8:J,20:tt,25:108,38:et,39:it},{8:J,20:tt,25:109,38:et,39:it},{8:J,20:tt,25:110,38:et,39:it},{8:J,20:tt,25:111,38:et,39:it},{8:J,20:tt,25:112,38:et,39:it},{8:J,20:tt,25:113,38:et,39:it},{8:J,20:tt,25:114,38:et,39:it},t(g,[2,40]),{8:D,15:115,18:U,21:P,22:61,38:l,39:u,40:52,41:53,54:L,56:X,57:C,58:x,59:Q,60:h,61:f},{8:D,15:116,18:U,21:P,22:61,38:l,39:u,40:52,41:53,54:L,56:X,57:C,58:x,59:Q,60:h,61:f},{8:D,15:117,18:U,21:P,22:61,38:l,39:u,40:52,41:53,54:L,56:X,57:C,58:x,59:Q,60:h,61:f},{8:D,15:118,18:U,21:P,22:61,38:l,39:u,40:52,41:53,54:L,56:X,57:C,58:x,59:Q,60:h,61:f},{8:D,15:119,18:U,21:P,22:61,38:l,39:u,40:52,41:53,54:L,56:X,57:C,58:x,59:Q,60:h,61:f},{8:D,15:120,18:U,21:P,22:61,38:l,39:u,40:52,41:53,54:L,56:X,57:C,58:x,59:Q,60:h,61:f},{8:D,15:121,18:U,21:P,22:61,38:l,39:u,40:52,41:53,54:L,56:X,57:C,58:x,59:Q,60:h,61:f},{8:D,15:122,18:U,21:P,22:61,38:l,39:u,40:52,41:53,54:L,56:X,57:C,58:x,59:Q,60:h,61:f},{8:D,15:123,18:U,21:P,22:61,38:l,39:u,40:52,41:53,54:L,56:X,57:C,58:x,59:Q,60:h,61:f},{8:D,15:124,18:U,21:P,22:61,38:l,39:u,40:52,41:53,54:L,56:X,57:C,58:x,59:Q,60:h,61:f},{8:D,15:125,18:U,21:P,22:61,38:l,39:u,40:52,41:53,54:L,56:X,57:C,58:x,59:Q,60:h,61:f},{8:D,15:126,18:U,21:P,22:61,38:l,39:u,40:52,41:53,54:L,56:X,57:C,58:x,59:Q,60:h,61:f},{8:D,15:127,18:U,21:P,22:61,38:l,39:u,40:52,41:53,54:L,56:X,57:C,58:x,59:Q,60:h,61:f},t(K,[2,62]),t(K,[2,63]),t(K,[2,65]),{20:j,42:M,43:$,44:F,45:G,46:H,47:B,48:z,49:V,50:q,51:Y,52:W,53:Z,55:[1,128]},{16:[1,129],20:j,42:M,43:$,44:F,45:G,46:H,47:B,48:z,49:V,50:q,51:Y,52:W,53:Z},t(g,[2,23]),t(g,m,{19:130,14:d}),t(g,m,{19:131,14:d}),t(g,m,{19:132,14:d}),t(g,m,{19:133,14:d}),t(g,[2,24]),t(g,[2,25]),t(g,[2,26]),t(g,[2,27]),t(g,[2,28]),t(g,[2,29]),t(g,[2,30]),t(g,[2,31]),t(g,[2,32]),t(g,[2,33]),t(g,[2,34]),t(g,[2,35]),t(K,[2,44]),t(nt,[2,45],{20:j,44:F,53:Z}),t(nt,[2,46],{20:j,44:F,53:Z}),t(K,[2,47]),t(rt,[2,48],{20:j,42:M,43:$,44:F,53:Z}),t(rt,[2,49],{20:j,42:M,43:$,44:F,53:Z}),t(rt,[2,50],{20:j,42:M,43:$,44:F,53:Z}),t(rt,[2,51],{20:j,42:M,43:$,44:F,53:Z}),t(rt,[2,52],{20:j,42:M,43:$,44:F,53:Z}),t(rt,[2,53],{20:j,42:M,43:$,44:F,53:Z}),t([16,51,55],[2,54],{20:j,42:M,43:$,44:F,45:G,46:H,47:B,48:z,49:V,50:q,52:W,53:Z}),t([16,51,52,55],[2,55],{20:j,42:M,43:$,44:F,45:G,46:H,47:B,48:z,49:V,50:q,53:Z}),t(K,[2,56]),t(K,[2,57]),t(g,[2,14]),t(g,[2,36]),t(g,[2,37]),t(g,[2,38]),t(g,[2,39])],defaultActions:{17:[2,1],47:[2,2]},parseError:function(t,e){if(!e.recoverable){var i=new Error(t);throw i.hash=e,i}this.trace(t)},parse:function(t){var e=this,i=[0],n=[null],r=[],o=this.table,s="",a=0,c=0,l=0,u=2,h=1,f=r.slice.call(arguments,1),g=Object.create(this.lexer),m={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(m.yy[d]=this.yy[d]);g.setInput(t,m.yy),m.yy.lexer=g,m.yy.parser=this,"undefined"==typeof g.yylloc&&(g.yylloc={});var p=g.yylloc;r.push(p);var T=g.options&&g.options.ranges;function b(t){i.length=i.length-2*t,n.length=n.length-t,r.length=r.length-t}"function"===typeof m.yy.parseError?this.parseError=m.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var E,I,v,y,A,O,N,R,_,S=function(){var t;return"number"!==typeof(t=g.lex()||h)&&(t=e.symbols_[t]||t),t},k={};;){if(v=i[i.length-1],this.defaultActions[v]?y=this.defaultActions[v]:(null!==E&&"undefined"!=typeof E||(E=S()),y=o[v]&&o[v][E]),"undefined"===typeof y||!y.length||!y[0]){var w,D=function(t){for(var e=i.length-1,n=0;;){if(u.toString()in o[t])return n;if(0===t||e<2)return!1;t=i[e-=2],++n}},U="";if(l)I!==h&&(w=D(v));else{for(O in w=D(v),_=[],o[v])this.terminals_[O]&&O>u&&_.push("'"+this.terminals_[O]+"'");U=g.showPosition?"Parse error on line "+(a+1)+":\n"+g.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[E]||E)+"'":"Parse error on line "+(a+1)+": Unexpected "+(E==h?"end of input":"'"+(this.terminals_[E]||E)+"'"),this.parseError(U,{text:g.match,token:this.terminals_[E]||E,line:g.yylineno,loc:p,expected:_,recoverable:!1!==w})}if(3==l){if(E===h||I===h)throw new Error(U||"Parsing halted while starting to recover from another error.");c=g.yyleng,s=g.yytext,a=g.yylineno,p=g.yylloc,E=S()}if(!1===w)throw new Error(U||"Parsing halted. No suitable error recovery rule available.");b(w),I=E==u?null:E,E=u,v=i[i.length-1],y=o[v]&&o[v][u],l=3}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+E);switch(y[0]){case 1:i.push(E),n.push(g.yytext),r.push(g.yylloc),i.push(y[1]),E=null,I?(E=I,I=null):(c=g.yyleng,s=g.yytext,a=g.yylineno,p=g.yylloc,l>0&&l--);break;case 2:if(N=this.productions_[y[1]][1],k.$=n[n.length-N],k._$={first_line:r[r.length-(N||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(N||1)].first_column,last_column:r[r.length-1].last_column},T&&(k._$.range=[r[r.length-(N||1)].range[0],r[r.length-1].range[1]]),"undefined"!==typeof(A=this.performAction.apply(k,[s,c,a,m.yy,y[1],n,r].concat(f))))return A;N&&(i=i.slice(0,-1*N*2),n=n.slice(0,-1*N),r=r.slice(0,-1*N)),i.push(this.productions_[y[1]][0]),n.push(k.$),r.push(k._$),R=o[i[i.length-2]][i[i.length-1]],i.push(R);break;case 3:return!0}}return!0}},st=i(0).Primitiva,at=i(29).Operacion,ct=i(17).Consulta,lt=i(10).Nodo,ut=i(95).Predicate,ht=i(0).TipoPrim,ft=i(29).TipoOperacion,gt=i(10).TipoNodo,mt=i(10).TipoAxis,dt=i(9),pt={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var i,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,i,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((i=this._input.match(this.rules[r[o]]))&&(!e||i[0].length>e[0].length)){if(e=i,n=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(i,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,i,n){switch(i){case 0:break;case 1:return 49;case 2:return 12;case 3:return"dot";case 4:return"attr";case 5:return"corA";case 6:return"corC";case 7:return"andSelect";case 8:return"dospuntos";case 9:return"parA";case 10:return"parC";case 11:return 20;case 12:return"mas";case 13:return"menos";case 14:return"div";case 15:return 45;case 16:return"gte";case 17:return 46;case 18:return 48;case 19:return"nequal";case 20:return"or";case 21:return"and";case 22:return"mod";case 23:return"ancestorSelf";case 24:return"ancestor";case 25:return"attribute";case 26:return"child";case 27:return"descendantSelf";case 28:return"descendant";case 29:return"followingSib";case 30:return"following";case 31:return"namespace";case 32:return"parent";case 33:return"precedSib";case 34:return"preced";case 35:return"self";case 36:return"lastFunc";case 37:return"positionFunc";case 38:return"nodeFunc";case 39:return"textFunc";case 40:return 56;case 41:return 57;case 42:return 8;case 43:return 58;case 44:return 59;case 45:console.error("Este es un error l\xe9xico: "+e.yytext+", en la linea: "+e.yylloc.first_line+", en la columna: "+e.yylloc.first_column);break;case 46:return 5}},rules:[/^(?:\s+)/i,/^(?:=)/i,/^(?:\/)/i,/^(?:\.)/i,/^(?:@)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|)/i,/^(?:::)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:div\b)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:!=)/i,/^(?:or\b)/i,/^(?:and\b)/i,/^(?:mod\b)/i,/^(?:ancestor-or-self\b)/i,/^(?:ancestor\b)/i,/^(?:attribute\b)/i,/^(?:child\b)/i,/^(?:descendant-or-self\b)/i,/^(?:descendant\b)/i,/^(?:following-sibling\b)/i,/^(?:following\b)/i,/^(?:namespace\b)/i,/^(?:parent\b)/i,/^(?:preceding-sibling\b)/i,/^(?:preceding\b)/i,/^(?:self\b)/i,/^(?:last\(\))/i,/^(?:position\(\))/i,/^(?:node\(\))/i,/^(?:text\(\))/i,/^(?:(([0-9]+\.[0-9]*)|(\.[0-9]+)))/i,/^(?:[0-9]+)/i,/^(?:[a-zA-Z_][a-zA-Z0-9_\xf1\xd1.-]*)/i,/^(?:("((\\([\'\"\\]))|([^\"\\]+))*"))/i,/^(?:('((\\([\'\"\\]))|([^\'\\]))*'))/i,/^(?:.)/i,/^(?:$)/i],conditions:{comment:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0}}};function Tt(){this.yy={}}return ot.lexer=pt,Tt.prototype=ot,ot.Parser=Tt,new Tt}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),t.exit(1));var r=i(55).readFileSync(i(56).normalize(n[1]),"utf8");return e.parser.parse(r)},i.c[i.s]===n&&e.main(t.argv.slice(1))}).call(this,i(41),i(54)(t))},,,,,,,function(t,e){},function(t,e){},function(t,e,i){"use strict";i.r(e),i.d(e,"Nodo",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r,o){var s=this;Object(n.a)(this,t),this.id=e,this.valor=i,this.padre=r,this.hijos=o,this.hijos.forEach((function(t){t.setPadre(s)}))}return Object(r.a)(t,[{key:"agregarHijo",value:function(t){this.hijos.push(t)}},{key:"setPadre",value:function(t){this.padre=t}}]),t}()},function(t,e,i){"use strict";i.r(e),i.d(e,"Return",(function(){return c})),i.d(e,"TipoReturn",(function(){return n}));var n,r=i(6),o=i(7),s=i(21),a=i(17),c=function(){function t(e,i,n,o,s,a,c,l){Object(r.a)(this,t),this.tipo=e,this.funcion=a,this.html=o,this.listaNodos=n,this.identificador=i,this.linea=c,this.columna=l,this.ifthen=s}return Object(o.a)(t,[{key:"getCodigo3Dir",value:function(t,e,i,r){var o="";if(this.tipo===n.NORMAL&&void 0!=this.identificador){var c=t.obtenerSimbolo(this.identificador);if(null!=c){if(-1===r.funcionesUtilizadas.indexOf(s.a.IMPRIMIRTEXTOXQ)&&r.funcionesUtilizadas.push(s.a.IMPRIMIRTEXTOXQ),-1===r.funcionesUtilizadas.indexOf(s.a.IMPRIMIRATRIBUTOXQ)&&r.funcionesUtilizadas.push(s.a.IMPRIMIRATRIBUTOXQ),-1===r.funcionesUtilizadas.indexOf(s.a.IMPRIMIRETIQUETAXQ)&&r.funcionesUtilizadas.push(s.a.IMPRIMIRETIQUETAXQ),-1===r.funcionesUtilizadas.indexOf(s.a.IMPRIMIRCONSULTAXQ)&&r.funcionesUtilizadas.push(s.a.IMPRIMIRCONSULTAXQ),r.funcionesUtilizadas=r.funcionesUtilizadas.reverse(),void 0!=this.listaNodos&&this.listaNodos.length>0){console.log("Tsimb: ",c),o+="\t/*--- INICIA REDEFINICION EN RETURN ---*/";var l="tq"+r.contT;o+="\n\t"+l+" = HQ;\n",r.contT++,o+="\tXQHeap[(int)HQ] = -13;\n",o+="\t HQ = HQ + 1;\n";var u=new a.Consulta(this.listaNodos,this.linea,this.columna);c.valor.forEach((function(t){var e=u.ejecutar(t.valor);console.log("NUEVALISAD: ",e),e.forEach((function(t){"string"!==typeof t?(o+="\t/*--- TRASLADANDO "+t.nombre+" HACIA EL HEAP DEL XQUERY --- */\n",o+="\t H = stack[(int)"+t.posicion+"]; \n",o+="\tfromHeapToXQHeap();\n",-1===r.funcionesUtilizadas.indexOf(s.a.FROMHEAPTOXQHEAP)&&r.funcionesUtilizadas.push(s.a.FROMHEAPTOXQHEAP)):o+=r.StringToHeap(t,c.getNombre())}))})),o+="\t/*--- TERMINA REDEFINICION EN RETURN ---*/\n",o+="\tXQHeap[(int)HQ] = -13;\n",o+="\t HQ = HQ + 1;\n",o+="\n\tXQStack[(int)SQ] = "+l+";\n",o+="\tSQ = SQ + 1;\n",c.setPosicion(r.contSQ),r.contSQ++}o+="\n\t/* IMPRIMIR EL RETURN */\n",o+="\ttq"+r.contT+" = XQStack[(int)"+c.posicion+"];\n",o+="\tHQ = tq"+r.contT+";\n",r.contT=r.contT+1,o+="\t imprimirConsultaXQ();\n"}}else if(this.tipo===n.FUNCIONXQUERY&&void 0!=this.funcion){var h=this.funcion.getValor(t);console.log("Prueba: ",h)}return o}},{key:"ejecutar",value:function(t,e){var i="",r=[];if(this.tipo===n.NORMAL&&void 0!=this.identificador){console.log("Return normal.");var o=t.obtenerSimbolo(this.identificador);if(null!=o)if(void 0!=this.listaNodos&&this.listaNodos.length>0){var s=new a.Consulta(this.listaNodos,this.linea,this.columna);o.valor.forEach((function(t){var e=t.valor;r=r.concat(s.ejecutar(e))})),i+=s.simbolosToString(r)}else{var c=new a.Consulta([],this.linea,this.columna);o.valor[0]instanceof Array?o.valor.forEach((function(t){var e=t;i+=c.simbolosToString(e)})):i+=c.simbolosToString(o.valor)}else console.log("ERROR - El simbolo: $",this.identificador," no existe.")}else if(this.tipo===n.FUNCIONXQUERY&&void 0!=this.funcion){var l=new a.Consulta([],this.linea,this.columna);i+=l.simbolosToString(this.funcion.getValor(t).valor)}else if(this.tipo===n.IFTHENELSE&&void 0!=this.ifthen){var u=this.ifthen.ejecutar(t,e),h=new a.Consulta([],this.linea,this.columna);i+=h.simbolosToString(u)}return i}}]),t}();!function(t){t[t.NORMAL=0]="NORMAL",t[t.HTML=1]="HTML",t[t.IFTHENELSE=2]="IFTHENELSE",t[t.FUNCIONXQUERY=3]="FUNCIONXQUERY"}(n||(n={}))},function(t,e,i){"use strict";i.r(e),i.d(e,"DeclaracionFor",(function(){return l})),i.d(e,"TipoFor",(function(){return n}));var n,r=i(6),o=i(7),s=i(18),a=i(3),c=i(21),l=function(){function t(e,i,n,o,s,a,c,l,u){Object(r.a)(this,t),this.linea=o,this.columna=s,this.listaEnteros=u,this.tipo=e,this.identificador=i,this.consultas=n,this.desde=c,this.hasta=l,this.at=a}return Object(o.a)(t,[{key:"getCodigo3Dir",value:function(t,e,i,r){var o=this,s="";switch(this.tipo){case n.NORMAL:var a="tq"+r.contT;s+="\n\t"+a+" = HQ;\n",r.contT++,null!=this.consultas&&this.consultas.forEach((function(i){var n=i.ejecutar(e);t.obtenerSimbolo(o.identificador).setPosicion(r.contSQ),r.contSQ++,s+="\tXQHeap[(int)HQ] = -13;\n",s+="\t HQ = HQ + 1;\n",n.forEach((function(t){"string"!==typeof t?(s+="\t/*--- TRASLADANDO "+t.nombre+" HACIA EL HEAP DEL XQUERY --- */\n",s+="\t H = stack[(int)"+t.posicion+"]; \n",s+="\tfromHeapToXQHeap();\n",-1===r.funcionesUtilizadas.indexOf(c.a.FROMHEAPTOXQHEAP)&&r.funcionesUtilizadas.push(c.a.FROMHEAPTOXQHEAP)):s+=r.StringToHeap(t,o.identificador)})),s+="\tXQHeap[(int)HQ] = -13;\n",s+="\t HQ = HQ + 1;\n",s+="\t/*--- GUARDAR EN STACK DE XQUERY --*/\n",s+="\t\nXQStack[(int)SQ] = "+a+";\n",s+="\tSQ = SQ + 1;\n"}))}return s}},{key:"getTipo",value:function(){return this.tipo}},{key:"TipoToString",value:function(){switch(this.tipo){case n.NORMAL:return"Normal";case n.ITERATIVO:return"Iterativo";case n.AT:return"At"}}},{key:"ejecutar",value:function(t,e){var i,r=[];switch(this.tipo){case n.NORMAL:console.log("for Normal"),null!=this.consultas&&this.consultas.forEach((function(t){r=r.concat(t.ejecutar(e))})),i=new s.a(a.a.XQ_VAR,this.identificador,r,this.linea,this.columna),t.agregarSimbolo(this.identificador,i);break;case n.ITERATIVO:if(this.desde&&null!=this.hasta){for(var o=this.desde;o<=this.hasta;o++)r.push(o);var c=new s.a(a.a.XQ_VAR,this.identificador,r,this.linea,this.columna);t.agregarSimbolo(this.identificador,c)}else if(void 0!=this.listaEnteros){var l=new s.a(a.a.XQ_VAR,this.identificador,this.listaEnteros,this.linea,this.columna);t.agregarSimbolo(this.identificador,l)}break;case n.AT:var u=0;null!=this.consultas&&this.consultas.forEach((function(t){var i=t.ejecutar(e);u+=i.length,r=r.concat(i)}));new s.a(a.a.XQ_NUMB,this.identificador,u,this.linea,this.columna);i=new s.a(a.a.XQ_VAR,this.identificador,r,this.linea,this.columna),t.agregarSimbolo(this.identificador,i)}}}]),t}();!function(t){t[t.NORMAL=0]="NORMAL",t[t.ITERATIVO=1]="ITERATIVO",t[t.AT=2]="AT"}(n||(n={}))},function(t,e,i){"use strict";i.r(e),i.d(e,"FuncionXQuery",(function(){return l})),i.d(e,"TipoFuncionXQ",(function(){return n}));var n,r=i(6),o=i(7),s=i(18),a=i(3),c=i(17),l=function(){function t(e,i,n,o,s,a,c,l){Object(r.a)(this,t),this.linea=o,this.columna=s,this.tipo=e,this.identificador=i,this.listaNodos=n,this.desde=a,this.hasta=c,this.otraFuncion=l}return Object(o.a)(t,[{key:"getTipo",value:function(){return this.tipo}},{key:"get3Dir",value:function(t){var e=this.getValor(t);return console.log("S: ",e),"\t*/--- FUNCION XQUERY --*/\n"}},{key:"getSobreEntornoXML",value:function(t){var e=this,i=[];if(void 0!=this.identificador)void 0!=this.listaNodos&&this.listaNodos.length>0?new c.Consulta(this.listaNodos,this.linea,this.columna).ejecutar(t).forEach((function(t){var r=t.valor;e.tipo!=n.DATA&&e.reemplazarTexto(r),i=i.concat(e.getOnlyTextos(r))})):(this.tipo!=n.DATA&&this.reemplazarTexto(t),i=i.concat(this.getOnlyTextos(t)));else if(void 0!=this.otraFuncion){this.otraFuncion.getSobreEntornoXML(t).forEach((function(t){var r=t.valor;"string"!==typeof r.valor&&(e.tipo!=n.DATA&&(t.valor=e.aplicarFuncionTexto(r)),i=i.concat(t))}))}return i}},{key:"getValorInicial",value:function(t){if(void 0!=this.identificador){var e=[],i=t.obtenerSimbolo(this.identificador);if(console.log("LS: ",i),null!=i)if(void 0!=this.listaNodos&&this.listaNodos.length>0){var n=new c.Consulta(this.listaNodos,this.linea,this.columna);i.valor.forEach((function(t){var i=t.valor;e=e.concat(n.ejecutar(i))}));var r=new s.a(a.a.XQ_VAR,this.identificador,e,this.linea,this.columna);t.sobreEscribirSimbolo(this.identificador,r)}else e=i;else console.log("Simbolo no existe: $",this.identificador);return t.obtenerSimbolo(this.identificador)}}},{key:"getValor",value:function(t){var e=this;if(void 0!=this.identificador){var i=this.getValorInicial(t);this.tipo!=n.DATA&&i.valor.forEach((function(t){var i=t.valor;e.reemplazarTexto(i)}));var r=[];i.valor.forEach((function(t){var i=t.valor;r=r.concat(e.getOnlyTextos(i))}));var o=new s.a(a.a.XQ_VAR,this.identificador,r,this.linea,this.columna);return t.sobreEscribirSimbolo(this.identificador,o),i=t.obtenerSimbolo(this.identificador)}if(void 0!=this.otraFuncion){var c=[],l=this.otraFuncion.getValor(t);l.valor.forEach((function(t){var i=t.valor;"string"!==typeof i.valor&&(e.tipo!=n.DATA&&(t.valor=e.aplicarFuncionTexto(i)),c=c.concat(t))}));var u=new s.a(a.a.XQ_VAR,l.nombre,c,this.linea,this.columna);return t.sobreEscribirSimbolo(l.nombre,u),t.obtenerSimbolo(l.nombre)}}},{key:"getOnlyTextos",value:function(t){for(var e=[],i=0;i<t.tsimbolos.length;i++)t.tsimbolos[i].valor.getTipo()===a.a.STRING?e.push(t.tsimbolos[i].valor):t.tsimbolos[i].valor.getTipo()===a.a.ETIQUETA&&(e=e.concat(this.getOnlyTextos(t.tsimbolos[i].valor.valor)));return e}},{key:"aplicarFuncionTexto",value:function(t){switch(this.getTipo()){case n.UPPERCASE:return t.toUpperCase();case n.SUBSTRING:if(void 0!=this.desde&&void 0!=this.hasta)return t.substring(this.desde-1,this.hasta+1);break;case n.LOWERCASE:return t.toLowerCase();case n.STRING:return t.toString();case n.NUMBER:return+t;default:return t}}},{key:"reemplazarTexto",value:function(t){for(var e=0;e<t.tsimbolos.length;e++)if(t.tsimbolos[e].valor.getTipo()===a.a.STRING){var i=t.tsimbolos[e].valor,n=this.aplicarFuncionTexto(i.valor);t.tsimbolos[e].valor.valor=n}else t.tsimbolos[e].valor.getTipo()===a.a.ETIQUETA&&this.reemplazarTexto(t.tsimbolos[e].valor.valor)}}]),t}();!function(t){t[t.UPPERCASE=0]="UPPERCASE",t[t.SUBSTRING=1]="SUBSTRING",t[t.DATA=2]="DATA",t[t.LOWERCASE=3]="LOWERCASE",t[t.NUMBER=4]="NUMBER",t[t.STRING=5]="STRING"}(n||(n={}))},,,,,,,,,,,function(t,e,i){"use strict";(function(t,n){var r=function(){var t=function(t,e,i,n){for(i=i||{},n=t.length;n--;i[t[n]]=e);return i},e=[1,10],n=[1,9],r=[2,5,6],o=[1,13],s=[1,14],a=[1,19],c=[2,12],l=[1,18],u=[2,7,10,13,14],h=[1,38],f=[1,34],g=[1,35],m=[1,36],d=[1,37],p=[1,39],T=[1,40],b=[1,41],E=[1,42],I=[1,43],v=[1,44],y=[2,6,8,13,22,23,24,25,26,27,28,29,30],A=[2,31],O={trace:function(){},yy:{},symbols_:{error:2,START:3,ENCABEZADO:4,EOF:5,lt:6,interrog:7,xml:8,LISTAATRIBUTOS:9,gt:10,LISTAELEMENTOS:11,ELEMENTO:12,identifier:13,diag:14,TEXTCONTENT:15,ATRIBUTOS:16,ATRIBUTO:17,asig:18,cadena:19,cadena2:20,TEXT:21,content:22,DoubleLiteral:23,IntegerLiteral:24,apos:25,less:26,greater:27,ampersand:28,apostrophe:29,quot:30,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"lt",7:"interrog",8:"xml",10:"gt",13:"identifier",14:"diag",18:"asig",19:"cadena",20:"cadena2",22:"content",23:"DoubleLiteral",24:"IntegerLiteral",25:"apos",26:"less",27:"greater",28:"ampersand",29:"apostrophe",30:"quot"},productions_:[0,[3,2],[4,7],[4,2],[11,2],[11,1],[12,5],[12,9],[12,9],[12,8],[12,2],[9,1],[9,0],[16,2],[16,1],[17,3],[17,3],[17,1],[15,2],[15,1],[21,1],[21,1],[21,1],[21,1],[21,1],[21,1],[21,1],[21,1],[21,1],[21,1],[21,1],[21,1]],performAction:function(t,e,i,n,r,o,s){var a=o.length-1;switch(r){case 1:var c=new S(k.cstXmlAsc.getId(),"START",null,[k.cstXmlAsc.obtenerUltimoNodo()]);return k.cstXmlAsc.setRaiz(c),o[a-1];case 2:o[a].unshift(new N(o[a-4],"",s[a-6].first_line,s[a-6].first_column,o[a-3],[],!0)),this.$=o[a];var l=k.cstXmlAsc.obtenerUltimoNodo(),u=k.cstXmlAsc.obtenerUltimoNodo();k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"ENCABEZADO",null,[new S(k.cstXmlAsc.getId(),"lt",null,[new S(k.cstXmlAsc.getId(),"<",null,[])]),new S(k.cstXmlAsc.getId(),"interrog",null,[new S(k.cstXmlAsc.getId(),"?",null,[])]),new S(k.cstXmlAsc.getId(),"xml",null,[new S(k.cstXmlAsc.getId(),o[a-4].toString().replaceAll('"',""),null,[])]),u,new S(k.cstXmlAsc.getId(),"interrog",null,[new S(k.cstXmlAsc.getId(),"?",null,[])]),new S(k.cstXmlAsc.getId(),"gt",null,[new S(k.cstXmlAsc.getId(),">",null,[])]),l]));break;case 3:_.default.agregarError("sint\xe1ctico","Token inesperado '"+t+"'",s[a-1].first_line,s[a-1].first_column),this.$=o[a],k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"ENCABEZADO",null,[k.cstXmlAsc.obtenerUltimoNodo()]));break;case 4:null!==o[a-1]?(null!==o[a]&&o[a-1].push(o[a]),this.$=o[a-1]):null!==o[a]?this.$=[o[a-1]]:this.$=[];var h=k.cstXmlAsc.obtenerUltimoNodo(),f=k.cstXmlAsc.obtenerUltimoNodo();k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"LISTAELEMENTOS",null,[f,h]));break;case 5:null!==o[a]?this.$=[o[a]]:this.$=[];var g=new S(k.cstXmlAsc.getId(),"LISTAELEMENTOS",null,[k.cstXmlAsc.obtenerUltimoNodo()]);k.cstXmlAsc.agregarPila(g);break;case 6:this.$=new N(o[a-3],"",s[a-4].first_line,s[a-4].first_column,o[a-2],[],!0),k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"ELEMENTO",null,[new S(k.cstXmlAsc.getId(),"lt",null,[new S(k.cstXmlAsc.getId(),o[a-4].toString().replaceAll('"',""),null,[])]),new S(k.cstXmlAsc.getId(),"identificador",null,[new S(k.cstXmlAsc.getId(),o[a-3].toString().replaceAll('"',""),null,[])]),k.cstXmlAsc.obtenerUltimoNodo(),new S(k.cstXmlAsc.getId(),"diag",null,[new S(k.cstXmlAsc.getId(),o[a-1].toString().replaceAll('"',""),null,[])]),new S(k.cstXmlAsc.getId(),"gt",null,[new S(k.cstXmlAsc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 7:console.log(N),o[a-7]===o[a-1]?this.$=new N(o[a-7],o[a-4].toString().replaceAll('"',""),s[a-8].first_line,s[a-8].first_column,o[a-6],[],!1):(console.log(_.default),console.log("Linea 111: Error semantico: Las etiquetas deben ser iguales:\n"+o[a-7]+"!="+o[a-1]+" \natributos: "+o[a-6]+"\ntexto: \n"+o[a-4]),_.default.agregarError("semantico","Las etiquetas deben ser iguales",s[a-8].first_line,s[a-8].first_column),this.$=null);var m=k.cstXmlAsc.obtenerUltimoNodo(),d=k.cstXmlAsc.obtenerUltimoNodo();k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"ELEMENTO",null,[new S(k.cstXmlAsc.getId(),"lt",null,[new S(k.cstXmlAsc.getId(),o[a-8].toString().replaceAll('"',""),null,[])]),new S(k.cstXmlAsc.getId(),"identificador",null,[new S(k.cstXmlAsc.getId(),o[a-7].toString().replaceAll('"',""),null,[])]),d,new S(k.cstXmlAsc.getId(),"gt",null,[new S(k.cstXmlAsc.getId(),o[a-5].toString().replaceAll('"',""),null,[])]),m,new S(k.cstXmlAsc.getId(),"lt",null,[new S(k.cstXmlAsc.getId(),o[a-3].toString().replaceAll('"',""),null,[])]),new S(k.cstXmlAsc.getId(),"diag",null,[new S(k.cstXmlAsc.getId(),o[a-2].toString().replaceAll('"',""),null,[])]),new S(k.cstXmlAsc.getId(),"identificador",null,[new S(k.cstXmlAsc.getId(),o[a-1].toString().replaceAll('"',""),null,[])]),new S(k.cstXmlAsc.getId(),"gt",null,[new S(k.cstXmlAsc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 8:o[a-7]===o[a-1]?this.$=new N(o[a-7],"",s[a-8].first_line,s[a-8].first_column,o[a-6],o[a-4],!1):(console.log(_.default),console.log("Linea 120: Error semantico: Las etiquetas deben ser iguales"),_.default.agregarError("semantico","Las etiquetas deben ser iguales",s[a-8].first_line,s[a-8].first_column),this.$=null);var p=k.cstXmlAsc.obtenerUltimoNodo(),T=k.cstXmlAsc.obtenerUltimoNodo();k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"ELEMENTO",null,[new S(k.cstXmlAsc.getId(),"lt",null,[new S(k.cstXmlAsc.getId(),o[a-8].toString().replaceAll('"',""),null,[])]),new S(k.cstXmlAsc.getId(),"identificador",null,[new S(k.cstXmlAsc.getId(),o[a-7].toString().replaceAll('"',""),null,[])]),T,new S(k.cstXmlAsc.getId(),"gt",null,[new S(k.cstXmlAsc.getId(),o[a-5].toString().replaceAll('"',""),null,[])]),p,new S(k.cstXmlAsc.getId(),"lt",null,[new S(k.cstXmlAsc.getId(),o[a-3].toString().replaceAll('"',""),null,[])]),new S(k.cstXmlAsc.getId(),"diag",null,[new S(k.cstXmlAsc.getId(),o[a-2].toString().replaceAll('"',""),null,[])]),new S(k.cstXmlAsc.getId(),"identificador",null,[new S(k.cstXmlAsc.getId(),o[a-1].toString().replaceAll('"',""),null,[])]),new S(k.cstXmlAsc.getId(),"gt",null,[new S(k.cstXmlAsc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 9:o[a-6]===o[a-1]?this.$=new N(o[a-6],"",s[a-7].first_line,s[a-7].first_column,o[a-5],[],!1):(console.log(_.default),console.log("Linea 129: Error semantico: Las etiquetas deben ser iguales"),_.default.agregarError("semantico","Las etiquetas deben ser iguales",s[a-7].first_line,s[a-7].first_column),this.$=null),k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"ELEMENTO",null,[new S(k.cstXmlAsc.getId(),"lt",null,[new S(k.cstXmlAsc.getId(),o[a-7].toString().replaceAll('"',""),null,[])]),new S(k.cstXmlAsc.getId(),"identificador",null,[new S(k.cstXmlAsc.getId(),o[a-6].toString().replaceAll('"',""),null,[])]),k.cstXmlAsc.obtenerUltimoNodo(),new S(k.cstXmlAsc.getId(),"gt",null,[new S(k.cstXmlAsc.getId(),o[a-4].toString().replaceAll('"',""),null,[])]),new S(k.cstXmlAsc.getId(),"lt",null,[new S(k.cstXmlAsc.getId(),o[a-3].toString().replaceAll('"',""),null,[])]),new S(k.cstXmlAsc.getId(),"diag",null,[new S(k.cstXmlAsc.getId(),o[a-2].toString().replaceAll('"',""),null,[])]),new S(k.cstXmlAsc.getId(),"identificador",null,[new S(k.cstXmlAsc.getId(),o[a-1].toString().replaceAll('"',""),null,[])]),new S(k.cstXmlAsc.getId(),"gt",null,[new S(k.cstXmlAsc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 10:console.log("Entra a error sintactico"),_.default.agregarError("sintactico","Token inesperado '"+t+"'",s[a-1].first_line,s[a-1].first_column),this.$=null,k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"ELEMENTO",null,[]));break;case 11:this.$=o[a],k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"LISTAATRIBUTOS",null,[k.cstXmlAsc.obtenerUltimoNodo()]));break;case 12:this.$=[],k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"LISTAATRIBUTOS",null,[new S(k.cstXmlAsc.getId(),"epsilon",null,[])]));break;case 13:o[a-1].push(o[a]),this.$=o[a-1];var b=k.cstXmlAsc.obtenerUltimoNodo(),E=k.cstXmlAsc.obtenerUltimoNodo();k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"ATRIBUTOS",null,[E,b]));break;case 14:this.$=[o[a]],k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"ATRIBUTOS",null,[k.cstXmlAsc.obtenerUltimoNodo()]));break;case 15:case 16:this.$=new R(o[a-2].toString().replaceAll('"',""),o[a],s[a-2].first_line,s[a-2].first_column),k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"ATRIBUTO",null,[new S(k.cstXmlAsc.getId(),"identificador",null,[new S(k.cstXmlAsc.getId(),o[a-2].toString().replaceAll('"',""),null,[])]),new S(k.cstXmlAsc.getId(),"asignacion",null,[new S(k.cstXmlAsc.getId(),o[a-1].toString().replaceAll('"',""),null,[])]),new S(k.cstXmlAsc.getId(),"cadena",null,[new S(k.cstXmlAsc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 17:console.log("Entra a error Atribut sintactico"),_.default.agregarError("sintactico","Token inesperado '"+t+"'",s[a].first_line,s[a].first_column),this.$=new R("","",s[a].first_line,s[a].first_column),k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"ATRIBUTO",null,[]));break;case 18:o[a-1]=o[a-1]+" "+o[a],this.$=o[a-1];var I=k.cstXmlAsc.obtenerUltimoNodo(),v=k.cstXmlAsc.obtenerUltimoNodo();k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"TEXTCONTENT",null,[v,I]));break;case 19:this.$=o[a],k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"TEXTCONTENT",null,[k.cstXmlAsc.obtenerUltimoNodo()]));break;case 20:this.$=o[a].toString().replaceAll('"',""),k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"TEXT",null,[new S(k.cstXmlAsc.getId(),"identificador",null,[new S(k.cstXmlAsc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 21:this.$=o[a].toString().replaceAll('"',""),k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"TEXT",null,[new S(k.cstXmlAsc.getId(),"content",null,[new S(k.cstXmlAsc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 22:this.$=o[a].toString().replaceAll('"',""),k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"TEXT",null,[new S(k.cstXmlAsc.getId(),"double",null,[new S(k.cstXmlAsc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 23:this.$=o[a].toString().replaceAll('"',""),k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"TEXT",null,[new S(k.cstXmlAsc.getId(),"integer",null,[new S(k.cstXmlAsc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 24:this.$=o[a].toString(),k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"TEXT",null,[new S(k.cstXmlAsc.getId(),"identificador",null,[new S(k.cstXmlAsc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 25:this.$=o[a].toString().replaceAll('"',""),k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"TEXT",null,[new S(k.cstXmlAsc.getId(),"comilla simple",null,[new S(k.cstXmlAsc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 26:this.$="<",k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"TEXT",null,[new S(k.cstXmlAsc.getId(),"menor que",null,[new S(k.cstXmlAsc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 27:this.$=">",k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"TEXT",null,[new S(k.cstXmlAsc.getId(),"mayor que",null,[new S(k.cstXmlAsc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 28:this.$="&",k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"TEXT",null,[new S(k.cstXmlAsc.getId(),"ampersand",null,[new S(k.cstXmlAsc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 29:this.$="'",k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"TEXT",null,[new S(k.cstXmlAsc.getId(),"apostrofe",null,[new S(k.cstXmlAsc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 30:this.$="''",k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"TEXT",null,[new S(k.cstXmlAsc.getId(),"comilla doble",null,[new S(k.cstXmlAsc.getId(),'"',null,[])])]));break;case 31:this.$=o[a].toString().replaceAll('"',""),k.cstXmlAsc.agregarPila(new S(k.cstXmlAsc.getId(),"TEXT",null,[]))}},table:[{2:[1,4],3:1,4:2,6:[1,3]},{1:[3]},{5:[1,5]},{7:[1,6]},{2:e,6:n,11:7,12:8},{1:[2,1]},{8:[1,11]},{2:e,5:[2,3],6:n,12:12},t(r,[2,5]),{13:o},{10:s},{2:a,7:c,9:15,13:l,16:16,17:17},t(r,[2,4]),t([10,14],c,{16:16,17:17,9:20,2:a,13:l}),t(r,[2,10]),{7:[1,21]},t([7,10,14],[2,11],{17:22,2:a,13:l}),t(u,[2,14]),{18:[1,23]},t(u,[2,17]),{10:[1,25],14:[1,24]},{10:[1,26]},t(u,[2,13]),{19:[1,27],20:[1,28]},{10:[1,29]},{2:[1,45],6:[1,32],8:h,11:31,12:8,13:f,15:30,21:33,22:g,23:m,24:d,25:p,26:T,27:b,28:E,29:I,30:v},{2:e,6:n,11:46,12:8},t(u,[2,15]),t(u,[2,16]),t(r,[2,6]),{2:[1,49],6:[1,47],8:h,13:f,21:48,22:g,23:m,24:d,25:p,26:T,27:b,28:E,29:I,30:v},{2:e,6:[1,50],12:12},{13:o,14:[1,51]},t(y,[2,19]),t(y,[2,20]),t(y,[2,21]),t(y,[2,22]),t(y,[2,23]),t(y,[2,24]),t(y,[2,25]),t(y,[2,26]),t(y,[2,27]),t(y,[2,28]),t(y,[2,29]),t(y,[2,30]),t(y,A,{10:s}),{2:e,5:[2,2],6:n,12:12},{14:[1,52]},t(y,[2,18]),t(y,A),{13:o,14:[1,53]},{13:[1,54]},{13:[1,55]},{13:[1,56]},{10:[1,57]},{10:[1,58]},{10:[1,59]},t(r,[2,9]),t(r,[2,7]),t(r,[2,8])],defaultActions:{5:[2,1]},parseError:function(t,e){if(!e.recoverable){var i=new Error(t);throw i.hash=e,i}this.trace(t)},parse:function(t){var e=this,i=[0],n=[null],r=[],o=this.table,s="",a=0,c=0,l=0,u=2,h=1,f=r.slice.call(arguments,1),g=Object.create(this.lexer),m={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(m.yy[d]=this.yy[d]);g.setInput(t,m.yy),m.yy.lexer=g,m.yy.parser=this,"undefined"==typeof g.yylloc&&(g.yylloc={});var p=g.yylloc;r.push(p);var T=g.options&&g.options.ranges;function b(t){i.length=i.length-2*t,n.length=n.length-t,r.length=r.length-t}"function"===typeof m.yy.parseError?this.parseError=m.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var E,I,v,y,A,O,N,R,_,S=function(){var t;return"number"!==typeof(t=g.lex()||h)&&(t=e.symbols_[t]||t),t},k={};;){if(v=i[i.length-1],this.defaultActions[v]?y=this.defaultActions[v]:(null!==E&&"undefined"!=typeof E||(E=S()),y=o[v]&&o[v][E]),"undefined"===typeof y||!y.length||!y[0]){var w,D=function(t){for(var e=i.length-1,n=0;;){if(u.toString()in o[t])return n;if(0===t||e<2)return!1;t=i[e-=2],++n}},U="";if(l)I!==h&&(w=D(v));else{for(O in w=D(v),_=[],o[v])this.terminals_[O]&&O>u&&_.push("'"+this.terminals_[O]+"'");U=g.showPosition?"Parse error on line "+(a+1)+":\n"+g.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[E]||E)+"'":"Parse error on line "+(a+1)+": Unexpected "+(E==h?"end of input":"'"+(this.terminals_[E]||E)+"'"),this.parseError(U,{text:g.match,token:this.terminals_[E]||E,line:g.yylineno,loc:p,expected:_,recoverable:!1!==w})}if(3==l){if(E===h||I===h)throw new Error(U||"Parsing halted while starting to recover from another error.");c=g.yyleng,s=g.yytext,a=g.yylineno,p=g.yylloc,E=S()}if(!1===w)throw new Error(U||"Parsing halted. No suitable error recovery rule available.");b(w),I=E==u?null:E,E=u,v=i[i.length-1],y=o[v]&&o[v][u],l=3}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+E);switch(y[0]){case 1:i.push(E),n.push(g.yytext),r.push(g.yylloc),i.push(y[1]),E=null,I?(E=I,I=null):(c=g.yyleng,s=g.yytext,a=g.yylineno,p=g.yylloc,l>0&&l--);break;case 2:if(N=this.productions_[y[1]][1],k.$=n[n.length-N],k._$={first_line:r[r.length-(N||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(N||1)].first_column,last_column:r[r.length-1].last_column},T&&(k._$.range=[r[r.length-(N||1)].range[0],r[r.length-1].range[1]]),"undefined"!==typeof(A=this.performAction.apply(k,[s,c,a,m.yy,y[1],n,r].concat(f))))return A;N&&(i=i.slice(0,-1*N*2),n=n.slice(0,-1*N),r=r.slice(0,-1*N)),i.push(this.productions_[y[1]][0]),n.push(k.$),r.push(k._$),R=o[i[i.length-2]][i[i.length-1]],i.push(R);break;case 3:return!0}}return!0}},N=i(71).Objeto,R=i(61).Atributo,_=i(9),S=i(112).Nodo,k=i(51),w={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var i,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,i,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((i=this._input.match(this.rules[r[o]]))&&(!e||i[0].length>e[0].length)){if(e=i,n=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(i,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,i,n){switch(i){case 0:break;case 1:this.begin("comment");break;case 2:this.popState();break;case 3:break;case 4:return 6;case 5:return 10;case 6:return 18;case 7:return 14;case 8:return 7;case 9:return 25;case 10:return"xml";case 11:return 26;case 12:return 27;case 13:return 28;case 14:return"apostrophe";case 15:return"quot";case 16:return 23;case 17:return 24;case 18:return 13;case 19:return 19;case 20:return 20;case 21:return 22;case 22:return 5;case 23:console.log(_.default),_.default.agregarError("lexico","Simbolo inesperado "+e.yytext,e.yylloc.first_line,e.yylloc.first_column)}},rules:[/^(?:\s+)/,/^(?:<!--)/,/^(?:-->)/,/^(?:.)/,/^(?:<)/,/^(?:>)/,/^(?:=)/,/^(?:\/)/,/^(?:\?)/,/^(?:')/,/^(?:[xX][mM][lL])/,/^(?:&lt;)/,/^(?:&gt;)/,/^(?:&amp;)/,/^(?:&apos;)/,/^(?:&quot;)/,/^(?:(([0-9]+\.[0-9]*)|(\.[0-9]+)))/,/^(?:[0-9]+)/,/^(?:[a-zA-Z_][a-zA-Z0-9_\xf1\xd1.-]*)/,/^(?:("((\\([\'\"\\]))|([^\"\\]+))*"))/,/^(?:('((\\([\'\"\\]))|([^\'\\]))*'))/,/^(?:([^<]))/,/^(?:$)/,/^(?:.)/],conditions:{comment:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],inclusive:!0},INITIAL:{rules:[0,1,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],inclusive:!0}}};function D(){this.yy={}}return O.lexer=w,D.prototype=O,O.Parser=D,new D}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),t.exit(1));var r=i(55).readFileSync(i(56).normalize(n[1]),"utf8");return e.parser.parse(r)},i.c[i.s]===n&&e.main(t.argv.slice(1))}).call(this,i(41),i(54)(t))},function(t,e,i){"use strict";(function(t,n){var r=function(){var t=function(t,e,i,n){for(i=i||{},n=t.length;n--;i[t[n]]=e);return i},e=[1,9],n=[1,10],r=[1,11],o=[1,12],s=[1,15],a=[37,40,43,50,64],c=[1,23],l=[1,33],u=[1,36],h=[1,29],f=[1,30],g=[1,31],m=[1,32],d=[1,34],p=[1,42],T=[19,37,40,43,50,64],b=[19,26,37,40,43,50,64],E=[5,19,37,40,43,50,64],I=[2,92],v=[1,66],y=[15,44,94,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131],A=[2,154],O=[1,87],N=[1,90],R=[1,92],_=[1,91],S=[1,93],k=[1,94],w=[1,85],D=[1,86],U=[1,98],P=[1,97],L=[1,95],X=[1,96],C=[19,37,40,43,44,50,64,94,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131],x=[1,103],Q=[19,26,37,40,43,50,64,88],j=[1,110],M=[1,113],$=[1,115],F=[1,114],G=[5,15,19,26,37,40,43,44,50,58,64,76,88,94,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131],H=[1,122],B=[1,125],z=[1,126],V=[1,127],q=[1,128],Y=[1,129],W=[1,130],Z=[1,131],K=[1,132],J=[1,133],tt=[1,134],et=[1,135],it=[1,136],nt=[1,137],rt=[1,160],ot=[1,152],st=[1,153],at=[1,154],ct=[1,155],lt=[1,156],ut=[1,157],ht=[1,158],ft=[1,159],gt=[1,161],mt=[1,162],dt=[1,163],pt=[1,164],Tt=[1,165],bt=[1,166],Et=[1,167],It=[1,168],vt=[1,169],yt=[1,170],At=[15,19,37,40,43,44,50,64,94,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131],Ot=[5,15,19,26,37,38,40,43,44,50,58,64,76,88,94,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131],Nt=[2,125],Rt=[1,191],_t=[5,15,19,26,37,40,43,44,50,58,64,76,94,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131],St=[2,153],kt=[1,241],wt=[1,246],Dt=[15,26],Ut=[2,52],Pt=[1,251],Lt=[19,44,94,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131],Xt=[1,282],Ct=[1,287],xt=[1,283],Qt=[15,19,37,40,43,44,50,64,115,116,118,119,120,121,122,123,124,126,127,128,129,130,131],jt=[15,19,37,40,43,44,50,64,118,119,120,121,122,123,124,126,127,128,129,130,131],Mt=[1,303],$t=[1,306],Ft=[1,304],Gt=[1,305],Ht=[2,67],Bt=[5,15,19,37,40,43,50,58,64,76],zt=[1,351],Vt=[1,352],qt=[1,353],Yt=[1,354],Wt=[1,355],Zt=[1,361],Kt=[15,17,26],Jt={trace:function(){},yy:{},symbols_:{error:2,START:3,DEFINICIONXQUERY:4,EOF:5,FLWOR:6,USERFUNCTION:7,declare:8,function:9,PREFIX:10,dospuntos:11,identifier:12,parA:13,ARGUMENTOS:14,parC:15,TIPOFUNCION:16,corA:17,LISTAINSTR:18,corC:19,CUERPOFUNCION:20,OPCIONAL:21,RETURNTYPE:22,as:23,DATATYPE:24,LISTAARGS:25,coma:26,PARAM:27,dolar:28,decimal:29,string:30,boolean:31,double:32,integer:33,local:34,LISTAOP:35,LISTAOPCIONALES:36,where:37,diag:38,EXPRESION:39,order:40,by:41,LISTASORT:42,let:43,igual:44,LISTACONSULTAS:45,IntegerLiteral:46,to:47,LISTAENTEROS:48,PRIMITIVAXPATH:49,for:50,LISTADECLARACIONES:51,DECLARACIONFOR:52,in:53,at:54,LISTAVARIABLECALL:55,VARIABLECALL:56,llaveA:57,llaveC:58,LISTANODOS:59,TEXTCONTENT:60,TEXT:61,content:62,DoubleLiteral:63,return:64,FUNCIONXQUERY:65,IFDEF:66,LLAMADAFUNCION:67,LISTALLAMADA:68,VARLLAMADA:69,identifer:70,NODO:71,if:72,then:73,TIPOIF:74,LISTAELSEIF:75,else:76,ELSEIF:77,CONDICION:78,DECRETURN:79,LISTAATRIBUTOS:80,ATRIBUTOS:81,ATRIBUTO:82,asig:83,cadena:84,cadena2:85,SORT:86,CONSULTA:87,andSelect:88,MASTIPOS:89,TIPONODO:90,AXES:91,attr:92,PREDICATE:93,asterisco:94,dot:95,FUNCIONES:96,ancestor:97,NODETEST:98,ancestorSelf:99,attribute:100,child:101,descendant:102,descendantSelf:103,following:104,followingSib:105,namespace:106,parent:107,preced:108,precedSib:109,self:110,textFunc:111,nodeFunc:112,PRIMITIVA:113,OPERACION:114,mas:115,menos:116,div:117,lte:118,lt:119,gte:120,gt:121,nequal:122,or:123,and:124,mod:125,reserv_eq:126,reserv_ne:127,reserv_lt:128,reserv_le:129,reserv_gt:130,reserv_ge:131,data:132,"upper-case":133,substring:134,"lower-case":135,number:136,lastFunc:137,positionFunc:138,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",8:"declare",9:"function",11:"dospuntos",12:"identifier",13:"parA",15:"parC",17:"corA",19:"corC",23:"as",26:"coma",28:"dolar",29:"decimal",30:"string",31:"boolean",32:"double",33:"integer",34:"local",37:"where",38:"diag",40:"order",41:"by",43:"let",44:"igual",46:"IntegerLiteral",47:"to",50:"for",53:"in",54:"at",57:"llaveA",58:"llaveC",62:"content",63:"DoubleLiteral",64:"return",70:"identifer",72:"if",73:"then",76:"else",83:"asig",84:"cadena",85:"cadena2",88:"andSelect",92:"attr",94:"asterisco",95:"dot",97:"ancestor",99:"ancestorSelf",100:"attribute",101:"child",102:"descendant",103:"descendantSelf",104:"following",105:"followingSib",106:"namespace",107:"parent",108:"preced",109:"precedSib",110:"self",111:"textFunc",112:"nodeFunc",115:"mas",116:"menos",117:"div",118:"lte",119:"lt",120:"gte",121:"gt",122:"nequal",123:"or",124:"and",125:"mod",126:"reserv_eq",127:"reserv_ne",128:"reserv_lt",129:"reserv_le",130:"reserv_gt",131:"reserv_ge",132:"data",133:"upper-case",134:"substring",135:"lower-case",136:"number",137:"lastFunc",138:"positionFunc"},productions_:[0,[3,2],[4,1],[4,1],[7,12],[18,2],[18,1],[20,1],[20,1],[16,4],[16,0],[14,1],[14,0],[25,3],[25,1],[27,4],[24,1],[24,1],[24,1],[24,1],[24,1],[10,1],[6,2],[35,1],[35,0],[36,2],[36,1],[21,5],[21,6],[21,3],[21,6],[21,10],[21,8],[21,6],[21,2],[51,3],[51,1],[52,4],[52,8],[52,6],[52,7],[55,2],[55,1],[56,3],[56,5],[60,2],[60,1],[61,1],[61,1],[61,1],[61,1],[48,3],[48,1],[22,4],[22,2],[22,2],[22,4],[22,2],[67,6],[68,3],[68,1],[69,2],[69,1],[66,12],[66,13],[66,9],[75,2],[75,0],[77,10],[74,3],[74,3],[74,1],[74,2],[78,1],[79,1],[79,3],[79,1],[80,1],[80,0],[81,2],[81,1],[82,3],[82,3],[42,3],[42,1],[86,3],[45,3],[45,1],[87,2],[87,2],[87,1],[59,2],[59,0],[71,2],[71,3],[71,2],[71,3],[90,1],[90,4],[90,1],[90,1],[89,3],[89,3],[89,2],[89,3],[89,2],[89,1],[91,4],[91,4],[91,4],[91,4],[91,4],[91,4],[91,4],[91,4],[91,4],[91,4],[91,4],[91,4],[91,4],[98,2],[98,2],[98,2],[98,2],[93,3],[93,0],[39,1],[39,1],[39,1],[114,3],[114,3],[114,3],[114,3],[114,3],[114,3],[114,3],[114,3],[114,3],[114,3],[114,3],[114,3],[114,3],[114,3],[114,3],[114,3],[114,3],[114,3],[114,3],[114,3],[49,1],[49,1],[49,1],[49,1],[49,2],[113,0],[113,2],[113,2],[113,1],[113,2],[113,1],[113,1],[65,6],[65,6],[65,10],[65,6],[65,6],[65,6],[65,4],[65,4],[65,8],[65,4],[65,4],[65,4],[96,1],[96,1],[96,1],[96,1]],performAction:function(t,e,i,n,r,o,s){var a=o.length-1;switch(r){case 1:return this.$=o[a-1],this.$;case 2:case 3:case 7:case 8:case 11:case 16:case 17:case 18:case 19:case 20:case 21:case 23:case 46:case 57:case 62:case 71:case 73:case 77:case 90:case 128:case 175:this.$=o[a];break;case 4:this.$=o[a-11];break;case 5:case 25:case 41:case 66:case 79:o[a-1].push(o[a]),this.$=o[a-1];break;case 6:case 26:case 42:this.$=[o[a]];break;case 9:case 15:this.$=o[a-3];break;case 10:this.$=null;break;case 12:this.$=[];break;case 13:o[a-2].push(o[a-2]),this.$=o[a-2];break;case 14:case 52:case 60:case 80:case 84:this.$=[o[a]];break;case 22:this.$=new ue(o[a-1],o[a],s[a-1].first_line,s[a-1].first_column);break;case 24:case 67:case 78:case 125:this.$=[];break;case 27:this.$=new ge(o[a-2],o[a],!0,s[a-4].first_line,s[a-4].first_column);break;case 28:this.$=new ge(o[a-3],o[a],!1,s[a-5].first_line,s[a-5].first_column);break;case 29:this.$=new pe(o[a],s[a-2].first_line,s[a-2].first_column);break;case 30:this.$=new de(o[a-3],o[a],s[a-5].first_line,s[a-5].first_column);break;case 31:this.$=new de(o[a-7],null,s[a-9].first_line,s[a-9].first_column,+o[a-3],+o[a-1]);break;case 32:this.$=new de(o[a-5],null,s[a-7].first_line,s[a-7].first_column,void 0,void 0,o[a-1]);break;case 33:this.$=new de(o[a-3],null,s[a-5].first_line,s[a-5].first_column,void 0,void 0,void 0,o[a]);break;case 34:this.$=new me(o[a],s[a-1].first_line,s[a-1].first_column);break;case 35:o[a-2].push(o[a-1]),this.$=o[a-2];break;case 36:this.$=[o[a]];break;case 37:this.$=new be(Te.NORMAL,o[a-2],o[a],s[a-3].first_line,s[a-3].first_column);break;case 38:this.$=new be(Te.ITERATIVO,o[a-6],null,s[a-7].first_line,s[a-7].first_column,void 0,+o[a-3],+o[a-1]);break;case 39:this.$=new be(Te.ITERATIVO,o[a-4],null,s[a-5].first_line,s[a-5].first_column,void 0,void 0,void 0,o[a-1]);break;case 40:this.$=new be(Te.AT,o[a-5],o[a],s[a-6].first_line,s[a-6].first_column,o[a-2]);break;case 43:this.$=new Oe(void 0,void 0,o[a-1],s[a-2].first_line,s[a-2].first_column);break;case 44:this.$=new Oe(o[a-2],o[a-1],void 0,s[a-4].first_line,s[a-4].first_column);break;case 45:o[a-1]=o[a-1]+" "+o[a],this.$=o[a-1];break;case 47:case 48:this.$=o[a].toString().replaceAll('"',"");break;case 49:case 50:this.$=o[a].toString().replaceAll('"',"");break;case 51:case 83:o[a-2].push(o[a]),this.$=o[a-2];break;case 53:this.$=new he(fe.NORMAL,o[a-1],o[a],void 0,void 0,void 0,s[a-3].first_line,s[a-3].first_column);break;case 54:this.$=new he(fe.FUNCIONXQUERY,void 0,void 0,void 0,void 0,o[a],s[a-1].first_line,s[a-1].first_column);break;case 55:this.$=new he(fe.IFTHENELSE,void 0,void 0,void 0,o[a],void 0,s[a-1].first_line,s[a-1].first_column);break;case 56:case 61:case 69:this.$=o[a-1];break;case 58:this.$="Llamada";break;case 59:o[a-2].push(o[a]),this.$=o[a-2];break;case 63:this.$=new ye(o[a-8],o[a-6],o[a-3],o[a-2],o[a],!0,s[a-11].first_line,s[a-11].first_column);break;case 64:this.$=new ye(o[a-9],o[a-6],o[a-3],o[a-2],o[a],!1,s[a-12].first_line,s[a-12].first_column);break;case 65:new ye(void 0,o[a-6],o[a-3],o[a-2],o[a],!1,s[a-8].first_line,s[a-8].first_column);break;case 68:this.$=new Ae(o[a-5],o[a-3],o[a],s[a-9].first_line,s[a-9].first_column);break;case 70:case 124:this.$=o[a-1];break;case 72:this.$=new Ie(void 0,void 0,void 0,void 0,!0,s[a-1].first_line,s[a-1].first_column);break;case 74:this.$=new Ie(void 0,void 0,void 0,o[a],!1,s[a].first_line,s[a].first_column);break;case 75:this.$=new Ie(o[a-1],o[a],void 0,void 0,!1,s[a-2].first_line,s[a-2].first_column);break;case 76:this.$=new Ie(void 0,void 0,void 0,void 0,!1,s[a].first_line,s[a].first_column);break;case 81:case 82:this.$=new Re(o[a-2].toString().replaceAll('"',""),o[a],s[a-2].first_line,s[a-2].first_column);break;case 85:this.$=new Ee(o[a-1],o[a],s[a-2].first_line,s[a-2].first_column);break;case 86:this.$=[new ie(o[a-2],s[a-2].first_line,s[a-2].first_column)],this.$=this.$.concat(o[a]);break;case 87:this.$=[new ie(o[a],s[a].first_line,s[a].first_column)];break;case 88:this.$=[new ne(o[a-1],ae.IDENTIFIER,s[a-1].first_line,s[a-1].first_column)],o[a].length>0&&(this.$=this.$.concat(o[a]));break;case 89:this.$=[o[a-1]],o[a].length>0&&(this.$=this.$.concat(o[a]));break;case 91:this.$=[o[a-1]],this.$=this.$.concat(o[a]);break;case 92:this.$=[];break;case 93:o[a].fromRoot=!0,this.$=o[a];break;case 94:o[a].fromRoot=!1,this.$=o[a];break;case 95:console.log("Entra a error sintactico de one diag"),le.default.agregarError("sintactico","Token inesperado '"+t+"'",s[a-1].first_line,s[a-1].first_column),this.$=new ne(o[a],ae.NODOERROR,s[a-1].first_line,s[a-1].first_column);break;case 96:console.log("Entra a error sintactico de two diags"),le.default.agregarError("sintactico","Token inesperado '"+t+"'",s[a-2].first_line,s[a-2].first_column),this.$=new ne(o[a],ae.NODOERROR,s[a-2].first_line,s[a-2].first_column);break;case 97:this.$=new ne(o[a],ae.IDENTIFIER,s[a].first_line,s[a].first_column);break;case 98:this.$=new ne(o[a-3],ae.IDENTIFIER,s[a-3].first_line,s[a-3].first_column,new re(o[a-1],s[a-1].first_line,s[a-1].first_column));break;case 99:case 100:case 126:case 173:case 174:case 176:this.$=o[a];break;case 101:case 102:this.$=new ne(o[a-1],ae.ATRIBUTO,s[a-2].first_line,s[a-2].first_column);break;case 103:this.$=new ne(o[a-1],ae.DOT,s[a-1].first_line,s[a-1].first_column);break;case 104:this.$=new ne(o[a-2]+o[a-1],ae.DOTDOT,s[a-2].first_line,s[a-2].first_column);break;case 105:this.$=new ne(o[a-1],ae.ASTERISCO,s[a-1].first_line,s[a-1].first_column);break;case 106:this.$=new ne(o[a],ae.FUNCION,s[a].first_line,s[a].first_column);break;case 107:this.$=new ne(o[a-3],ae.AXIS,s[a-3].first_line,s[a-3].first_column,void 0,ce.ANCESTOR,o[a-1]);break;case 108:this.$=new ne(o[a-3],ae.AXIS,s[a-3].first_line,s[a-3].first_column,void 0,ce.ANCESTORORSELF,o[a-1]);break;case 109:this.$=new ne(o[a-3],ae.AXIS,s[a-3].first_line,s[a-3].first_column,void 0,ce.ATTRIBUTE,o[a-1]);break;case 110:this.$=new ne(o[a-3],ae.AXIS,s[a-3].first_line,s[a-3].first_column,void 0,ce.CHILD,o[a-1]);break;case 111:this.$=new ne(o[a-3],ae.AXIS,s[a-3].first_line,s[a-3].first_column,void 0,ce.DESCENDANT,o[a-1]);break;case 112:this.$=new ne(o[a-3],ae.AXIS,s[a-3].first_line,s[a-3].first_column,void 0,ce.DESCENDANTORSELF,o[a-1]);break;case 113:this.$=new ne(o[a-3],ae.AXIS,s[a-3].first_line,s[a-3].first_column,void 0,ce.FOLLOWING,o[a-1]);break;case 114:this.$=new ne(o[a-3],ae.AXIS,s[a-3].first_line,s[a-3].first_column,void 0,ce.FOLLOWINGSIBLING,o[a-1]);break;case 115:this.$=new ne(o[a-3],ae.AXIS,s[a-3].first_line,s[a-3].first_column,void 0,ce.NAMESPACE,o[a-1]);break;case 116:this.$=new ne(o[a-3],ae.AXIS,s[a-3].first_line,s[a-3].first_column,void 0,ce.PARENT,o[a-1]);break;case 117:this.$=new ne(o[a-3],ae.AXIS,s[a-3].first_line,s[a-3].first_column,void 0,ce.PRECEDING,o[a-1]);break;case 118:this.$=new ne(o[a-3],ae.AXIS,s[a-3].first_line,s[a-3].first_column,void 0,ce.PRECEDINGSIBLING,o[a-1]);break;case 119:this.$=new ne(o[a-3],ae.AXIS,s[a-3].first_line,s[a-3].first_column,void 0,ce.SELF,o[a-1]);break;case 120:o[a]instanceof re?this.$=new ne(o[a-1],ae.IDENTIFIER,s[a-1].first_line,s[a-1].first_column):this.$=new ne(o[a-1],ae.IDENTIFIER,s[a-1].first_line,s[a-1].first_column,o[a]);break;case 121:case 122:o[a]instanceof re?this.$=new ne(o[a-1],ae.FUNCION,s[a-1].first_line,s[a-1].first_column):this.$=new ne(o[a-1],ae.FUNCION,s[a-1].first_line,s[a-1].first_column,o[a]);break;case 123:o[a]instanceof re?this.$=new ne(o[a-1],ae.ASTERISCO,s[a-1].first_line,s[a-1].first_column):this.$=new ne(o[a-1],ae.ASTERISCO,s[a-1].first_line,s[a-1].first_column,o[a]);break;case 127:this.$=o[a];break;case 129:this.$=new ee(se.MULTIPLICACION,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column,!0);break;case 130:this.$=new ee(se.SUMA,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column,!0);break;case 131:this.$=new ee(se.RESTA,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column,!0);break;case 132:this.$=new ee(se.DIVISION,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column,!0);break;case 133:case 145:this.$=new ee(se.MENORIGUALQUE,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column,!0);break;case 134:case 144:this.$=new ee(se.MENORQUE,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column,!0);break;case 135:case 147:this.$=new ee(se.MAYORIGUALQUE,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column,!0);break;case 136:case 146:this.$=new ee(se.MAYORQUE,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column,!0);break;case 137:case 142:this.$=new ee(se.IGUAL,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column,!0);break;case 138:case 143:this.$=new ee(se.DIFERENTEQUE,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column,!0);break;case 139:this.$=new ee(se.OR,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column,!0);break;case 140:this.$=new ee(se.AND,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column,!0);break;case 141:this.$=new ee(se.MOD,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column,!0);break;case 148:this.$=new ee(se.PAR,o[a-1],null,s[a-2].first_line,s[a-2].first_column,!0);break;case 149:this.$=new te(o[a],oe.DOUBLE,s[a].first_line,s[a].first_column,!0);break;case 150:this.$=new te(o[a],oe.INTEGER,s[a].first_line,s[a].first_column,!0);break;case 151:case 152:this.$=new te(o[a],oe.CADENA,s[a].first_line,s[a].first_column,!0);break;case 153:this.$=new te(o[a-1],oe.XQUERYIDENTIFIER,s[a-1].first_line,s[a-1].first_column,!0);break;case 155:case 156:this.$=new te(o[a],oe.ATRIBUTO,s[a-1].first_line,s[a-1].first_column,!0);break;case 157:this.$=new te(o[a],oe.DOT,s[a].first_line,s[a].first_column,!0);break;case 158:o[a].length>0?(this.$=[new ne(o[a-1],ae.IDENTIFIER,s[a-1].first_line,s[a-1].first_column)],this.$=this.$.concat(o[a]),this.$=new te(this.$,oe.CONSULTA,s[a-1].first_line,s[a-1].first_column)):this.$=new te(o[a-1],oe.IDENTIFIER,s[a-1].first_line,s[a-1].first_column);break;case 159:this.$=new te(o[a],oe.FUNCION,s[a].first_line,s[a].first_column);break;case 160:this.$=new te(o[a],oe.FUNCIONXQUERY,s[a].first_line,s[a].first_column);break;case 161:this.$=new ve(Ne.DATA,o[a-2],o[a-1],s[a-5].first_line,s[a-5].first_column);break;case 162:this.$=new ve(Ne.UPPERCASE,o[a-2],o[a-1],s[a-5].first_line,s[a-5].first_column);break;case 163:this.$=new ve(Ne.SUBSTRING,o[a-6],o[a-5],s[a-9].first_line,s[a-9].first_column,+o[a-3],+o[a-1]);break;case 164:this.$=new ve(Ne.LOWERCASE,o[a-2],o[a-1],s[a-5].first_line,s[a-5].first_column);break;case 165:this.$=new ve(Ne.STRING,o[a-2],o[a-1],s[a-5].first_line,s[a-5].first_column);break;case 166:this.$=new ve(Ne.NUMBER,o[a-2],o[a-1],s[a-5].first_line,s[a-5].first_column);break;case 167:this.$=new ve(Ne.DATA,void 0,void 0,s[a-3].first_line,s[a-3].first_column,void 0,void 0,o[a-1]);break;case 168:this.$=new ve(Ne.UPPERCASE,void 0,void 0,s[a-3].first_line,s[a-3].first_column,void 0,void 0,o[a-1]);break;case 169:this.$=new ve(Ne.SUBSTRING,void 0,void 0,s[a-7].first_line,s[a-7].first_column,+o[a-3],+o[a-1],o[a-5]);break;case 170:this.$=new ve(Ne.LOWERCASE,void 0,void 0,s[a-3].first_line,s[a-3].first_column,void 0,void 0,o[a-1]);break;case 171:this.$=new ve(Ne.STRING,void 0,void 0,s[a-3].first_line,s[a-3].first_column,void 0,void 0,o[a-1]);break;case 172:this.$=new ve(Ne.NUMBER,void 0,void 0,s[a-3].first_line,s[a-3].first_column,void 0,void 0,o[a-1])}},table:[{3:1,4:2,6:3,7:4,8:[1,6],21:8,35:5,36:7,37:e,40:n,43:r,50:o,64:[2,24]},{1:[3]},{5:[1,13]},{5:[2,2]},{5:[2,3]},{22:14,64:s},{9:[1,16]},{21:17,37:e,40:n,43:r,50:o,64:[2,23]},t(a,[2,26]),{28:[1,18]},{41:[1,19]},{28:[1,20]},{28:c,51:21,52:22},{1:[2,1]},{5:[2,22]},{13:[1,27],28:[1,24],30:l,34:u,65:25,66:26,67:28,72:[1,35],132:h,133:f,134:g,135:m,136:d},{10:37,34:[1,38]},t(a,[2,25]),{12:[1,39]},{28:p,42:40,86:41},{12:[1,43]},t(T,[2,34],{26:[1,44]}),t(b,[2,36]),{12:[1,45]},{12:[1,46]},t(E,[2,54]),t(E,[2,55]),{34:u,67:47},t(E,[2,57]),{13:[1,48]},{13:[1,49]},{13:[1,50]},{13:[1,51]},{13:[1,52]},{13:[1,53]},{13:[1,54]},{11:[1,55]},{11:[1,56]},{11:[2,21]},{38:[1,57]},t(T,[2,29],{26:[1,58]}),t(b,[2,84]),{12:[1,59]},{11:[1,60]},{28:c,52:61},{53:[1,62],54:[1,63]},t(E,I,{59:64,71:65,38:v}),{15:[1,67]},{28:[1,68],30:l,65:69,132:h,133:f,134:g,135:m,136:d},{28:[1,70],30:l,65:71,132:h,133:f,134:g,135:m,136:d},{28:[1,72],30:l,65:73,132:h,133:f,134:g,135:m,136:d},{28:[1,74],30:l,65:75,132:h,133:f,134:g,135:m,136:d},{28:[1,76],30:l,65:77,132:h,133:f,134:g,135:m,136:d},{28:[1,78],30:l,65:79,132:h,133:f,134:g,135:m,136:d},t(y,A,{39:81,113:82,114:83,49:84,96:88,65:89,12:O,13:N,28:[1,80],30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),{12:[1,99]},{12:[1,100]},t(C,A,{113:82,114:83,49:84,96:88,65:89,39:101,12:O,13:N,28:x,30:l,38:[1,102],46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),{28:p,86:104},t(b,I,{71:65,59:105,38:v}),{44:[1,106]},t(b,[2,35]),t(Q,I,{71:65,45:107,87:109,89:111,59:112,96:116,12:j,13:[1,108],38:v,92:M,94:$,95:F,111:U,112:P,137:L,138:X}),{28:[1,117]},t(E,[2,53]),t(G,I,{71:65,59:118,38:v}),{2:[1,121],12:H,38:[1,120],89:123,90:119,91:124,92:M,94:$,95:F,96:116,97:B,99:z,100:V,101:q,102:Y,103:W,104:Z,105:K,106:J,107:tt,108:et,109:it,110:nt,111:U,112:P,137:L,138:X},t(E,[2,56]),{12:[1,138]},{15:[1,139]},{12:[1,140]},{15:[1,141]},{12:[1,142]},{26:[1,143]},{12:[1,144]},{15:[1,145]},{12:[1,146]},{15:[1,147]},{12:[1,148]},{15:[1,149]},{12:[1,150]},{15:[1,151],44:rt,94:ot,115:st,116:at,117:ct,118:lt,119:ut,120:ht,121:ft,122:gt,123:mt,124:dt,125:pt,126:Tt,127:bt,128:Et,129:It,130:vt,131:yt},t(At,[2,126]),t(At,[2,127]),t(At,[2,128]),{12:[1,171],94:[1,172]},t(At,[2,157]),t(At,I,{71:65,59:173,38:v}),t(At,[2,159]),t(At,[2,160]),t(y,A,{113:82,114:83,49:84,96:88,65:89,39:174,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,[2,149]),t(At,[2,150]),t(At,[2,151]),t(At,[2,152]),t(Ot,[2,173]),t(Ot,[2,174]),t(Ot,[2,175]),t(Ot,[2,176]),{13:[1,175]},{13:[1,176]},t(T,[2,27],{44:rt,94:ot,115:st,116:at,117:ct,118:lt,119:ut,120:ht,121:ft,122:gt,123:mt,124:dt,125:pt,126:Tt,127:bt,128:Et,129:It,130:vt,131:yt}),t(C,A,{113:82,114:83,49:84,96:88,65:89,39:177,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),{12:[1,178]},t(b,[2,83]),t(b,[2,85]),t([19,37,40,43,50,64,88],I,{71:65,87:109,89:111,59:112,96:116,45:179,49:181,12:j,13:[1,180],28:x,38:v,46:R,63:_,84:S,85:k,92:M,94:$,95:F,111:U,112:P,137:L,138:X}),t(b,[2,37]),{46:[1,182],48:183},t(b,[2,87],{88:[1,184]}),t(Q,I,{71:65,59:185,38:v}),t(Q,I,{71:65,59:186,38:v}),t(Q,[2,90]),{12:[1,187],94:[1,188]},t(Ot,Nt,{93:189,17:Rt,95:[1,190]}),t(Ot,Nt,{93:192,17:Rt}),t(Ot,[2,106]),{12:[1,193]},t(G,[2,91]),t(Ot,[2,93]),{2:[1,195],12:H,89:123,90:194,91:124,92:M,94:$,95:F,96:116,97:B,99:z,100:V,101:q,102:Y,103:W,104:Z,105:K,106:J,107:tt,108:et,109:it,110:nt,111:U,112:P,137:L,138:X},t(Ot,[2,95]),t(Ot,[2,97],{17:[1,196]}),t(Ot,[2,99]),t(Ot,[2,100]),{11:[1,197]},{11:[1,198]},{11:[1,199]},{11:[1,200]},{11:[1,201]},{11:[1,202]},{11:[1,203]},{11:[1,204]},{11:[1,205]},{11:[1,206]},{11:[1,207]},{11:[1,208]},{11:[1,209]},{15:I,38:v,59:210,71:65},t(_t,[2,167]),{15:I,38:v,59:211,71:65},t(_t,[2,168]),{26:I,38:v,59:212,71:65},{46:[1,213]},{15:I,38:v,59:214,71:65},t(_t,[2,170]),{15:I,38:v,59:215,71:65},t(_t,[2,171]),{15:I,38:v,59:216,71:65},t(_t,[2,172]),t(y,St,{38:[1,217]}),{73:[1,218]},t(At,A,{113:82,114:83,49:84,96:88,65:89,39:219,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:220,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:221,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:222,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:223,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:224,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:225,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:226,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:227,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:228,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:229,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:230,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:231,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:232,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:233,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:234,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:235,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:236,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,A,{113:82,114:83,49:84,96:88,65:89,39:237,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(At,[2,155]),t(At,[2,156]),t(At,[2,158]),{15:[1,238],44:rt,94:ot,115:st,116:at,117:ct,118:lt,119:ut,120:ht,121:ft,122:gt,123:mt,124:dt,125:pt,126:Tt,127:bt,128:Et,129:It,130:vt,131:yt},{28:kt,38:v,68:239,69:240,71:242},{14:243,15:[2,12],25:244,27:245,28:wt},t(T,[2,28],{44:rt,94:ot,115:st,116:at,117:ct,118:lt,119:ut,120:ht,121:ft,122:gt,123:mt,124:dt,125:pt,126:Tt,127:bt,128:Et,129:It,130:vt,131:yt}),t(At,St),t(T,[2,30]),{46:[1,247],48:248},t(T,[2,33]),t(Dt,Ut,{47:[1,249]}),{15:[1,250],26:Pt},t(Q,I,{71:65,87:109,89:111,59:112,96:116,45:252,12:j,38:v,92:M,94:$,95:F,111:U,112:P,137:L,138:X}),t(Q,[2,88]),t(Q,[2,89]),t(Ot,Nt,{93:253,17:Rt}),t(Ot,Nt,{93:254,17:Rt}),t(Ot,[2,103]),t(Ot,Nt,{93:255,17:Rt}),t(Lt,A,{113:82,114:83,49:84,96:88,65:89,39:256,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),t(Ot,[2,105]),{53:[1,257]},t(Ot,[2,94]),t(Ot,[2,96]),t(Lt,A,{113:82,114:83,49:84,96:88,65:89,39:258,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),{11:[1,259]},{11:[1,260]},{11:[1,261]},{11:[1,262]},{11:[1,263]},{11:[1,264]},{11:[1,265]},{11:[1,266]},{11:[1,267]},{11:[1,268]},{11:[1,269]},{11:[1,270]},{11:[1,271]},{15:[1,272]},{15:[1,273]},{26:[1,274]},{26:[1,275]},{15:[1,276]},{15:[1,277]},{15:[1,278]},t(y,A,{113:82,114:83,49:84,96:88,65:89,39:279,12:O,13:N,28:x,30:l,38:[1,280],46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),{13:Xt,28:Ct,30:l,34:u,57:xt,65:286,67:288,74:281,78:284,79:285,132:h,133:f,134:g,135:m,136:d},t(At,[2,129]),t(Qt,[2,130],{94:ot,117:ct,125:pt}),t(Qt,[2,131],{94:ot,117:ct,125:pt}),t(At,[2,132]),t(jt,[2,133],{94:ot,115:st,116:at,117:ct,125:pt}),t(jt,[2,134],{94:ot,115:st,116:at,117:ct,125:pt}),t(jt,[2,135],{94:ot,115:st,116:at,117:ct,125:pt}),t(jt,[2,136],{94:ot,115:st,116:at,117:ct,125:pt}),t(jt,[2,137],{94:ot,115:st,116:at,117:ct,125:pt}),t(jt,[2,138],{94:ot,115:st,116:at,117:ct,125:pt}),t([15,19,37,40,43,50,64,123],[2,139],{44:rt,94:ot,115:st,116:at,117:ct,118:lt,119:ut,120:ht,121:ft,122:gt,124:dt,125:pt,126:Tt,127:bt,128:Et,129:It,130:vt,131:yt}),t([15,19,37,40,43,50,64,123,124],[2,140],{44:rt,94:ot,115:st,116:at,117:ct,118:lt,119:ut,120:ht,121:ft,122:gt,125:pt,126:Tt,127:bt,128:Et,129:It,130:vt,131:yt}),t(At,[2,141]),t(jt,[2,142],{94:ot,115:st,116:at,117:ct,125:pt}),t(jt,[2,143],{94:ot,115:st,116:at,117:ct,125:pt}),t(jt,[2,144],{94:ot,115:st,116:at,117:ct,125:pt}),t(jt,[2,145],{94:ot,115:st,116:at,117:ct,125:pt}),t(jt,[2,146],{94:ot,115:st,116:at,117:ct,125:pt}),t(jt,[2,147],{94:ot,115:st,116:at,117:ct,125:pt}),t(At,[2,148]),{15:[1,289],26:[1,290]},t(Dt,[2,60]),{70:[1,291]},t(Dt,[2,62]),{15:[1,292]},{15:[2,11],26:[1,293]},t(Dt,[2,14]),{12:[1,294]},t(Dt,Ut,{47:[1,295]}),{15:[1,296],26:Pt},{46:[1,297]},t(b,[2,39]),{46:[1,298]},t(b,[2,86]),t(Ot,[2,101]),t(Ot,[2,102]),t(Ot,[2,104]),{19:[1,299],44:rt,94:ot,115:st,116:at,117:ct,118:lt,119:ut,120:ht,121:ft,122:gt,123:mt,124:dt,125:pt,126:Tt,127:bt,128:Et,129:It,130:vt,131:yt},t(Q,I,{71:65,87:109,89:111,59:112,96:116,45:300,12:j,38:v,92:M,94:$,95:F,111:U,112:P,137:L,138:X}),{19:[1,301],44:rt,94:ot,115:st,116:at,117:ct,118:lt,119:ut,120:ht,121:ft,122:gt,123:mt,124:dt,125:pt,126:Tt,127:bt,128:Et,129:It,130:vt,131:yt},{12:Mt,94:$t,98:302,111:Ft,112:Gt},{12:Mt,94:$t,98:307,111:Ft,112:Gt},{12:Mt,94:$t,98:308,111:Ft,112:Gt},{12:Mt,94:$t,98:309,111:Ft,112:Gt},{12:Mt,94:$t,98:310,111:Ft,112:Gt},{12:Mt,94:$t,98:311,111:Ft,112:Gt},{12:Mt,94:$t,98:312,111:Ft,112:Gt},{12:Mt,94:$t,98:313,111:Ft,112:Gt},{12:Mt,94:$t,98:314,111:Ft,112:Gt},{12:Mt,94:$t,98:315,111:Ft,112:Gt},{12:Mt,94:$t,98:316,111:Ft,112:Gt},{12:Mt,94:$t,98:317,111:Ft,112:Gt},{12:Mt,94:$t,98:318,111:Ft,112:Gt},t(_t,[2,161]),t(_t,[2,162]),{46:[1,319]},{46:[1,320]},t(_t,[2,164]),t(_t,[2,165]),t(_t,[2,166]),{15:[1,321],44:rt,94:ot,115:st,116:at,117:ct,118:lt,119:ut,120:ht,121:ft,122:gt,123:mt,124:dt,125:pt,126:Tt,127:bt,128:Et,129:It,130:vt,131:yt},t(y,A,{113:82,114:83,49:84,96:88,65:89,39:322,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),{75:323,76:Ht},{13:Xt,15:[1,325],28:Ct,30:l,34:u,57:xt,65:286,67:288,74:324,78:284,79:285,132:h,133:f,134:g,135:m,136:d},{13:Xt,28:Ct,30:l,34:u,57:xt,65:286,67:288,74:326,78:284,79:285,132:h,133:f,134:g,135:m,136:d},t(Bt,[2,71]),t(Bt,[2,73]),t(Bt,[2,74]),{12:[1,327]},t(Bt,[2,76]),t(Bt,[2,58]),{28:kt,38:v,69:328,71:242},t(Dt,[2,61]),{16:329,17:[2,10],23:[1,330]},{27:331,28:wt},{23:[1,332]},{46:[1,333]},t(T,[2,32]),{15:[1,334]},t(Dt,[2,51]),t(Ot,[2,124]),t(b,[2,40]),t(Ot,[2,98]),t(Ot,[2,107]),t(Ot,Nt,{93:335,17:Rt}),t(Ot,Nt,{93:336,17:Rt}),t(Ot,Nt,{93:337,17:Rt}),t(Ot,Nt,{93:338,17:Rt}),t(Ot,[2,108]),t(Ot,[2,109]),t(Ot,[2,110]),t(Ot,[2,111]),t(Ot,[2,112]),t(Ot,[2,113]),t(Ot,[2,114]),t(Ot,[2,115]),t(Ot,[2,116]),t(Ot,[2,117]),t(Ot,[2,118]),t(Ot,[2,119]),{26:[1,339]},{15:[1,340]},{73:[1,341]},{15:[1,342],44:rt,94:ot,115:st,116:at,117:ct,118:lt,119:ut,120:ht,121:ft,122:gt,123:mt,124:dt,125:pt,126:Tt,127:bt,128:Et,129:It,130:vt,131:yt},{76:[1,343],77:344},{15:[1,345]},t(Bt,[2,72]),{58:[1,346]},t(Bt,I,{71:65,59:347,38:v}),t(Dt,[2,59]),{17:[1,348]},{12:[1,349]},t(Dt,[2,13]),{24:350,29:zt,30:Vt,31:qt,32:Yt,33:Wt},{15:[1,356]},t(b,[2,38]),t(Ot,[2,120]),t(Ot,[2,121]),t(Ot,[2,122]),t(Ot,[2,123]),{46:[1,357]},t(_t,[2,169]),{13:Xt,28:Ct,30:l,34:u,57:xt,65:286,67:288,74:358,78:284,79:285,132:h,133:f,134:g,135:m,136:d},{73:[1,359]},{13:Xt,28:Ct,30:l,34:u,57:xt,65:286,67:288,72:Zt,74:360,78:284,79:285,132:h,133:f,134:g,135:m,136:d},{76:[2,66]},t(Bt,[2,69]),t(Bt,[2,70]),t(Bt,[2,75]),{18:362,20:363,21:364,22:365,37:e,40:n,43:r,50:o,64:s},{11:[1,366]},t(Dt,[2,15]),t(Kt,[2,16]),t(Kt,[2,17]),t(Kt,[2,18]),t(Kt,[2,19]),t(Kt,[2,20]),t(T,[2,31]),{15:[1,367]},{75:368,76:Ht},{13:Xt,28:Ct,30:l,34:u,57:xt,65:286,67:288,74:369,78:284,79:285,132:h,133:f,134:g,135:m,136:d},t(E,[2,65]),{13:[1,370]},{19:[1,371],20:372,21:364,22:365,37:e,40:n,43:r,50:o,64:s},t(T,[2,6]),t(T,[2,7]),t(T,[2,8]),{24:373,29:zt,30:Vt,31:qt,32:Yt,33:Wt},t(_t,[2,163]),{76:[1,374],77:344},{75:375,76:Ht},{28:[1,376]},{5:[2,4]},t(T,[2,5]),{17:[2,9]},{13:Xt,28:Ct,30:l,34:u,57:xt,65:286,67:288,72:Zt,74:377,78:284,79:285,132:h,133:f,134:g,135:m,136:d},{76:[1,378],77:344},{12:[1,379]},t(E,[2,63]),{13:Xt,28:Ct,30:l,34:u,57:xt,65:286,67:288,72:Zt,74:380,78:284,79:285,132:h,133:f,134:g,135:m,136:d},{38:[1,381]},t(E,[2,64]),t(y,A,{113:82,114:83,49:84,96:88,65:89,39:382,12:O,13:N,28:x,30:l,46:R,63:_,84:S,85:k,92:w,95:D,111:U,112:P,132:h,133:f,134:g,135:m,136:d,137:L,138:X}),{15:[1,383],44:rt,94:ot,115:st,116:at,117:ct,118:lt,119:ut,120:ht,121:ft,122:gt,123:mt,124:dt,125:pt,126:Tt,127:bt,128:Et,129:It,130:vt,131:yt},{73:[1,384]},{13:Xt,28:Ct,30:l,34:u,57:xt,65:286,67:288,74:385,78:284,79:285,132:h,133:f,134:g,135:m,136:d},{76:[2,68]}],defaultActions:{3:[2,2],4:[2,3],13:[2,1],14:[2,22],38:[2,21],344:[2,66],371:[2,4],373:[2,9],385:[2,68]},parseError:function(t,e){if(!e.recoverable){var i=new Error(t);throw i.hash=e,i}this.trace(t)},parse:function(t){var e=this,i=[0],n=[null],r=[],o=this.table,s="",a=0,c=0,l=0,u=2,h=1,f=r.slice.call(arguments,1),g=Object.create(this.lexer),m={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(m.yy[d]=this.yy[d]);g.setInput(t,m.yy),m.yy.lexer=g,m.yy.parser=this,"undefined"==typeof g.yylloc&&(g.yylloc={});var p=g.yylloc;r.push(p);var T=g.options&&g.options.ranges;function b(t){i.length=i.length-2*t,n.length=n.length-t,r.length=r.length-t}"function"===typeof m.yy.parseError?this.parseError=m.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var E,I,v,y,A,O,N,R,_,S=function(){var t;return"number"!==typeof(t=g.lex()||h)&&(t=e.symbols_[t]||t),t},k={};;){if(v=i[i.length-1],this.defaultActions[v]?y=this.defaultActions[v]:(null!==E&&"undefined"!=typeof E||(E=S()),y=o[v]&&o[v][E]),"undefined"===typeof y||!y.length||!y[0]){var w,D=function(t){for(var e=i.length-1,n=0;;){if(u.toString()in o[t])return n;if(0===t||e<2)return!1;t=i[e-=2],++n}},U="";if(l)I!==h&&(w=D(v));else{for(O in w=D(v),_=[],o[v])this.terminals_[O]&&O>u&&_.push("'"+this.terminals_[O]+"'");U=g.showPosition?"Parse error on line "+(a+1)+":\n"+g.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[E]||E)+"'":"Parse error on line "+(a+1)+": Unexpected "+(E==h?"end of input":"'"+(this.terminals_[E]||E)+"'"),this.parseError(U,{text:g.match,token:this.terminals_[E]||E,line:g.yylineno,loc:p,expected:_,recoverable:!1!==w})}if(3==l){if(E===h||I===h)throw new Error(U||"Parsing halted while starting to recover from another error.");c=g.yyleng,s=g.yytext,a=g.yylineno,p=g.yylloc,E=S()}if(!1===w)throw new Error(U||"Parsing halted. No suitable error recovery rule available.");b(w),I=E==u?null:E,E=u,v=i[i.length-1],y=o[v]&&o[v][u],l=3}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+E);switch(y[0]){case 1:i.push(E),n.push(g.yytext),r.push(g.yylloc),i.push(y[1]),E=null,I?(E=I,I=null):(c=g.yyleng,s=g.yytext,a=g.yylineno,p=g.yylloc,l>0&&l--);break;case 2:if(N=this.productions_[y[1]][1],k.$=n[n.length-N],k._$={first_line:r[r.length-(N||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(N||1)].first_column,last_column:r[r.length-1].last_column},T&&(k._$.range=[r[r.length-(N||1)].range[0],r[r.length-1].range[1]]),"undefined"!==typeof(A=this.performAction.apply(k,[s,c,a,m.yy,y[1],n,r].concat(f))))return A;N&&(i=i.slice(0,-1*N*2),n=n.slice(0,-1*N),r=r.slice(0,-1*N)),i.push(this.productions_[y[1]][0]),n.push(k.$),r.push(k._$),R=o[i[i.length-2]][i[i.length-1]],i.push(R);break;case 3:return!0}}return!0}},te=i(0).Primitiva,ee=i(29).Operacion,ie=i(17).Consulta,ne=i(10).Nodo,re=i(95).Predicate,oe=i(0).TipoPrim,se=i(29).TipoOperacion,ae=i(10).TipoNodo,ce=i(10).TipoAxis,le=i(9),ue=i(163).Flwor,he=i(113).Return,fe=i(113).TipoReturn,ge=i(164).Where,me=i(165).For,de=i(166).Let,pe=i(167).OrderBy,Te=i(114).TipoFor,be=i(114).DeclaracionFor,Ee=i(168).Sort,Ie=i(169).CondicionIf,ve=i(115).FuncionXQuery,ye=(i(170).Html,i(171).IfThenElse),Ae=i(172).ElseIf,Oe=i(173).VarCall,Ne=i(115).TipoFuncionXQ,Re=i(61).Atributo,_e={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var i,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,i,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((i=this._input.match(this.rules[r[o]]))&&(!e||i[0].length>e[0].length)){if(e=i,n=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(i,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,i,n){switch(i){case 0:break;case 1:this.begin("comment");break;case 2:this.popState();break;case 3:break;case 4:return 28;case 5:return 44;case 6:return 38;case 7:return"dot";case 8:return"attr";case 9:return"corA";case 10:return"corC";case 11:return"andSelect";case 12:return"dospuntos";case 13:return"parA";case 14:return"parC";case 15:return"llaveA";case 16:return"llaveC";case 17:return"coma";case 18:return 94;case 19:return"mas";case 20:return"menos";case 21:return"div";case 22:return 118;case 23:return"gte";case 24:return 119;case 25:return 121;case 26:return"nequal";case 27:return"or";case 28:return"and";case 29:return"mod";case 30:return"for";case 31:return"in";case 32:return"to";case 33:return"at";case 34:return"let";case 35:return"where";case 36:return"order";case 37:return"by";case 38:return"return";case 39:return"if";case 40:return"else";case 41:return"then";case 42:return"reserv_eq";case 43:return"reserv_gt";case 44:return"reserv_ge";case 45:return"reserv_ne";case 46:return"reserv_le";case 47:return"reserv_lt";case 48:return"ancestorSelf";case 49:return"ancestor";case 50:return"attribute";case 51:return"child";case 52:return"descendantSelf";case 53:return"descendant";case 54:return"followingSib";case 55:return"following";case 56:return"namespace";case 57:return"parent";case 58:return"precedSib";case 59:return"preced";case 60:return"self";case 61:return"data";case 62:return"upper-case";case 63:return"substring";case 64:return"lower-case";case 65:return"number";case 66:return"declare";case 67:return"function";case 68:return"local";case 69:return"decimal";case 70:return"string";case 71:return"boolean";case 72:return"as";case 73:return"xs";case 74:return"lastFunc";case 75:return"positionFunc";case 76:return"nodeFunc";case 77:return"textFunc";case 78:return 63;case 79:return 46;case 80:return 12;case 81:return 84;case 82:return 85;case 83:console.error("Este es un error l\xe9xico: "+e.yytext+", en la linea: "+e.yylloc.first_line+", en la columna: "+e.yylloc.first_column);break;case 84:return 5}},rules:[/^(?:\s+)/i,/^(?:\(:)/i,/^(?::\))/i,/^(?:.)/i,/^(?:\$)/i,/^(?:=)/i,/^(?:\/)/i,/^(?:\.)/i,/^(?:@)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|)/i,/^(?::)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\{)/i,/^(?:\})/i,/^(?:,)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:div\b)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:!=)/i,/^(?:or\b)/i,/^(?:and\b)/i,/^(?:mod\b)/i,/^(?:for\b)/i,/^(?:in\b)/i,/^(?:to\b)/i,/^(?:at\b)/i,/^(?:let\b)/i,/^(?:where\b)/i,/^(?:order\b)/i,/^(?:by\b)/i,/^(?:return\b)/i,/^(?:if\b)/i,/^(?:else\b)/i,/^(?:then\b)/i,/^(?:eq\b)/i,/^(?:gt\b)/i,/^(?:ge\b)/i,/^(?:ne\b)/i,/^(?:le\b)/i,/^(?:lt\b)/i,/^(?:ancestor-or-self\b)/i,/^(?:ancestor\b)/i,/^(?:attribute\b)/i,/^(?:child\b)/i,/^(?:descendant-or-self\b)/i,/^(?:descendant\b)/i,/^(?:following-sibling\b)/i,/^(?:following\b)/i,/^(?:namespace\b)/i,/^(?:parent\b)/i,/^(?:preceding-sibling\b)/i,/^(?:preceding\b)/i,/^(?:self\b)/i,/^(?:data\b)/i,/^(?:upper-case\b)/i,/^(?:substring\b)/i,/^(?:lower-case\b)/i,/^(?:number\b)/i,/^(?:declare\b)/i,/^(?:function\b)/i,/^(?:local\b)/i,/^(?:decimal\b)/i,/^(?:string\b)/i,/^(?:boolean\b)/i,/^(?:as\b)/i,/^(?:xs\b)/i,/^(?:last\(\))/i,/^(?:position\(\))/i,/^(?:node\(\))/i,/^(?:text\(\))/i,/^(?:(([0-9]+\.[0-9]*)|(\.[0-9]+)))/i,/^(?:[0-9]+)/i,/^(?:[a-zA-Z_][a-zA-Z0-9_\xf1\xd1.-]*)/i,/^(?:("((\\([\'\"\\]))|([^\"\\]+))*"))/i,/^(?:('((\\([\'\"\\]))|([^\'\\]))*'))/i,/^(?:.)/i,/^(?:$)/i],conditions:{comment:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],inclusive:!0},INITIAL:{rules:[0,1,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],inclusive:!0}}};function Se(){this.yy={}}return Jt.lexer=_e,Se.prototype=Jt,Jt.Parser=Se,new Se}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),t.exit(1));var r=i(55).readFileSync(i(56).normalize(n[1]),"utf8");return e.parser.parse(r)},i.c[i.s]===n&&e.main(t.argv.slice(1))}).call(this,i(41),i(54)(t))},function(t,e,i){"use strict";(function(t,n){var r=function(){var t=function(t,e,i,n){for(i=i||{},n=t.length;n--;i[t[n]]=e);return i},e=[2,5],n=[1,9],r=[1,13],o=[1,17],s=[2,9],a=[1,16],c=[5,6],l=[7,10,21],u=[2,7,10,14,21],h=[1,46],f=[2,21],g=[1,39],m=[1,35],d=[1,36],p=[1,37],T=[1,38],b=[1,40],E=[1,41],I=[1,42],v=[1,43],y=[1,44],A=[1,45],O=[2,6,8,14,25,26,27,28,29,30,31,32,33],N=[1,52],R={trace:function(){},yy:{},symbols_:{error:2,START:3,ENCABEZADO:4,EOF:5,lt:6,interrog:7,xml:8,LISTAATRIBUTOS:9,gt:10,LISTAELEMENTOS:11,ELEMENTO:12,ELEM:13,identifier:14,TIPOELEM:15,ATRIBUTO:16,asig:17,TIPOCADENA:18,cadena:19,cadena2:20,diag:21,TEXTCONTENT:22,MOREELEMENTS:23,TEXT:24,content:25,DoubleLiteral:26,IntegerLiteral:27,apos:28,less:29,greater:30,ampersand:31,apostrophe:32,quot:33,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"lt",7:"interrog",8:"xml",10:"gt",14:"identifier",17:"asig",19:"cadena",20:"cadena2",21:"diag",25:"content",26:"DoubleLiteral",27:"IntegerLiteral",28:"apos",29:"less",30:"greater",31:"ampersand",32:"apostrophe",33:"quot"},productions_:[0,[3,2],[4,7],[4,2],[11,2],[11,0],[12,2],[13,3],[9,2],[9,0],[16,3],[16,2],[16,2],[18,1],[18,1],[15,2],[15,4],[15,3],[23,3],[23,3],[22,2],[22,0],[24,1],[24,1],[24,1],[24,1],[24,1],[24,1],[24,1],[24,1],[24,1],[24,1],[24,1],[24,1]],performAction:function(t,e,i,n,r,o,s){var a=o.length-1;switch(r){case 1:var c=new w(D.cstXmlDesc.getId(),"START",null,[D.cstXmlDesc.obtenerUltimoNodo()]);return D.cstXmlDesc.setRaiz(c),o[a-1];case 2:o[a].unshift(new _(o[a-4],"",s[a-6].first_line,s[a-6].first_column,o[a-3],[],!0)),this.$=o[a];var l=D.cstXmlDesc.obtenerUltimoNodo(),u=D.cstXmlDesc.obtenerUltimoNodo();D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"ENCABEZADO",null,[new w(D.cstXmlDesc.getId(),"lt",null,[new w(D.cstXmlDesc.getId(),"<",null,[])]),new w(D.cstXmlDesc.getId(),"interrog",null,[new w(D.cstXmlDesc.getId(),"?",null,[])]),new w(D.cstXmlDesc.getId(),"xml",null,[new w(D.cstXmlDesc.getId(),o[a-4].toString(),null,[])]),u,new w(D.cstXmlDesc.getId(),"interrog",null,[new w(D.cstXmlDesc.getId(),"?",null,[])]),new w(D.cstXmlDesc.getId(),"gt",null,[new w(D.cstXmlDesc.getId(),">",null,[])]),l]));break;case 3:k.default.agregarError("sint\xe1ctico","Token inesperado '"+t+"'",s[a-1].first_line,s[a-1].first_column),this.$=o[a],D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"ENCABEZADO",null,[new w(D.cstXmlDesc.getId(),"error",null,[]),D.cstXmlDesc.obtenerUltimoNodo()]));break;case 4:o[a-1]=o[a-1].concat(o[a]),this.$=o[a-1];var h=D.cstXmlDesc.obtenerUltimoNodo(),f=D.cstXmlDesc.obtenerUltimoNodo();D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"LISTAELEMENTOS",null,[f,h]));break;case 5:this.$=[],D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"LISTAELEMENTOS",null,[new w(D.cstXmlDesc.getId(),"epsilon",null,[])]));break;case 6:this.$=[o[a]],D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"ELEMENTO",null,[new w(D.cstXmlDesc.getId(),"lt",null,[new w(D.cstXmlDesc.getId(),"<",null,[])]),D.cstXmlDesc.obtenerUltimoNodo()]));break;case 7:var g=null;null!==o[a]&&(""===o[a].idCierre&&""===o[a].texto&&null===o[a].content?g=new _(o[a-2],"",s[a-2].first_line,s[a-2].first_column,o[a-1],[],!0):""!==o[a].idCierre&&(o[a-2]===o[a].idCierre?g=null!==o[a].content?new _(o[a-2],"",s[a-2].first_line,s[a-2].first_column,o[a-1],o[a].content,!1):""!==o[a].texto?new _(o[a-2],o[a].texto,s[a-2].first_line,s[a-2].first_column,o[a-1],[],!1):new _(o[a-2],"",s[a-2].first_line,s[a-2].first_column,o[a-1],[],!1):(console.log("Linea 85: Error semantico: Las etiquetas deben ser iguales"),k.default.agregarError("semantico","Las etiquetas deben ser iguales",s[a-2].first_line,s[a-2].first_column)))),this.$=g;var m=D.cstXmlDesc.obtenerUltimoNodo(),d=D.cstXmlDesc.obtenerUltimoNodo();D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"ELEM",null,[new w(D.cstXmlDesc.getId(),"identifier",null,[new w(D.cstXmlDesc.getId(),o[a-2].toString(),null,[])]),d,m]));break;case 8:null!==o[a-1]?(o[a-1]=o[a-1].concat(o[a]),this.$=o[a-1]):this.$=o[a];var p=D.cstXmlDesc.obtenerUltimoNodo(),T=D.cstXmlDesc.obtenerUltimoNodo();D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"LISTAATRIBUTOS",null,[T,p]));break;case 9:this.$=[],D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"LISTAATRIBUTOS",null,[new w(D.cstXmlDesc.getId(),"epsilon",null,[])]));break;case 10:this.$=[new S(o[a-2],o[a],s[a-2].first_line,s[a-2].first_column)];break;case 11:console.log("Entra a error sintactico de atributo"),k.default.agregarError("sintactico","Token inesperado '"+t+"'",s[a-1].first_line,s[a-1].first_column),this.$=null,D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"ATRIBUTO",null,[new w(D.cstXmlDesc.getId(),"identifier",null,[new w(D.cstXmlDesc.getId(),o[a-1].toString(),null,[])]),new w(D.cstXmlDesc.getId(),"asignacion",null,[new w(D.cstXmlDesc.getId(),"=",null,[])]),new w(D.cstXmlDesc.getId(),D.cstXmlDesc.obtenerUltimoNodo(),null,[])]));break;case 12:console.log("Entra a error sintactico de atributo 2"),k.default.agregarError("sintactico","Token inesperado '"+t+"'",s[a-1].first_line,s[a-1].first_column),this.$=null,D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"ATRIBUTO",null,[new w(D.cstXmlDesc.getId(),"error",null,[]),new w(D.cstXmlDesc.getId(),"lt",null,[new w(D.cstXmlDesc.getId(),"<",null,[])])]));break;case 13:this.$=o[a].toString().replaceAll('"',""),D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TIPOCADENA",null,[new w(D.cstXmlDesc.getId(),"cadena",null,[new w(D.cstXmlDesc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 14:this.$=o[a].toString().replaceAll("'",""),D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TIPOCADENA",null,[new w(D.cstXmlDesc.getId(),"cadena",null,[new w(D.cstXmlDesc.getId(),o[a].toString().replaceAll("'",""),null,[])])]));break;case 15:this.$={texto:"",content:null,idCierre:""},D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TIPOELEM",null,[new w(D.cstXmlDesc.getId(),"diag",null,[new w(D.cstXmlDesc.getId(),"/",null,[])]),new w(D.cstXmlDesc.getId(),"gt",null,[new w(D.cstXmlDesc.getId(),">",null,[])])]));break;case 16:""!==o[a].idCierre&&(""!==o[a-2]&&(o[a].texto=o[a-2]),this.$=o[a]);var b=D.cstXmlDesc.obtenerUltimoNodo(),E=D.cstXmlDesc.obtenerUltimoNodo();D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TIPOELEM",null,[new w(D.cstXmlDesc.getId(),"gt",null,[new w(D.cstXmlDesc.getId(),">",null,[])]),E,new w(D.cstXmlDesc.getId(),"lt",null,[new w(D.cstXmlDesc.getId(),"<",null,[])]),b]));break;case 17:console.log("Entra a error sintactico de TIPOELEM"),k.default.agregarError("sintactico","Token inesperado '"+t+"'",s[a-2].first_line,s[a-2].first_column),this.$=null,D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TIPOELEM",null,[new w(D.cstXmlDesc.getId(),"diag",null,[new w(D.cstXmlDesc.getId(),"/",null,[])]),new w(D.cstXmlDesc.getId(),"error",null,[]),new w(D.cstXmlDesc.getId(),"gt",null,[new w(D.cstXmlDesc.getId(),">",null,[])])]));break;case 18:this.$={texto:"",content:null,idCierre:o[a-1]},D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"MOREELEMENTS",null,[new w(D.cstXmlDesc.getId(),"diag",null,[new w(D.cstXmlDesc.getId(),"/",null,[])]),new w(D.cstXmlDesc.getId(),"identifier",null,[new w(D.cstXmlDesc.getId(),o[a-1].toString().replaceAll('"',""),null,[])]),new w(D.cstXmlDesc.getId(),"gt",null,[new w(D.cstXmlDesc.getId(),">",null,[])])]));break;case 19:""!==o[a].idCierre&&(o[a-2]instanceof _?null===o[a].content?this.$={texto:"",content:[o[a-2]],idCierre:o[a].idCierre}:(o[a].content.unshift(o[a-2]),this.$={texto:"",content:o[a].content,idCierre:o[a].idCierre}):null===o[a-2]&&(this.$=o[a]));var I=D.cstXmlDesc.obtenerUltimoNodo(),v=D.cstXmlDesc.obtenerUltimoNodo();D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"MOREELEMENTS",null,[v,new w(D.cstXmlDesc.getId(),"lt",null,[new w(D.cstXmlDesc.getId(),"<",null,[])]),I]));break;case 20:o[a-1]=o[a-1]+o[a],this.$=o[a-1];var y=D.cstXmlDesc.obtenerUltimoNodo(),A=D.cstXmlDesc.obtenerUltimoNodo();D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TEXTCONTENT",null,[A,y]));break;case 21:this.$="",D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TEXTCONTENT",null,[new w(D.cstXmlDesc.getId(),"epsilon",null,[])]));break;case 22:this.$=o[a].toString().replaceAll('"',""),D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TEXT",null,[new w(D.cstXmlDesc.getId(),"identificador",null,[new w(D.cstXmlDesc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 23:this.$=o[a].toString(),D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TEXT",null,[new w(D.cstXmlDesc.getId(),"content",null,[new w(D.cstXmlDesc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 24:this.$=o[a].toString().replaceAll('"',""),D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TEXT",null,[new w(D.cstXmlDesc.getId(),"double",null,[new w(D.cstXmlDesc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 25:this.$=o[a].toString().replaceAll('"',""),D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TEXT",null,[new w(D.cstXmlDesc.getId(),"integer",null,[new w(D.cstXmlDesc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 26:this.$=o[a].toString(),D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TEXT",null,[new w(D.cstXmlDesc.getId(),"identificador",null,[new w(D.cstXmlDesc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 27:this.$=o[a].toString().replaceAll('"',""),D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TEXT",null,[new w(D.cstXmlDesc.getId(),"comilla simple",null,[new w(D.cstXmlDesc.getId(),o[a].toString().replaceAll('"',""),null,[])])]));break;case 28:this.$="<",D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TEXT",null,[new w(D.cstXmlDesc.getId(),"menor que",null,[new w(D.cstXmlDesc.getId(),"<",null,[])])]));break;case 29:this.$=">",D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TEXT",null,[new w(D.cstXmlDesc.getId(),"mayor que",null,[new w(D.cstXmlDesc.getId(),">",null,[])])]));break;case 30:this.$="&",D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TEXT",null,[new w(D.cstXmlDesc.getId(),"ampersand",null,[new w(D.cstXmlDesc.getId(),"&",null,[])])]));break;case 31:this.$="'",D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TEXT",null,[new w(D.cstXmlDesc.getId(),"apostrofe",null,[new w(D.cstXmlDesc.getId(),"'",null,[])])]));break;case 32:this.$='"',D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TEXT",null,[new w(D.cstXmlDesc.getId(),"comilla doble",null,[new w(D.cstXmlDesc.getId(),'"',null,[])])]));break;case 33:this.$=o[a].toString().replaceAll('"',""),D.cstXmlDesc.agregarPila(new w(D.cstXmlDesc.getId(),"TEXT",null,[]))}},table:[{2:[1,4],3:1,4:2,6:[1,3]},{1:[3]},{5:[1,5]},{7:[1,6]},{5:e,6:n,11:7,12:8},{1:[2,1]},{8:[1,10]},{5:[2,3]},{5:e,6:n,11:11,12:8},{13:12,14:r},{2:o,7:s,9:14,14:a,16:15},{5:[2,4]},t(c,[2,6]),t([10,21],s,{16:15,9:18,2:o,14:a}),{7:[1,19]},t(l,s,{16:15,9:20,2:o,14:a}),{17:[1,21]},{6:[1,23],10:[1,22]},{10:[1,26],15:24,21:[1,25]},{10:[1,27]},t(l,[2,8]),{18:28,19:[1,29],20:[1,30]},t(u,[2,11]),t(u,[2,12]),t(c,[2,7]),{2:[1,32],10:[1,31]},{2:h,6:f,8:g,14:m,22:33,24:34,25:d,26:p,27:T,28:b,29:E,30:I,31:v,32:y,33:A},{5:e,6:n,11:47,12:8},t(u,[2,10]),t(u,[2,13]),t(u,[2,14]),t(c,[2,15]),{10:[1,48]},{6:[1,49]},{2:h,6:f,8:g,14:m,22:50,24:34,25:d,26:p,27:T,28:b,29:E,30:I,31:v,32:y,33:A},t(O,[2,22]),t(O,[2,23]),t(O,[2,24]),t(O,[2,25]),t(O,[2,26]),t(O,[2,27]),t(O,[2,28]),t(O,[2,29]),t(O,[2,30]),t(O,[2,31]),t(O,[2,32]),t(O,[2,33]),{5:[2,2]},t(c,[2,17]),{13:53,14:r,21:N,23:51},{6:[2,20]},t(c,[2,16]),{14:[1,54]},{6:[1,55]},{10:[1,56]},{13:53,14:r,21:N,23:57},t(c,[2,18]),t(c,[2,19])],defaultActions:{5:[2,1],7:[2,3],11:[2,4],47:[2,2],50:[2,20]},parseError:function(t,e){if(!e.recoverable){var i=new Error(t);throw i.hash=e,i}this.trace(t)},parse:function(t){var e=this,i=[0],n=[null],r=[],o=this.table,s="",a=0,c=0,l=0,u=2,h=1,f=r.slice.call(arguments,1),g=Object.create(this.lexer),m={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(m.yy[d]=this.yy[d]);g.setInput(t,m.yy),m.yy.lexer=g,m.yy.parser=this,"undefined"==typeof g.yylloc&&(g.yylloc={});var p=g.yylloc;r.push(p);var T=g.options&&g.options.ranges;function b(t){i.length=i.length-2*t,n.length=n.length-t,r.length=r.length-t}"function"===typeof m.yy.parseError?this.parseError=m.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var E,I,v,y,A,O,N,R,_,S=function(){var t;return"number"!==typeof(t=g.lex()||h)&&(t=e.symbols_[t]||t),t},k={};;){if(v=i[i.length-1],this.defaultActions[v]?y=this.defaultActions[v]:(null!==E&&"undefined"!=typeof E||(E=S()),y=o[v]&&o[v][E]),"undefined"===typeof y||!y.length||!y[0]){var w,D=function(t){for(var e=i.length-1,n=0;;){if(u.toString()in o[t])return n;if(0===t||e<2)return!1;t=i[e-=2],++n}},U="";if(l)I!==h&&(w=D(v));else{for(O in w=D(v),_=[],o[v])this.terminals_[O]&&O>u&&_.push("'"+this.terminals_[O]+"'");U=g.showPosition?"Parse error on line "+(a+1)+":\n"+g.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[E]||E)+"'":"Parse error on line "+(a+1)+": Unexpected "+(E==h?"end of input":"'"+(this.terminals_[E]||E)+"'"),this.parseError(U,{text:g.match,token:this.terminals_[E]||E,line:g.yylineno,loc:p,expected:_,recoverable:!1!==w})}if(3==l){if(E===h||I===h)throw new Error(U||"Parsing halted while starting to recover from another error.");c=g.yyleng,s=g.yytext,a=g.yylineno,p=g.yylloc,E=S()}if(!1===w)throw new Error(U||"Parsing halted. No suitable error recovery rule available.");b(w),I=E==u?null:E,E=u,v=i[i.length-1],y=o[v]&&o[v][u],l=3}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+E);switch(y[0]){case 1:i.push(E),n.push(g.yytext),r.push(g.yylloc),i.push(y[1]),E=null,I?(E=I,I=null):(c=g.yyleng,s=g.yytext,a=g.yylineno,p=g.yylloc,l>0&&l--);break;case 2:if(N=this.productions_[y[1]][1],k.$=n[n.length-N],k._$={first_line:r[r.length-(N||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(N||1)].first_column,last_column:r[r.length-1].last_column},T&&(k._$.range=[r[r.length-(N||1)].range[0],r[r.length-1].range[1]]),"undefined"!==typeof(A=this.performAction.apply(k,[s,c,a,m.yy,y[1],n,r].concat(f))))return A;N&&(i=i.slice(0,-1*N*2),n=n.slice(0,-1*N),r=r.slice(0,-1*N)),i.push(this.productions_[y[1]][0]),n.push(k.$),r.push(k._$),R=o[i[i.length-2]][i[i.length-1]],i.push(R);break;case 3:return!0}}return!0}},_=i(71).Objeto,S=i(61).Atributo,k=i(9),w=i(112).Nodo,D=i(51),U={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var i,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,i,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((i=this._input.match(this.rules[r[o]]))&&(!e||i[0].length>e[0].length)){if(e=i,n=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(i,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,i,n){switch(i){case 0:this.begin("comment");break;case 1:this.popState();break;case 2:case 3:break;case 4:return 6;case 5:return 10;case 6:return 17;case 7:return 21;case 8:return 7;case 9:return 28;case 10:return"xml";case 11:return 29;case 12:return 30;case 13:return 31;case 14:return"apostrophe";case 15:return"quot";case 16:return 26;case 17:return 27;case 18:return 14;case 19:return 19;case 20:return 20;case 21:return 25;case 22:return 5;case 23:k.default.agregarError("lexico","Simbolo inesperado "+e.yytext,e.yylloc.first_line,e.yylloc.first_column)}},rules:[/^(?:<!--)/,/^(?:-->)/,/^(?:.)/,/^(?:\s+)/,/^(?:<)/,/^(?:>)/,/^(?:=)/,/^(?:\/)/,/^(?:\?)/,/^(?:')/,/^(?:[xX][mM][lL])/,/^(?:&lt;)/,/^(?:&gt;)/,/^(?:&amp;)/,/^(?:&apos;)/,/^(?:&quot;)/,/^(?:(([0-9]+\.[0-9]*)|(\.[0-9]+)))/,/^(?:[0-9]+)/,/^(?:[a-zA-Z_][a-zA-Z0-9_\xf1\xd1.-]*)/,/^(?:("((\\([\'\"\\]))|([^\"\\]+))*"))/,/^(?:('((\\([\'\"\\]))|([^\'\\]))*'))/,/^(?:([^<]))/,/^(?:$)/,/^(?:.)/],conditions:{comment:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],inclusive:!0},INITIAL:{rules:[0,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],inclusive:!0}}};function P(){this.yy={}}return R.lexer=U,P.prototype=R,R.Parser=P,new P}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),t.exit(1));var r=i(55).readFileSync(i(56).normalize(n[1]),"utf8");return e.parser.parse(r)},i.c[i.s]===n&&e.main(t.argv.slice(1))}).call(this,i(41),i(54)(t))},function(t,e,i){"use strict";(function(t,n){var r=function(){var t=function(t,e,i,n){for(i=i||{},n=t.length;n--;i[t[n]]=e);return i},e=[1,4],n=[1,16],r=[1,7],o=[1,9],s=[1,8],a=[1,15],c=[1,14],l=[1,12],u=[1,13],h=[5,6],f=[5,6,12,16,20,43,44,45,46,47,48,49,50,51,52,53,54,56],g=[2,39],m=[1,26],d=[1,31],p=[1,34],T=[1,35],b=[1,36],E=[1,37],I=[1,38],v=[1,39],y=[1,40],A=[1,41],O=[1,42],N=[1,43],R=[1,44],_=[1,45],S=[1,46],k=[1,58],w=[1,59],D=[1,60],U=[1,62],P=[1,54],L=[1,55],X=[1,56],C=[1,57],x=[1,80],Q=[1,81],j=[1,82],M=[1,83],$=[1,84],F=[1,85],G=[1,86],H=[1,87],B=[1,88],z=[1,89],V=[1,90],q=[1,91],Y=[1,92],W=[16,20,43,44,45,46,47,48,49,50,51,52,53,54,56],Z=[1,99],K=[1,102],J=[1,100],tt=[1,101],et=[16,43,44,46,47,48,49,50,51,52,53,56],it=[16,46,47,48,49,50,51,52,53,56],nt={trace:function(){},yy:{},symbols_:{error:2,START:3,LISTACONSULTAS:4,EOF:5,andSelect:6,CONSULTA:7,identifier:8,LISTANODOS:9,MASTIPOS:10,NODO:11,diag:12,TIPONODO:13,corA:14,EXPRESION:15,corC:16,AXES:17,attr:18,PREDICATE:19,asterisco:20,dot:21,FUNCIONES:22,ancestor:23,dospuntos:24,NODETEST:25,ancestorSelf:26,attribute:27,child:28,descendant:29,descendantSelf:30,following:31,followingSib:32,namespace:33,parent:34,preced:35,precedSib:36,self:37,textFunc:38,nodeFunc:39,LISTAEXPRESIONES:40,PRIMITIVA:41,OPERACION:42,mas:43,menos:44,div:45,lte:46,lt:47,gte:48,gt:49,igual:50,nequal:51,or:52,and:53,mod:54,parA:55,parC:56,DoubleLiteral:57,IntegerLiteral:58,cadena:59,cadena2:60,lastFunc:61,positionFunc:62,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"andSelect",8:"identifier",12:"diag",14:"corA",16:"corC",18:"attr",20:"asterisco",21:"dot",23:"ancestor",24:"dospuntos",26:"ancestorSelf",27:"attribute",28:"child",29:"descendant",30:"descendantSelf",31:"following",32:"followingSib",33:"namespace",34:"parent",35:"preced",36:"precedSib",37:"self",38:"textFunc",39:"nodeFunc",43:"mas",44:"menos",45:"div",46:"lte",47:"lt",48:"gte",49:"gt",50:"igual",51:"nequal",52:"or",53:"and",54:"mod",55:"parA",56:"parC",57:"DoubleLiteral",58:"IntegerLiteral",59:"cadena",60:"cadena2",61:"lastFunc",62:"positionFunc"},productions_:[0,[3,2],[4,3],[4,1],[7,1],[7,2],[7,2],[7,1],[7,1],[9,2],[9,1],[11,2],[11,3],[11,2],[11,3],[13,1],[13,4],[13,1],[13,1],[10,3],[10,3],[10,2],[10,3],[10,2],[10,1],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[19,3],[19,0],[25,2],[25,2],[25,2],[25,2],[40,2],[40,1],[15,1],[15,1],[42,3],[42,3],[42,3],[42,3],[42,3],[42,3],[42,3],[42,3],[42,3],[42,3],[42,3],[42,3],[42,3],[42,3],[41,1],[41,1],[41,1],[41,1],[41,1],[41,2],[41,2],[41,1],[41,2],[41,1],[22,1],[22,1],[22,1],[22,1]],performAction:function(t,e,i,n,r,o,s){var a=o.length-1;switch(r){case 1:return this.$=o[a-1],this.$;case 2:o[a-2].push(new st(o[a],s[a].first_line,s[a].first_column)),this.$=o[a-2];break;case 3:this.$=[new st(o[a],s[a].first_line,s[a].first_column)];break;case 4:this.$=[new at(o[a],ht.IDENTIFIER,s[a].first_line,s[a].first_column)];break;case 5:this.$=[new at(o[a-1],ht.IDENTIFIER,s[a-1].first_line,s[a-1].first_column)],this.$=this.$.concat(o[a]);break;case 6:this.$=[o[a-1]],this.$=this.$.concat(o[a]);break;case 7:case 47:case 74:case 75:this.$=o[a];break;case 8:this.$=[o[a]];break;case 9:o[a-1].push(o[a]),this.$=o[a-1];break;case 10:this.$=[o[a]];break;case 11:null!=this.$&&(o[a].fromRoot=!0,this.$=o[a]);break;case 12:null!=this.$&&(o[a].fromRoot=!1,this.$=o[a]);break;case 13:console.log("Entra a error sintactico de one diag"),gt.default.agregarError("sintactico","Token inesperado '"+t+"'",s[a-1].first_line,s[a-1].first_column),this.$=new at(o[a],ht.NODOERROR,s[a-1].first_line,s[a-1].first_column);break;case 14:console.log("Entra a error sintactico de two diags"),gt.default.agregarError("sintactico","Token inesperado '"+t+"'",s[a-2].first_line,s[a-2].first_column),this.$=new at(o[a],ht.NODOERROR,s[a-2].first_line,s[a-2].first_column);break;case 15:this.$=new at(o[a],ht.IDENTIFIER,s[a].first_line,s[a].first_column);break;case 16:this.$=new at(o[a-3],ht.IDENTIFIER,s[a-3].first_line,s[a-3].first_column,new ct(o[a-1],s[a-3].first_line,s[a-3].first_column));break;case 17:case 18:case 46:case 72:case 73:this.$=o[a];break;case 19:case 20:this.$=new at(o[a-1],ht.ATRIBUTO,s[a-2].first_line,s[a-2].first_column);break;case 21:this.$=new at(o[a-1],ht.DOT,s[a-1].first_line,s[a-1].first_column);break;case 22:this.$=new at(o[a-2]+o[a-1],ht.DOTDOT,s[a-2].first_line,s[a-2].first_column);break;case 23:this.$=new at(o[a-1],ht.ASTERISCO,s[a-1].first_line,s[a-1].first_column);break;case 24:this.$=new at(o[a],ht.FUNCION,s[a].first_line,s[a].first_column);break;case 25:this.$=new at(o[a-2],ht.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,ft.ANCESTOR,o[a]);break;case 26:this.$=new at(o[a-2],ht.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,ft.ANCESTORORSELF,o[a]);break;case 27:this.$=new at(o[a-2],ht.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,ft.ATTRIBUTE,o[a]);break;case 28:this.$=new at(o[a-2],ht.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,ft.CHILD,o[a]);break;case 29:this.$=new at(o[a-2],ht.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,ft.DESCENDANT,o[a]);break;case 30:this.$=new at(o[a-2],ht.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,ft.DESCENDANTORSELF,o[a]);break;case 31:this.$=new at(o[a-2],ht.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,ft.FOLLOWING,o[a]);break;case 32:this.$=new at(o[a-2],ht.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,ft.FOLLOWINGSIBLING,o[a]);break;case 33:this.$=new at(o[a-2],ht.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,ft.NAMESPACE,o[a]);break;case 34:this.$=new at(o[a-2],ht.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,ft.PARENT,o[a]);break;case 35:this.$=new at(o[a-2],ht.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,ft.PRECEDING,o[a]);break;case 36:this.$=new at(o[a-2],ht.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,ft.PRECEDINGSIBLING,o[a]);break;case 37:this.$=new at(o[a-2],ht.AXIS,s[a-2].first_line,s[a-2].first_column,void 0,ft.SELF,o[a]);break;case 38:this.$=new ct(o[a-1],s[a-2].first_line,s[a-2].first_column);break;case 39:this.$=[];break;case 40:o[a]instanceof ct?this.$=new at(o[a-1],ht.IDENTIFIER,s[a-1].first_line,s[a-1].first_column,o[a]):this.$=new at(o[a-1],ht.IDENTIFIER,s[a-1].first_line,s[a-1].first_column);break;case 41:o[a]instanceof ct?this.$=new at(o[a-1],ht.FUNCION,s[a-1].first_line,s[a-1].first_column,o[a]):this.$=new at(o[a-1],ht.IDENTIFIER,s[a-1].first_line,s[a-1].first_column);break;case 42:o[a]instanceof ct?this.$=new at(o[a-1],ht.FUNCION,s[a-1].first_line,s[a-1].first_column,o[a]):this.$=new at(o[a-1],ht.FUNCION,s[a-1].first_line,s[a-1].first_column);break;case 43:o[a]instanceof ct?this.$=new at(o[a-1],ht.ASTERISCO,s[a-1].first_line,s[a-1].first_column,o[a]):this.$=new at(o[a-1],ht.ASTERISCO,s[a-1].first_line,s[a-1].first_column);break;case 44:o[a-1].push(o[a]),this.$=o[a-1];break;case 45:this.$=[o[a]];break;case 48:this.$=new ot(ut.MULTIPLICACION,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 49:this.$=new ot(ut.SUMA,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 50:this.$=new ot(ut.RESTA,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 51:this.$=new ot(ut.DIVISION,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 52:this.$=new ot(ut.MENORIGUALQUE,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 53:this.$=new ot(ut.MENORQUE,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 54:this.$=new ot(ut.MAYORIGUALQUE,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 55:this.$=new ot(ut.MAYORQUE,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 56:this.$=new ot(ut.IGUAL,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 57:this.$=new ot(ut.DIFERENTEQUE,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 58:this.$=new ot(ut.OR,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 59:this.$=new ot(ut.AND,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 60:this.$=new ot(ut.MOD,o[a-2],o[a],s[a-2].first_line,s[a-2].first_column);break;case 61:this.$=new ot(ut.PAR,o[a-1],null,s[a-2].first_line,s[a-2].first_column);break;case 62:this.$=new rt(o[a],lt.DOUBLE,s[a].first_line,s[a].first_column);break;case 63:this.$=new rt(o[a],lt.INTEGER,s[a].first_line,s[a].first_column);break;case 64:case 65:this.$=new rt(o[a],lt.CADENA,s[a].first_line,s[a].first_column);break;case 66:this.$=new rt(o[a],lt.IDENTIFIER,s[a].first_line,s[a].first_column);break;case 67:case 68:this.$=new rt(o[a],lt.ATRIBUTO,s[a-1].first_line,s[a-1].first_column);break;case 69:this.$=new rt(o[a],lt.DOT,s[a].first_line,s[a].first_column);break;case 70:this.$=[new at(o[a-1],ht.IDENTIFIER,s[a-1].first_line,s[a-1].first_column)],this.$=this.$.concat(o[a]),this.$=new rt(this.$,lt.CONSULTA,s[a-1].first_line,s[a-1].first_column);break;case 71:this.$=new rt(o[a],lt.FUNCION,s[a].first_line,s[a].first_column)}},table:[{3:1,4:2,7:3,8:e,9:6,10:5,11:11,12:n,18:r,20:o,21:s,22:10,38:a,39:c,61:l,62:u},{1:[3]},{5:[1,17],6:[1,18]},t(h,[2,3]),t(h,[2,4],{11:11,9:19,12:n}),t(h,[2,8],{11:11,9:20,12:n}),t(h,[2,7],{11:21,12:n}),{8:[1,22],20:[1,23]},t(f,g,{19:24,14:m,21:[1,25]}),t(f,g,{19:27,14:m}),t(f,[2,24]),t(f,[2,10]),t(f,[2,72]),t(f,[2,73]),t(f,[2,74]),t(f,[2,75]),{2:[1,30],8:d,10:32,12:[1,29],13:28,17:33,18:r,20:o,21:s,22:10,23:p,26:T,27:b,28:E,29:I,30:v,31:y,32:A,33:O,34:N,35:R,36:_,37:S,38:a,39:c,61:l,62:u},{1:[2,1]},{7:47,8:e,9:6,10:5,11:11,12:n,18:r,20:o,21:s,22:10,38:a,39:c,61:l,62:u},t(h,[2,5],{11:21,12:n}),t(h,[2,6],{11:21,12:n}),t(f,[2,9]),t(f,g,{19:48,14:m}),t(f,g,{19:49,14:m}),t(f,[2,21]),t(f,g,{19:50,14:m}),{8:k,15:51,18:w,21:D,22:61,38:a,39:c,41:52,42:53,55:U,57:P,58:L,59:X,60:C,61:l,62:u},t(f,[2,23]),t(f,[2,11]),{2:[1,64],8:d,10:32,13:63,17:33,18:r,20:o,21:s,22:10,23:p,26:T,27:b,28:E,29:I,30:v,31:y,32:A,33:O,34:N,35:R,36:_,37:S,38:a,39:c,61:l,62:u},t(f,[2,13]),t(f,[2,15],{14:[1,65]}),t(f,[2,17]),t(f,[2,18]),{24:[1,66]},{24:[1,67]},{24:[1,68]},{24:[1,69]},{24:[1,70]},{24:[1,71]},{24:[1,72]},{24:[1,73]},{24:[1,74]},{24:[1,75]},{24:[1,76]},{24:[1,77]},{24:[1,78]},t(h,[2,2]),t(f,[2,19]),t(f,[2,20]),t(f,[2,22]),{16:[1,79],20:x,43:Q,44:j,45:M,46:$,47:F,48:G,49:H,50:B,51:z,52:V,53:q,54:Y},t(W,[2,46]),t(W,[2,47]),t(W,[2,62]),t(W,[2,63]),t(W,[2,64]),t(W,[2,65]),t(W,[2,66],{11:11,9:93,12:n}),{8:[1,94],20:[1,95]},t(W,[2,69]),t(W,[2,71]),{8:k,15:96,18:w,21:D,22:61,38:a,39:c,41:52,42:53,55:U,57:P,58:L,59:X,60:C,61:l,62:u},t(f,[2,12]),t(f,[2,14]),{8:k,15:97,18:w,21:D,22:61,38:a,39:c,41:52,42:53,55:U,57:P,58:L,59:X,60:C,61:l,62:u},{8:Z,20:K,25:98,38:J,39:tt},{8:Z,20:K,25:103,38:J,39:tt},{8:Z,20:K,25:104,38:J,39:tt},{8:Z,20:K,25:105,38:J,39:tt},{8:Z,20:K,25:106,38:J,39:tt},{8:Z,20:K,25:107,38:J,39:tt},{8:Z,20:K,25:108,38:J,39:tt},{8:Z,20:K,25:109,38:J,39:tt},{8:Z,20:K,25:110,38:J,39:tt},{8:Z,20:K,25:111,38:J,39:tt},{8:Z,20:K,25:112,38:J,39:tt},{8:Z,20:K,25:113,38:J,39:tt},{8:Z,20:K,25:114,38:J,39:tt},t(f,[2,38]),{8:k,15:115,18:w,21:D,22:61,38:a,39:c,41:52,42:53,55:U,57:P,58:L,59:X,60:C,61:l,62:u},{8:k,15:116,18:w,21:D,22:61,38:a,39:c,41:52,42:53,55:U,57:P,58:L,59:X,60:C,61:l,62:u},{8:k,15:117,18:w,21:D,22:61,38:a,39:c,41:52,42:53,55:U,57:P,58:L,59:X,60:C,61:l,62:u},{8:k,15:118,18:w,21:D,22:61,38:a,39:c,41:52,42:53,55:U,57:P,58:L,59:X,60:C,61:l,62:u},{8:k,15:119,18:w,21:D,22:61,38:a,39:c,41:52,42:53,55:U,57:P,58:L,59:X,60:C,61:l,62:u},{8:k,15:120,18:w,21:D,22:61,38:a,39:c,41:52,42:53,55:U,57:P,58:L,59:X,60:C,61:l,62:u},{8:k,15:121,18:w,21:D,22:61,38:a,39:c,41:52,42:53,55:U,57:P,58:L,59:X,60:C,61:l,62:u},{8:k,15:122,18:w,21:D,22:61,38:a,39:c,41:52,42:53,55:U,57:P,58:L,59:X,60:C,61:l,62:u},{8:k,15:123,18:w,21:D,22:61,38:a,39:c,41:52,42:53,55:U,57:P,58:L,59:X,60:C,61:l,62:u},{8:k,15:124,18:w,21:D,22:61,38:a,39:c,41:52,42:53,55:U,57:P,58:L,59:X,60:C,61:l,62:u},{8:k,15:125,18:w,21:D,22:61,38:a,39:c,41:52,42:53,55:U,57:P,58:L,59:X,60:C,61:l,62:u},{8:k,15:126,18:w,21:D,22:61,38:a,39:c,41:52,42:53,55:U,57:P,58:L,59:X,60:C,61:l,62:u},{8:k,15:127,18:w,21:D,22:61,38:a,39:c,41:52,42:53,55:U,57:P,58:L,59:X,60:C,61:l,62:u},t(W,[2,70],{11:21,12:n}),t(W,[2,67]),t(W,[2,68]),{20:x,43:Q,44:j,45:M,46:$,47:F,48:G,49:H,50:B,51:z,52:V,53:q,54:Y,56:[1,128]},{16:[1,129],20:x,43:Q,44:j,45:M,46:$,47:F,48:G,49:H,50:B,51:z,52:V,53:q,54:Y},t(f,[2,25]),t(f,g,{19:130,14:m}),t(f,g,{19:131,14:m}),t(f,g,{19:132,14:m}),t(f,g,{19:133,14:m}),t(f,[2,26]),t(f,[2,27]),t(f,[2,28]),t(f,[2,29]),t(f,[2,30]),t(f,[2,31]),t(f,[2,32]),t(f,[2,33]),t(f,[2,34]),t(f,[2,35]),t(f,[2,36]),t(f,[2,37]),t(W,[2,48]),t(et,[2,49],{20:x,45:M,54:Y}),t(et,[2,50],{20:x,45:M,54:Y}),t(W,[2,51]),t(it,[2,52],{20:x,43:Q,44:j,45:M,54:Y}),t(it,[2,53],{20:x,43:Q,44:j,45:M,54:Y}),t(it,[2,54],{20:x,43:Q,44:j,45:M,54:Y}),t(it,[2,55],{20:x,43:Q,44:j,45:M,54:Y}),t(it,[2,56],{20:x,43:Q,44:j,45:M,54:Y}),t(it,[2,57],{20:x,43:Q,44:j,45:M,54:Y}),t([16,52,56],[2,58],{20:x,43:Q,44:j,45:M,46:$,47:F,48:G,49:H,50:B,51:z,53:q,54:Y}),t([16,52,53,56],[2,59],{20:x,43:Q,44:j,45:M,46:$,47:F,48:G,49:H,50:B,51:z,54:Y}),t(W,[2,60]),t(W,[2,61]),t(f,[2,16]),t(f,[2,40]),t(f,[2,41]),t(f,[2,42]),t(f,[2,43])],defaultActions:{17:[2,1]},parseError:function(t,e){if(!e.recoverable){var i=new Error(t);throw i.hash=e,i}this.trace(t)},parse:function(t){var e=this,i=[0],n=[null],r=[],o=this.table,s="",a=0,c=0,l=0,u=2,h=1,f=r.slice.call(arguments,1),g=Object.create(this.lexer),m={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(m.yy[d]=this.yy[d]);g.setInput(t,m.yy),m.yy.lexer=g,m.yy.parser=this,"undefined"==typeof g.yylloc&&(g.yylloc={});var p=g.yylloc;r.push(p);var T=g.options&&g.options.ranges;function b(t){i.length=i.length-2*t,n.length=n.length-t,r.length=r.length-t}"function"===typeof m.yy.parseError?this.parseError=m.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var E,I,v,y,A,O,N,R,_,S=function(){var t;return"number"!==typeof(t=g.lex()||h)&&(t=e.symbols_[t]||t),t},k={};;){if(v=i[i.length-1],this.defaultActions[v]?y=this.defaultActions[v]:(null!==E&&"undefined"!=typeof E||(E=S()),y=o[v]&&o[v][E]),"undefined"===typeof y||!y.length||!y[0]){var w,D=function(t){for(var e=i.length-1,n=0;;){if(u.toString()in o[t])return n;if(0===t||e<2)return!1;t=i[e-=2],++n}},U="";if(l)I!==h&&(w=D(v));else{for(O in w=D(v),_=[],o[v])this.terminals_[O]&&O>u&&_.push("'"+this.terminals_[O]+"'");U=g.showPosition?"Parse error on line "+(a+1)+":\n"+g.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[E]||E)+"'":"Parse error on line "+(a+1)+": Unexpected "+(E==h?"end of input":"'"+(this.terminals_[E]||E)+"'"),this.parseError(U,{text:g.match,token:this.terminals_[E]||E,line:g.yylineno,loc:p,expected:_,recoverable:!1!==w})}if(3==l){if(E===h||I===h)throw new Error(U||"Parsing halted while starting to recover from another error.");c=g.yyleng,s=g.yytext,a=g.yylineno,p=g.yylloc,E=S()}if(!1===w)throw new Error(U||"Parsing halted. No suitable error recovery rule available.");b(w),I=E==u?null:E,E=u,v=i[i.length-1],y=o[v]&&o[v][u],l=3}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+E);switch(y[0]){case 1:i.push(E),n.push(g.yytext),r.push(g.yylloc),i.push(y[1]),E=null,I?(E=I,I=null):(c=g.yyleng,s=g.yytext,a=g.yylineno,p=g.yylloc,l>0&&l--);break;case 2:if(N=this.productions_[y[1]][1],k.$=n[n.length-N],k._$={first_line:r[r.length-(N||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(N||1)].first_column,last_column:r[r.length-1].last_column},T&&(k._$.range=[r[r.length-(N||1)].range[0],r[r.length-1].range[1]]),"undefined"!==typeof(A=this.performAction.apply(k,[s,c,a,m.yy,y[1],n,r].concat(f))))return A;N&&(i=i.slice(0,-1*N*2),n=n.slice(0,-1*N),r=r.slice(0,-1*N)),i.push(this.productions_[y[1]][0]),n.push(k.$),r.push(k._$),R=o[i[i.length-2]][i[i.length-1]],i.push(R);break;case 3:return!0}}return!0}},rt=i(0).Primitiva,ot=i(29).Operacion,st=i(17).Consulta,at=i(10).Nodo,ct=i(95).Predicate,lt=i(0).TipoPrim,ut=i(29).TipoOperacion,ht=i(10).TipoNodo,ft=i(10).TipoAxis,gt=i(9),mt={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var i,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,i,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((i=this._input.match(this.rules[r[o]]))&&(!e||i[0].length>e[0].length)){if(e=i,n=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(i,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,i,n){switch(i){case 0:break;case 1:return 50;case 2:return 12;case 3:return"dot";case 4:return"attr";case 5:return"corA";case 6:return"corC";case 7:return"andSelect";case 8:return"dospuntos";case 9:return"parA";case 10:return"parC";case 11:return 20;case 12:return"mas";case 13:return"menos";case 14:return"div";case 15:return 46;case 16:return"gte";case 17:return 47;case 18:return 49;case 19:return"nequal";case 20:return"or";case 21:return"and";case 22:return"mod";case 23:return"ancestorSelf";case 24:return"ancestor";case 25:return"attribute";case 26:return"child";case 27:return"descendantSelf";case 28:return"descendant";case 29:return"followingSib";case 30:return"following";case 31:return"namespace";case 32:return"parent";case 33:return"precedSib";case 34:return"preced";case 35:return"self";case 36:return"lastFunc";case 37:return"positionFunc";case 38:return"nodeFunc";case 39:return"textFunc";case 40:return 57;case 41:return 58;case 42:return 8;case 43:return 59;case 44:return 60;case 45:console.log(gt.default),gt.default.agregarError("lexico","Simbolo inesperado "+e.yytext,e.yylloc.first_line,e.yylloc.first_column);break;case 46:return 5}},rules:[/^(?:\s+)/,/^(?:=)/,/^(?:\/)/,/^(?:\.)/,/^(?:@)/,/^(?:\[)/,/^(?:\])/,/^(?:\|)/,/^(?:::)/,/^(?:\()/,/^(?:\))/,/^(?:\*)/,/^(?:\+)/,/^(?:-)/,/^(?:div\b)/,/^(?:<=)/,/^(?:>=)/,/^(?:<)/,/^(?:>)/,/^(?:!=)/,/^(?:or\b)/,/^(?:and\b)/,/^(?:mod\b)/,/^(?:ancestor-or-self\b)/,/^(?:ancestor\b)/,/^(?:attribute\b)/,/^(?:child\b)/,/^(?:descendant-or-self\b)/,/^(?:descendant\b)/,/^(?:following-sibling\b)/,/^(?:following\b)/,/^(?:namespace\b)/,/^(?:parent\b)/,/^(?:preceding-sibling\b)/,/^(?:preceding\b)/,/^(?:self\b)/,/^(?:last\(\))/,/^(?:position\(\))/,/^(?:node\(\))/,/^(?:text\(\))/,/^(?:(([0-9]+\.[0-9]*)|(\.[0-9]+)))/,/^(?:[0-9]+)/,/^(?:[a-zA-Z_][a-zA-Z0-9_\xf1\xd1.-]*)/,/^(?:("((\\([\'\"\\]))|([^\"\\]+))*"))/,/^(?:('((\\([\'\"\\]))|([^\'\\]))*'))/,/^(?:.)/,/^(?:$)/],conditions:{comment:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0}}};function dt(){this.yy={}}return nt.lexer=mt,dt.prototype=nt,nt.Parser=dt,new dt}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),t.exit(1));var r=i(55).readFileSync(i(56).normalize(n[1]),"utf8");return e.parser.parse(r)},i.c[i.s]===n&&e.main(t.argv.slice(1))}).call(this,i(41),i(54)(t))},function(t,e,i){"use strict";(function(t,n){var r=function(){var t=function(t,e,i,n){for(i=i||{},n=t.length;n--;i[t[n]]=e);return i},e=[1,4],n=[1,6],r=[1,7],o=[1,8],s=[1,9],a=[1,10],c=[5,7,24,26,27,28,29],l=[9,18,20],u=[16,25],h=[1,36],f=[1,37],g=[1,38],m=[1,39],d=[1,40],p=[9,23,35,36,38,39],T=[1,58],b=[1,60],E=[1,59],I=[1,66],v=[1,74],y=[1,75],A=[1,69],O=[1,70],N=[1,71],R=[1,72],_=[1,73],S=[1,76],k=[1,77],w=[1,78],D=[1,79],U=[8,11,16,42,43,44,45,46,47,48,49,50],P=[2,43],L=[8,11,16,20,42,43,44,45,46,47,48,49,50],X=[8,11,15,16,20,42,43,44,45,46,47,48,49,50],C=[8,11,16,20,42,43,47,48,49,50],x=[8,11,16,20,47,48,49,50],Q={trace:function(){},yy:{},symbols_:{error:2,START:3,DECLARACIONES:4,EOF:5,DECLARACION:6,include:7,lt:8,identifier:9,ext_h:10,gt:11,DATATYPE:12,corA:13,IntegerLiteral:14,corC:15,puntocoma:16,LISTAIDS:17,main:18,parA:19,parC:20,llaveA:21,LISTAINSTRUCCIONES:22,llaveC:23,void:24,coma:25,int:26,double:27,float:28,char:29,INSTRUCCION:30,asig:31,EXPRESION:32,PRIMITIVA:33,dospuntos:34,goto:35,printf:36,cadena:37,if:38,return:39,TIPORETURN:40,OPERACION:41,mas:42,menos:43,por:44,div:45,mod:46,lte:47,gte:48,eq:49,neq:50,DoubleLiteral:51,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"include",8:"lt",9:"identifier",10:"ext_h",11:"gt",13:"corA",14:"IntegerLiteral",15:"corC",16:"puntocoma",18:"main",19:"parA",20:"parC",21:"llaveA",23:"llaveC",24:"void",25:"coma",26:"int",27:"double",28:"float",29:"char",31:"asig",34:"dospuntos",35:"goto",36:"printf",37:"cadena",38:"if",39:"return",42:"mas",43:"menos",44:"por",45:"div",46:"mod",47:"lte",48:"gte",49:"eq",50:"neq",51:"DoubleLiteral"},productions_:[0,[3,2],[4,2],[4,1],[6,5],[6,6],[6,3],[6,7],[6,7],[17,3],[17,1],[12,1],[12,1],[12,1],[12,1],[22,2],[22,1],[30,4],[30,10],[30,10],[30,16],[30,2],[30,3],[30,4],[30,10],[30,7],[30,3],[40,1],[40,0],[32,1],[32,1],[41,3],[41,3],[41,3],[41,3],[41,3],[41,3],[41,3],[41,3],[41,3],[41,3],[41,3],[41,2],[33,1],[33,1],[33,1]],performAction:function(t,e,i,n,r,o,s){var a=o.length-1;switch(r){case 1:return this.$=o[a-1],this.$;case 2:case 15:o[a-1].push(o[a]),this.$=o[a-1];break;case 3:case 10:case 16:this.$=[o[a]];break;case 4:nt=o[a-4]+o[a-3]+o[a-2]+o[a-1]+o[a],this.$=new j(G.INCLUDE,nt,s[a-4].first_line,s[a-4].first_column);break;case 5:nt=o[a-5]+" "+o[a-4]+o[a-3]+o[a-2]+o[a-1]+o[a],this.$=new F(G.VARIABLE,nt,s[a-5].first_line,s[a-5].first_column);break;case 6:var c=o[a-1][0];nt=o[a-2]+" "+c;for(var l=1;l<o[a-1].length;l++)nt+=", "+o[a-1][l];nt+=";",this.$=new F(G.VARIABLE,nt,s[a-2].first_line,s[a-2].first_column);break;case 7:nt=o[a-6]+o[a-5]+o[a-4]+o[a-3]+o[a-2],this.$=new M(G.MAIN,o[a-1],nt,s[a-6].first_line,s[a-6].first_column);break;case 8:this.$=new $(G.METODO,o[a-1],o[a-5],s[a-6].first_line,s[a-6].first_column);break;case 9:o[a-2].push(o[a]),this.$=o[a-2];break;case 11:case 12:case 13:case 14:case 27:case 29:case 30:this.$=o[a];break;case 17:nt=o[a-3]+" "+o[a-2]+" "+o[a-1].codigo3D+o[a],this.$=new W(Y.ASIGNORMAL,o[a-3],o[a-1],nt,s[a-3].first_line,s[a-3].first_column);break;case 18:nt=o[a-9]+" "+o[a-8]+" "+o[a-7]+o[a-6]+o[a-5]+o[a-4]+o[a-3]+o[a-2].codigo3D+o[a-1]+o[a],this.$=new W(Y.ASIGARREGLO,o[a-9],o[a-2],nt,s[a-9].first_line,s[a-9].first_column);break;case 19:nt=o[a-9]+o[a-8]+o[a-7]+o[a-6]+o[a-5]+o[a-4].codigo3D+o[a-3]+" "+o[a-2]+" "+o[a-1].codigo3D+o[a],this.$=new W(Y.ARREGLOASIG,o[a-9],o[a-1],nt,s[a-9].first_line,s[a-9].first_column);break;case 20:nt=o[a-15]+o[a-14]+o[a-13]+o[a-12]+o[a-11]+o[a-10].codigo3D+o[a-9]+" "+o[a-8]+" "+o[a-7]+o[a-6]+o[a-5]+o[a-4]+o[a-3]+o[a-2].codigo3D+o[a-1]+o[a],this.$=new W(Y.ARREGLOASIGARREGLO,o[a-15],o[a-2],nt,s[a-15].first_line,s[a-15].first_column);break;case 21:this.$=new K(Y.ETIQUETA,o[a-1],o[a-1]+o[a],s[a-1].first_line,s[a-1].first_column);break;case 22:this.$=new J(Y.GOTO,o[a-1],o[a-2]+" "+o[a-1]+o[a],s[a-2].first_line,s[a-2].first_column);break;case 23:nt=o[a-3]+o[a-2]+o[a-1]+o[a],this.$=new Z(Y.LLAMADA,o[a-3],nt,s[a-3].first_line,s[a-3].first_column);break;case 24:nt=o[a-9]+o[a-8]+o[a-7]+o[a-6]+" "+o[a-5]+o[a-4]+o[a-3]+o[a-2].codigo3D+o[a-1]+o[a],this.$=new et(Y.PRINTF,nt,s[a-9].first_line,s[a-9].first_column);break;case 25:nt=o[a-6]+o[a-5]+o[a-4].codigo3D+o[a-3]+" "+o[a-2]+" "+o[a-1]+o[a],this.$=new tt(Y.IF,o[a-4],new J(Y.GOTO,o[a-1],o[a-2]+" "+o[a-1]+o[a]),nt,s[a-6].first_line,s[a-6].first_column);break;case 26:this.$=new it(Y.RETURN,o[a-2]+" "+o[a-1]+";",s[a-2].first_line,s[a-2].first_column);break;case 28:this.$="";break;case 31:this.$=new H(q.OPERACION,B.SUMA,o[a-2],o[a],o[a-2].codigo3D+" "+o[a-1]+" "+o[a].codigo3D,s[a-2].first_line,s[a-2].first_column);break;case 32:this.$=new H(q.OPERACION,B.RESTA,o[a-2],o[a],o[a-2].codigo3D+" "+o[a-1]+" "+o[a].codigo3D,s[a-2].first_line,s[a-2].first_column);break;case 33:this.$=new H(q.OPERACION,B.MULTIPLICACION,o[a-2],o[a],o[a-2].codigo3D+" "+o[a-1]+" "+o[a].codigo3D,s[a-2].first_line,s[a-2].first_column);break;case 34:this.$=new H(q.OPERACION,B.DIVISION,o[a-2],o[a],o[a-2].codigo3D+" "+o[a-1]+" "+o[a].codigo3D,s[a-2].first_line,s[a-2].first_column);break;case 35:this.$=new H(q.OPERACION,B.MOD,o[a-2],o[a],o[a-2].codigo3D+" "+o[a-1]+" "+o[a].codigo3D,s[a-2].first_line,s[a-2].first_column);break;case 36:this.$=new H(q.OPERACION,B.MENORQUE,o[a-2],o[a],o[a-2].codigo3D+" "+o[a-1]+" "+o[a].codigo3D,s[a-2].first_line,s[a-2].first_column);break;case 37:this.$=new H(q.OPERACION,B.MAYORQUE,o[a-2],o[a],o[a-2].codigo3D+" "+o[a-1]+" "+o[a].codigo3D,s[a-2].first_line,s[a-2].first_column);break;case 38:this.$=new H(q.OPERACION,B.MENORIGUALQUE,o[a-2],o[a],o[a-2].codigo3D+" "+o[a-1]+" "+o[a].codigo3D,s[a-2].first_line,s[a-2].first_column);break;case 39:this.$=new H(q.OPERACION,B.MAYORIGUALQUE,o[a-2],o[a],o[a-2].codigo3D+" "+o[a-1]+" "+o[a].codigo3D,s[a-2].first_line,s[a-2].first_column);break;case 40:this.$=new H(q.OPERACION,B.IGUALIGUAL,o[a-2],o[a],o[a-2].codigo3D+" "+o[a-1]+" "+o[a].codigo3D,s[a-2].first_line,s[a-2].first_column);break;case 41:this.$=new H(q.OPERACION,B.DIFERENTEQUE,o[a-2],o[a],o[a-2].codigo3D+" "+o[a-1]+" "+o[a].codigo3D,s[a-2].first_line,s[a-2].first_column);break;case 42:this.$=new H(q.OPERACION,B.MENOSUNARIO,o[a],null,"-"+o[a].codigo3D,s[a-1].first_line,s[a-1].first_column);break;case 43:this.$=new z(q.PRIMITIVA,V.IDENTIFIER,o[a],o[a],s[a].first_line,s[a].first_column);break;case 44:this.$=new z(q.PRIMITIVA,V.INTEGER,+o[a],o[a],s[a].first_line,s[a].first_column);break;case 45:this.$=new z(q.PRIMITIVA,V.DOUBLE,+o[a],o[a],s[a].first_line,s[a].first_column)}},table:[{3:1,4:2,6:3,7:e,12:5,24:n,26:r,27:o,28:s,29:a},{1:[3]},{5:[1,11],6:12,7:e,12:5,24:n,26:r,27:o,28:s,29:a},t(c,[2,3]),{8:[1,13]},{9:[1,14],17:15,18:[1,16]},{9:[1,17]},t(l,[2,11]),t(l,[2,12]),t(l,[2,13]),t(l,[2,14]),{1:[2,1]},t(c,[2,2]),{9:[1,18]},t(u,[2,10],{13:[1,19]}),{16:[1,20],25:[1,21]},{19:[1,22]},{19:[1,23]},{10:[1,24]},{14:[1,25]},t(c,[2,6]),{9:[1,26]},{20:[1,27]},{20:[1,28]},{11:[1,29]},{15:[1,30]},t(u,[2,9]),{21:[1,31]},{21:[1,32]},t(c,[2,4]),{16:[1,33]},{9:h,22:34,30:35,35:f,36:g,38:m,39:d},{9:h,22:41,30:35,35:f,36:g,38:m,39:d},t(c,[2,5]),{9:h,23:[1,42],30:43,35:f,36:g,38:m,39:d},t(p,[2,16]),{13:[1,45],19:[1,47],31:[1,44],34:[1,46]},{9:[1,48]},{19:[1,49]},{19:[1,50]},{14:[1,52],16:[2,28],40:51},{9:h,23:[1,53],30:43,35:f,36:g,38:m,39:d},t(c,[2,7]),t(p,[2,15]),{9:[1,55],14:T,32:54,33:56,41:57,43:b,51:E},{19:[1,61]},t(p,[2,21]),{20:[1,62]},{16:[1,63]},{37:[1,64]},{9:I,14:T,32:65,33:56,41:57,43:b,51:E},{16:[1,67]},{16:[2,27]},t(c,[2,8]),{8:v,11:y,16:[1,68],42:A,43:O,44:N,45:R,46:_,47:S,48:k,49:w,50:D},t(U,P,{13:[1,80]}),t(L,[2,29]),t(L,[2,30]),t(X,[2,44]),t(X,[2,45]),{9:I,14:T,32:81,33:56,41:57,43:b,51:E},{12:82,26:r,27:o,28:s,29:a},{16:[1,83]},t(p,[2,22]),{25:[1,84]},{8:v,11:y,20:[1,85],42:A,43:O,44:N,45:R,46:_,47:S,48:k,49:w,50:D},t(X,P),t(p,[2,26]),t(p,[2,17]),{9:I,14:T,32:86,33:56,41:57,43:b,51:E},{9:I,14:T,32:87,33:56,41:57,43:b,51:E},{9:I,14:T,32:88,33:56,41:57,43:b,51:E},{9:I,14:T,32:89,33:56,41:57,43:b,51:E},{9:I,14:T,32:90,33:56,41:57,43:b,51:E},{9:I,14:T,32:91,33:56,41:57,43:b,51:E},{9:I,14:T,32:92,33:56,41:57,43:b,51:E},{9:I,14:T,32:93,33:56,41:57,43:b,51:E},{9:I,14:T,32:94,33:56,41:57,43:b,51:E},{9:I,14:T,32:95,33:56,41:57,43:b,51:E},{9:I,14:T,32:96,33:56,41:57,43:b,51:E},{19:[1,97]},t(L,[2,42]),{20:[1,98]},t(p,[2,23]),{19:[1,99]},{35:[1,100]},t(C,[2,31],{44:N,45:R,46:_}),t(C,[2,32],{44:N,45:R,46:_}),t(L,[2,33]),t(L,[2,34]),t(L,[2,35]),t(x,[2,36],{42:A,43:O,44:N,45:R,46:_}),t(x,[2,37],{42:A,43:O,44:N,45:R,46:_}),t(x,[2,38],{42:A,43:O,44:N,45:R,46:_}),t(x,[2,39],{42:A,43:O,44:N,45:R,46:_}),t(x,[2,40],{42:A,43:O,44:N,45:R,46:_}),t(x,[2,41],{42:A,43:O,44:N,45:R,46:_}),{12:101,26:r,27:o,28:s,29:a},{9:I,14:T,33:102,51:E},{12:103,26:r,27:o,28:s,29:a},{9:[1,104]},{20:[1,105]},{15:[1,106]},{20:[1,107]},{16:[1,108]},{9:I,14:T,33:109,51:E},{31:[1,110]},{9:I,14:T,33:111,51:E},t(p,[2,25]),{15:[1,112]},{9:[1,114],14:T,32:113,33:56,41:57,43:b,51:E},{20:[1,115]},{16:[1,116]},{8:v,11:y,16:[1,117],42:A,43:O,44:N,45:R,46:_,47:S,48:k,49:w,50:D},t(U,P,{13:[1,118]}),{16:[1,119]},t(p,[2,18]),t(p,[2,19]),{19:[1,120]},t(p,[2,24]),{12:121,26:r,27:o,28:s,29:a},{20:[1,122]},{9:I,14:T,33:123,51:E},{15:[1,124]},{16:[1,125]},t(p,[2,20])],defaultActions:{11:[2,1],52:[2,27]},parseError:function(t,e){if(!e.recoverable){var i=new Error(t);throw i.hash=e,i}this.trace(t)},parse:function(t){var e=this,i=[0],n=[null],r=[],o=this.table,s="",a=0,c=0,l=0,u=2,h=1,f=r.slice.call(arguments,1),g=Object.create(this.lexer),m={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(m.yy[d]=this.yy[d]);g.setInput(t,m.yy),m.yy.lexer=g,m.yy.parser=this,"undefined"==typeof g.yylloc&&(g.yylloc={});var p=g.yylloc;r.push(p);var T=g.options&&g.options.ranges;"function"===typeof m.yy.parseError?this.parseError=m.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,E,I,v,y,A,O,N,R,_=function(){var t;return"number"!==typeof(t=g.lex()||h)&&(t=e.symbols_[t]||t),t},S={};;){if(I=i[i.length-1],this.defaultActions[I]?v=this.defaultActions[I]:(null!==b&&"undefined"!=typeof b||(b=_()),v=o[I]&&o[I][b]),"undefined"===typeof v||!v.length||!v[0]){var k="";for(A in R=[],o[I])this.terminals_[A]&&A>u&&R.push("'"+this.terminals_[A]+"'");k=g.showPosition?"Parse error on line "+(a+1)+":\n"+g.showPosition()+"\nExpecting "+R.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(a+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(k,{text:g.match,token:this.terminals_[b]||b,line:g.yylineno,loc:p,expected:R})}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+I+", token: "+b);switch(v[0]){case 1:i.push(b),n.push(g.yytext),r.push(g.yylloc),i.push(v[1]),b=null,E?(b=E,E=null):(c=g.yyleng,s=g.yytext,a=g.yylineno,p=g.yylloc,l>0&&l--);break;case 2:if(O=this.productions_[v[1]][1],S.$=n[n.length-O],S._$={first_line:r[r.length-(O||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(O||1)].first_column,last_column:r[r.length-1].last_column},T&&(S._$.range=[r[r.length-(O||1)].range[0],r[r.length-1].range[1]]),"undefined"!==typeof(y=this.performAction.apply(S,[s,c,a,m.yy,v[1],n,r].concat(f))))return y;O&&(i=i.slice(0,-1*O*2),n=n.slice(0,-1*O),r=r.slice(0,-1*O)),i.push(this.productions_[v[1]][0]),n.push(S.$),r.push(S._$),N=o[i[i.length-2]][i[i.length-1]],i.push(N);break;case 3:return!0}}return!0}},j=i(174).Include,M=i(100).Main,$=i(101).Metodo,F=i(175).Variable,G=i(176).TipoDeclaracion3D,H=i(20).Operacion3D,B=i(20).TipoOperacion3D,z=i(16).Primitiva3D,V=i(16).TipoPrim3D,q=i(37).TipoExpresion3D,Y=i(27).TipoInstruccion3D,W=i(35).Asignacion3D,Z=i(177).Llamada3D,K=i(52).Etiqueta3D,J=i(88).Goto3D,tt=i(74).If3D,et=i(178).Printf3D,it=i(179).Return3D,nt=(i(9),""),rt={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var i,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,i,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((i=this._input.match(this.rules[r[o]]))&&(!e||i[0].length>e[0].length)){if(e=i,n=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(i,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,i,n){switch(i){case 0:break;case 1:this.begin("comment");break;case 2:this.popState();break;case 3:break;case 4:return"ext_h";case 5:return"corA";case 6:return"corC";case 7:return"llaveA";case 8:return"llaveC";case 9:return"parA";case 10:return"parC";case 11:return"dospuntos";case 12:return"puntocoma";case 13:return"coma";case 14:return 48;case 15:return 47;case 16:return 8;case 17:return 11;case 18:return 49;case 19:return 31;case 20:return"neq";case 21:return 45;case 22:return 46;case 23:return 44;case 24:return"mas";case 25:return"menos";case 26:return"main";case 27:return"return";case 28:return"void";case 29:return"float";case 30:return"printf";case 31:return"char";case 32:return"int";case 33:return"double";case 34:return"if";case 35:return"goto";case 36:return"include";case 37:return 51;case 38:return 14;case 39:return 9;case 40:return 37;case 41:return"cadena2";case 42:break;case 43:return 5;case 44:console.log("Error Lexico: "+e.yytext)}},rules:[/^(?:\/\/.*\s+)/i,/^(?:\/\*)/i,/^(?:\*\/)/i,/^(?:.)/i,/^(?:\.h\b)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\{)/i,/^(?:\})/i,/^(?:\()/i,/^(?:\))/i,/^(?::)/i,/^(?:;)/i,/^(?:,)/i,/^(?:>=)/i,/^(?:<=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:==)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:\/)/i,/^(?:%)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:main\b)/i,/^(?:return\b)/i,/^(?:void\b)/i,/^(?:float\b)/i,/^(?:printf\b)/i,/^(?:char\b)/i,/^(?:int\b)/i,/^(?:double\b)/i,/^(?:if\b)/i,/^(?:goto\b)/i,/^(?:#include\b)/i,/^(?:(([0-9]+\.[0-9]*)|(\.[0-9]+)))/i,/^(?:[0-9]+)/i,/^(?:[a-zA-Z_][a-zA-Z0-9_\xf1\xd1]*)/i,/^(?:("((\\([\'\"\\]))|([^\"\\]+))*"))/i,/^(?:('((\\([\'\"\\]))|([^\'\\]))*'))/i,/^(?:[ \t\r\n\f])/i,/^(?:$)/i,/^(?:.)/i],conditions:{comment:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!0},INITIAL:{rules:[0,1,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!0}}};function ot(){this.yy={}}return Q.lexer=rt,ot.prototype=Q,Q.Parser=ot,new ot}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),t.exit(1));var r=i(55).readFileSync(i(56).normalize(n[1]),"utf8");return e.parser.parse(r)},i.c[i.s]===n&&e.main(t.argv.slice(1))}).call(this,i(41),i(54)(t))},,,,,,,,,,,,,function(t,e,i){},function(t,e,i){},,,,,,,,,,,,,,,,,,function(t,e){},function(t,e,i){"use strict";i.r(e),i.d(e,"Flwor",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r,o){Object(n.a)(this,t),this.linea=r,this.columna=o,this.retType=i,this.opcionales=e}return Object(r.a)(t,[{key:"getCodigo3Dir",value:function(t,e,i,n){var r="";return this.opcionales.forEach((function(o){r+=o.getCodigo3Dir(t,e,i,n)})),r+=this.retType.getCodigo3Dir(t,e,i,n)}},{key:"ejecutar",value:function(t,e){console.log("ejecutando FLwor"),this.opcionales.forEach((function(i){i.ejecutar(t,e)}));var i=this.retType.ejecutar(t,e);return console.log("x",i),i}}]),t}()},function(t,e,i){"use strict";i.r(e),i.d(e,"Where",(function(){return u}));var n=i(6),r=i(7),o=i(18),s=i(3),a=i(29),c=i(17),l=i(10),u=function(){function t(e,i,r,o,s){Object(n.a)(this,t),this.linea=o,this.columna=s,this.identificador=e,this.condicion=i,this.fromRoot=r}return Object(r.a)(t,[{key:"getCodigo3Dir",value:function(t,e,i,n){return""}},{key:"isFromRoot",value:function(){return this.fromRoot}},{key:"ejecutar",value:function(t,e){var i=this,n=[],r=t.obtenerSimbolo(this.identificador);if(null!=r){if(this.isFromRoot()&&r.valor.forEach((function(t){var e=t.valor,r=i.condicion.getValor(e);null!=r&&(void 0!=r.tsimbolos&&r.tsimbolos.length>0||void 0===r.tsimbolos&&r)&&(n=n.concat(t))})),0==n.length&&!this.isFromRoot()){var u=null;if(this.condicion instanceof a.Operacion){u=this.condicion.op_izq;var h=[];r.valor.forEach((function(t){var n=new l.Nodo(u.getValorInicial(e),l.TipoNodo.IDENTIFIER,i.linea,i.columna);n.fromRoot=!1,new c.Consulta([n],i.linea,i.columna).ejecutar(t.valor).length>0&&h.push(t)})),h.length>0&&h.forEach((function(t){var e=i.condicion.getValor(t.getValor());null!=e&&(void 0!=e.tsimbolos&&e.tsimbolos.length>0||void 0===e.tsimbolos&&e)&&(n=n.concat(t))}))}}var f=new o.a(s.a.XQ_VAR,this.identificador,n,this.linea,this.columna);t.sobreEscribirSimbolo(this.identificador,f)||console.log("Error, no se pudo sobreescribir simbolo: $",this.identificador)}else console.log("ERROR WHERE, SIMBOLO NO ENCONTRADO: ",r)}}]),t}()},function(t,e,i){"use strict";i.r(e),i.d(e,"For",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r){Object(n.a)(this,t),this.linea=i,this.columna=r,this.listaFor=e}return Object(r.a)(t,[{key:"ejecutar",value:function(t,e){console.log("Ejecutando for");for(var i=0;i<this.listaFor.length;i++){this.listaFor[i].ejecutar(t,e)}}},{key:"getCodigo3Dir",value:function(t,e,i,n){for(var r="",o=0;o<this.listaFor.length;o++){r+=this.listaFor[o].getCodigo3Dir(t,e,i,n)}return r}}]),t}()},function(t,e,i){"use strict";i.r(e),i.d(e,"Let",(function(){return a}));var n=i(6),r=i(7),o=i(18),s=i(3),a=function(){function t(e,i,r,o,s,a,c,l){Object(n.a)(this,t),this.linea=r,this.columna=o,this.consultas=i,this.listaEnteros=c,this.identifier=e,this.expresion=l,void 0!=s&&void 0!=a&&(this.desde=+s,this.hasta=+a)}return Object(r.a)(t,[{key:"getCodigo3Dir",value:function(t,e,i,n){return""}},{key:"ejecutar",value:function(t,e){var i=[];if(void 0!=this.consultas){this.consultas.forEach((function(t){i.push(t.ejecutar(e))}));var n=new o.a(s.a.XQ_VAR,this.identifier,i,this.linea,this.columna);t.agregarSimbolo(this.identifier,n)}else if(void 0!=this.listaEnteros){var r=new o.a(s.a.XQ_VAR,this.identifier,this.listaEnteros,this.linea,this.columna);t.agregarSimbolo(this.identifier,r)}else if(void 0!=this.desde&&void 0!=this.hasta){for(var a=this.desde;a<=this.hasta;a++)console.log("i: ",a),i.push(""+a);var c=new o.a(s.a.XQ_VAR,this.identifier,i,this.linea,this.columna);t.agregarSimbolo(this.identifier,c),console.log("SIMBOLO: ",t.obtenerSimbolo(this.identifier))}}}]),t}()},function(t,e,i){"use strict";i.r(e),i.d(e,"OrderBy",(function(){return u}));var n=i(8),r=i(6),o=i(7),s=i(18),a=i(3),c=i(21),l=i(17),u=function(){function t(e,i,n){Object(r.a)(this,t),this.linea=i,this.columna=n,this.listaSort=e}return Object(o.a)(t,[{key:"getCodigo3Dir",value:function(t,e,i,n){var r="";this.ejecutar(t,e),r+="/*---- INICIA ORDER BY --*/";var o="tq"+n.contT;r+="\n\t"+o+" = HQ;\n",n.contT++;var s=this.listaSort[0],a=t.obtenerSimbolo(s.identifier);if(r+="\tXQHeap[(int)HQ] = -13;\n",r+="\t HQ = HQ + 1;\n",a instanceof Array)for(var l=0;l<a.length;l++){var u=a[l];r+="\t/*--- TRASLADANDO "+u.nombre+" HACIA EL HEAP DEL XQUERY --- */\n",r+="\t H = stack[(int)"+u.posicion+"]; \n",r+="\tfromHeapToXQHeap();\n",-1===n.funcionesUtilizadas.indexOf(c.a.FROMHEAPTOXQHEAP)&&n.funcionesUtilizadas.push(c.a.FROMHEAPTOXQHEAP)}return r+="\tXQHeap[(int)HQ] = -13;\n",r+="\t HQ = HQ + 1;\n",r+="\t/*--- GUARDAR EN STACK DE XQUERY --*/\n",r+="\t\nXQStack[(int)SQ] = "+o+";\n",r+="\tSQ = SQ + 1;\n"}},{key:"ejecutar",value:function(t,e){var i=[],n=this.listaSort[0],r=t.obtenerSimbolo(n.identifier);i=this.ordenarPorCriterios(i,r,0);var o=new s.a(a.a.XQ_VAR,n.identifier,i,this.linea,this.columna);t.sobreEscribirSimbolo(n.identifier,o)}},{key:"ordenarPorCriterios",value:function(t,e,i){for(var r=[],o=this.listaSort[i],s=0;s<e.valor.length;s++)for(var a=new l.Consulta(o.listaNodos,this.linea,this.columna),c=e.valor[s].valor,u=a.ejecutar(c),h=0;h<u.length;h++){var f=u[h],g=this.obtenerTexto(f);if(null!=g){var m=!1;if(s>0){for(var d=0;d<s;d++){var p=+g,T=+r[d];if(isNaN(p)||isNaN(T)){if(r[d]>g){var b=this.reOrdenar(r,g,t,e.valor[s],d),E=Object(n.a)(b,2);r=E[0],t=E[1],m=!0;break}if(r[d]===g&&void 0!=this.listaSort[i+1]&&this.desempatar(e.valor[s],t[d],i+1)){m=!0;var I=this.reOrdenar(r,g,t,e.valor[s],d),v=Object(n.a)(I,2);r=v[0],t=v[1];break}}else{if(T>p){var y=this.reOrdenar(r,g,t,e.valor[s],d),A=Object(n.a)(y,2);r=A[0],t=A[1],m=!0;break}if(T===p&&void 0!=this.listaSort[i+1]&&this.desempatar(e.valor[s],t[d],i+1)){m=!0;var O=this.reOrdenar(r,g,t,e.valor[s],d),N=Object(n.a)(O,2);r=N[0],t=N[1];break}}}m||(r.push(g),t.push(e.valor[s]))}else r.push(g),t.push(e.valor[s])}}return t}},{key:"desempatar",value:function(t,e,i){for(var n=this.listaSort[i],r=new l.Consulta(n.listaNodos,this.linea,this.columna),o=t.valor,s=r.ejecutar(o),a=e.valor,c=r.ejecutar(a),u=0;u<s.length;u++){var h=s[u],f=this.obtenerTexto(h);if(null!=f)for(var g=0;g<c.length;g++){var m=c[g],d=this.obtenerTexto(m);if(null!=d){var p=+f,T=+d;if(isNaN(p)||isNaN(T)){if(d>f)return!0;if(d===f&&void 0!=this.listaSort[i+1])return this.desempatar(t,e,i+1)}else{if(T>p)return!0;if(T===p&&void 0!=this.listaSort[i+1])return this.desempatar(t,e,i+1)}}}}return!1}},{key:"reOrdenar",value:function(t,e,i,n,r){for(var o=[],s=[],a=0;a<t.length;a++)a===r&&(o.push(e),s.push(n)),o.push(t[a]),s.push(i[a]);return[o,s]}},{key:"obtenerTexto",value:function(t){for(var e=0;e<t.valor.tsimbolos.length;e++)if(t.valor.tsimbolos[e].valor.getTipo()===a.a.STRING)return t.valor.tsimbolos[e].valor.getValor();return null}}]),t}()},function(t,e,i){"use strict";i.r(e),i.d(e,"Sort",(function(){return r}));var n=i(6),r=function t(e,i,r,o){Object(n.a)(this,t),this.linea=r,this.columna=o,this.identifier=e,this.listaNodos=i}},function(t,e,i){"use strict";i.r(e),i.d(e,"CondicionIf",(function(){return s}));var n=i(6),r=i(7),o=i(17),s=function(){function t(e,i,r,o,s,a,c,l){Object(n.a)(this,t),this.etiqueta=r,this.identificador=e,this.listaNodos=i,this.funcionXQ=o,this.linea=a,this.columna=c,this.vacio=s,this.llamadaFuncion=l}return Object(r.a)(t,[{key:"isVacio",value:function(){return this.vacio}},{key:"obtenerResponse",value:function(t){if(void 0!=this.identificador&&void 0!=this.listaNodos){var e=new o.Consulta(this.listaNodos,this.linea,this.columna);return[].concat(e.ejecutar(t.valor))}if(void 0!=this.funcionXQ){var i=[];return i=i.concat(this.funcionXQ.getSobreEntornoXML(t.valor))}return this.llamadaFuncion,[]}}]),t}()},function(t,e,i){"use strict";i.r(e),i.d(e,"Html",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r,o,s,a,c,l){Object(n.a)(this,t),this.linea=c,this.listaVarCall=s,this.columna=l,this.isUnica=a,this.identifier=e,this.listaHtml=o,this.atributos=i,this.texto=r}return Object(r.a)(t,[{key:"ejecutar",value:function(t){}}]),t}()},function(t,e,i){"use strict";i.r(e),i.d(e,"IfThenElse",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r,o,s,a,c,l){Object(n.a)(this,t),this.linea=c,this.columna=l,this.identificador=e,this.condicion=i,this.condicionElse=s,this.condicionThen=r,this.listaElseIf=o,this.fromRoot=a}return Object(r.a)(t,[{key:"isFromRoot",value:function(){return this.fromRoot}},{key:"getCodigo3Dir",value:function(t,e,i,n){return""}},{key:"ejecutar",value:function(t,e){var i=this,n=[];if(this.identificador){var r=t.obtenerSimbolo(this.identificador);this.isFromRoot()&&r.valor.forEach((function(t){var e=t.valor,r=i.condicion.getValor(e);if(null!=r&&void 0!=r)if(void 0!==r.tsimbolos&&r.tsimbolos.length>0)i.condicionThen.isVacio()||(n=n.concat(i.condicionThen.obtenerResponse(t)));else if(void 0===r.tsimbolos&&r)i.condicionThen.isVacio()||(n=n.concat(i.condicionThen.obtenerResponse(t)));else{for(var o=!1,s=0;s<i.listaElseIf.length;s++){var a=i.listaElseIf[s];if(a.condicionCumple(e)){o=!0,n=n.concat(a.obtenerResponse(t));break}}o||i.condicionElse.isVacio()||(n=n.concat(i.condicionElse.obtenerResponse(t)))}else{for(var c=!1,l=0;l<i.listaElseIf.length;l++){var u=i.listaElseIf[l];if(u.condicionCumple(e)){c=!0,n=n.concat(u.obtenerResponse(t));break}}c||i.condicionElse.isVacio()||(n=n.concat(i.condicionElse.obtenerResponse(t)))}}))}return n}}]),t}()},function(t,e,i){"use strict";i.r(e),i.d(e,"ElseIf",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r,o,s){Object(n.a)(this,t),this.identifier=e,this.condicion=i,this.respThen=r,this.fila=o,this.columna=s}return Object(r.a)(t,[{key:"condicionCumple",value:function(t){void 0!=this.identifier&&console.log("Prueba :",t.obtenerSimbolo(this.identifier));var e=this.condicion.getValor(t);return null!=e&&void 0!=e&&(void 0!==e.tsimbolos&&e.tsimbolos.length>0||!(void 0!==e.tsimbolos||!e))}},{key:"obtenerResponse",value:function(t){return this.respThen.isVacio()?[]:this.respThen.obtenerResponse(t)}}]),t}()},function(t,e,i){"use strict";i.r(e),i.d(e,"VarCall",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r,o,s){Object(n.a)(this,t),this.linea=o,this.columna=s,this.identifier=e,this.listaNodos=i,this.flwor=r}return Object(r.a)(t,[{key:"ejecutar",value:function(t){}}]),t}()},function(t,e,i){"use strict";i.r(e),i.d(e,"Include",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r,o){Object(n.a)(this,t),this.fila=r,this.columna=o,this.tipo=e,this.codigo3Dir=i}return Object(r.a)(t,[{key:"getCodigo3Dir",value:function(){return this.codigo3Dir}},{key:"setCodigo3Dir",value:function(t){this.codigo3Dir=t}},{key:"optimizar",value:function(){}}]),t}()},function(t,e,i){"use strict";i.r(e),i.d(e,"Variable",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r,o){Object(n.a)(this,t),this.fila=r,this.columna=o,this.tipo=e,this.codigo3Dir=i}return Object(r.a)(t,[{key:"getCodigo3Dir",value:function(){return this.codigo3Dir}},{key:"setCodigo3Dir",value:function(t){this.codigo3Dir=t}},{key:"optimizar",value:function(){}}]),t}()},function(t,e,i){"use strict";var n;i.r(e),i.d(e,"TipoDeclaracion3D",(function(){return n})),function(t){t[t.INCLUDE=0]="INCLUDE",t[t.ARREGLO=1]="ARREGLO",t[t.VARIABLE=2]="VARIABLE",t[t.MAIN=3]="MAIN",t[t.METODO=4]="METODO"}(n||(n={}))},function(t,e,i){"use strict";i.r(e),i.d(e,"Llamada3D",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r,o,s){Object(n.a)(this,t),this.fila=o,this.columna=s,this.tipo=e,this.codigo3D=r,this.metodo=i,this.eliminada=!1,this.optimizada=!1}return Object(r.a)(t,[{key:"isOptimizada",value:function(){return this.optimizada}},{key:"setOptimizada",value:function(t){this.optimizada=t}},{key:"isEliminada",value:function(){return this.eliminada}},{key:"setEliminada",value:function(t){this.eliminada=t}},{key:"getTipoInstruccion",value:function(){return this.tipo}},{key:"setCodigo3D",value:function(t){this.codigo3D=t}},{key:"getCodigo3D",value:function(){return this.codigo3D}}]),t}()},function(t,e,i){"use strict";i.r(e),i.d(e,"Printf3D",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r,o){Object(n.a)(this,t),this.fila=r,this.columna=o,this.tipo=e,this.codigo3D=i,this.eliminada=!1,this.optimizada=!1}return Object(r.a)(t,[{key:"isOptimizada",value:function(){return this.optimizada}},{key:"setOptimizada",value:function(t){this.optimizada=t}},{key:"isEliminada",value:function(){return this.eliminada}},{key:"setEliminada",value:function(t){this.eliminada=t}},{key:"getTipoInstruccion",value:function(){return this.tipo}},{key:"setCodigo3D",value:function(t){this.codigo3D=t}},{key:"getCodigo3D",value:function(){return this.codigo3D}}]),t}()},function(t,e,i){"use strict";i.r(e),i.d(e,"Return3D",(function(){return o}));var n=i(6),r=i(7),o=function(){function t(e,i,r,o){Object(n.a)(this,t),this.fila=r,this.columna=o,this.tipo=e,this.codigo3D=i,this.eliminada=!1,this.optimizada=!1}return Object(r.a)(t,[{key:"isOptimizada",value:function(){return this.optimizada}},{key:"setOptimizada",value:function(t){this.optimizada=t}},{key:"isEliminada",value:function(){return this.eliminada}},{key:"setEliminada",value:function(t){this.eliminada=t}},{key:"getTipoInstruccion",value:function(){return this.tipo}},{key:"setCodigo3D",value:function(t){this.codigo3D=t}},{key:"getCodigo3D",value:function(){return this.codigo3D}}]),t}()},,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n,r=i(1),o=i.n(r),s=i(30),a=i.n(s),c=(i(143),i(6)),l=i(7),u=i(87),h=i(66),f=i(64),g=i(218),m=i(220),d=i(227),p=i(221),T=i(229),b=i(222),E=i(193),I=i(132),v=i.n(I),y=i(228),A=i(230),O=i(133),N=i.n(O),R=(i(144),i(145),i(146),i(147),i(148),i(149),i(123)),_=i(40),S=i(36),k=i(4),w=function(t){Object(h.a)(i,t);var e=Object(f.a)(i);function i(t){var n;return Object(c.a)(this,i),(n=e.call(this,t)).handleChange=function(t,e,i){n.props.onChange(i)},n.state={open:!0,language:n.props.language,displayName:n.props.displayName,value:n.props.value,onChange:n.props.onChange},n}return Object(l.a)(i,[{key:"render",value:function(){var t=this;return Object(k.jsxs)("div",{className:"editor-container",children:[Object(k.jsxs)("div",{className:"editor-title",children:[this.state.displayName,Object(k.jsx)("button",{type:"button",className:"expand-collapse-btn",onClick:function(){return t.setState({open:!t.state.open})},children:Object(k.jsx)(_.a,{icon:this.state.open?S.c:S.d})})]}),Object(k.jsx)(R.Controlled,{onBeforeChange:this.handleChange,value:this.props.value,className:"code-mirror-wrapper",options:{lineWrapping:!0,lint:!0,mode:this.props.language,theme:"material",lineNumbers:!0}})]})}}]),i}(r.Component),D=i(223),U=i(231),P=i(224),L=i(225),X=i(226),C=(i(155),i(124)),x=i(126),Q=i(127),j=i(13),M=i(71),$=i(61),F=i(128),G=i(9),H=i(129),B=i(103),z=i(51),V=i(3),q=i(8),Y=i(29),W=i(17),Z=i(10),K=function(){function t(e,i,n,r){Object(c.a)(this,t),this.contHP=0,this.contSP=0,this.contT=0,this.xPathHeap=[],this.xPathStack=[],this.funcionesUtilizadas=[],this.tabla=i,this.listaConsultas=e,this.xmlHeap=n,this.xmlStack=r,this.strTraduccion=""}return Object(l.a)(t,[{key:"getFuncionesUtilizadas",value:function(){var t=this,e="";return this.funcionesUtilizadas=this.funcionesUtilizadas.reverse(),this.funcionesUtilizadas.forEach((function(i){switch(i){case n.TRASLADARSIMBOLO:e+=t.getTrasladarSimbolo();break;case n.IMPRIMIRATRIBUTO:e+=t.getImprimirAtributo();break;case n.IMPRIMIRCONSULTA:e+=t.getImprimirConsulta();break;case n.IMPRIMIRETIQUETA:e+=t.getImprimirEtiqueta();break;case n.IMPRIMIRTEXTO:e+=t.getImprimirTexto();break;case n.BUSCARTEXTO:e+=t.getBuscarTexto()}})),e}},{key:"getDeclaraTempsXPATH",value:function(){var t="";if(this.contT>0){var e=0;for(t="double tx"+e,e++;e<this.contT;)t+=", tx"+e,e++;t+=";\n"}return t}},{key:"traducirXPath",value:function(){return this.traducir()}},{key:"traducir",value:function(){for(var t=0;t<this.listaConsultas.length;t++){var e=this.listaConsultas[t].listaNodos;this.strTraduccion+=this.traduccionMain(this.tabla,e,0)}return this.strTraduccion}},{key:"traduccionMain",value:function(t,e,i){for(var r=this,o="",s=function(i){var s=e[i];if(!s.isFromRoot()){var a=new W.Consulta(e,-1,-1).obtenerSalida(i,t,null,!1),c=Object(q.a)(a,2),l=c[0],u=(c[1],[]);u=u.concat(l);for(var h=i;h<e.length;h++){var f=e[h];o+=r.traducirNodo(f),r.buscarSimbolos(s,t).forEach((function(t){o+=r.traducirSimb(t)}))}o+=r.prueba(u,s,e,e.length-1,!1,!1)}switch(s.getTipo()){case Z.TipoNodo.IDENTIFIER:var g=s.getPredicado();if(void 0!=g){for(var m=0;m<t.tsimbolos.length;m++){var d=t.tsimbolos[m].valor;if(d.getNombre()===s.getNombre()){o+=r.traducirPredicado(g,d.valor);var p=new W.Consulta(e,-1,-1).obtenerConsultaPredicado(g,m,t,t,!1,s.getValor(),!1),T=Object(q.a)(p,3),b=T[0],E=(T[1],T[2]),I=[];I="string"===typeof b[0]?I.concat(E):I.concat(b),o+=r.prueba(I,s,e,e.length-1,!1,!1);break}}break}var v=r.buscarSimbolos(s,t);return{v:o+=r.prueba(v,s,e,i,!1,!1)};case Z.TipoNodo.ASTERISCO:return o+=r.traducirNodo(s),r.obtenerAsterisco(t).forEach((function(t){var s=t.valor;i+1==e.length?s.getTipo()!=V.a.ETIQUETA_UNIQUE&&(o+=r.traducirSimb(s.posicion),o+="\n\t/* IMPRIMIR ESTE NODO :2 */\n",o+="\ttx"+r.contT+" = XPStack[(int)SP];\n",o+="\tHP = tx"+r.contT+";\n",r.contT=r.contT+1,o+="\tSP = SP + 1;\n",o+="\t imprimirConsulta();\n",-1==r.funcionesUtilizadas.indexOf(n.IMPRIMIRCONSULTA)&&r.funcionesUtilizadas.push(n.IMPRIMIRCONSULTA),-1==r.funcionesUtilizadas.indexOf(n.IMPRIMIRETIQUETA)&&r.funcionesUtilizadas.push(n.IMPRIMIRETIQUETA),-1==r.funcionesUtilizadas.indexOf(n.IMPRIMIRATRIBUTO)&&r.funcionesUtilizadas.push(n.IMPRIMIRATRIBUTO),-1==r.funcionesUtilizadas.indexOf(n.IMPRIMIRTEXTO)&&r.funcionesUtilizadas.push(n.IMPRIMIRTEXTO)):s.getTipo()!=V.a.ETIQUETA_UNIQUE&&(o+=r.traducirSimb(s.posicion),o+=r.traduccionMain(s.valor,e,i+1))})),{v:o};case Z.TipoNodo.ATRIBUTO:return{v:o+=r.prueba(r.obtenerAtributos(t,s.getNombre(),s.isFromRoot()),s,e,i,!1,!0)};case Z.TipoNodo.DOT:var y=new W.Consulta(e,-1,-1).obtenerSalida(i,t,null,!1),A=Object(q.a)(y,2),O=A[0],N=(A[1],[]);return N=N.concat(O),{v:o+=r.prueba(N,s,e,e.length-1,!1,!1)};case Z.TipoNodo.DOTDOT:var R=new W.Consulta(e,-1,-1).obtenerSalida(i,t,null,!1),_=Object(q.a)(R,2),S=_[0],k=(_[1],[]);return k=k.concat(S),{v:o+=r.prueba(k,s,e,e.length-1,!1,!1)};case Z.TipoNodo.FUNCION:if(i+1==e.length)"text()"===s.getValor().toLowerCase()&&(o+="\n\t/* BUSCAR EL TEXTO DE ESTE NODO E IMPRIMIRLO. */\n",o+="\ttx"+r.contT+" = XPStack[(int)SP];\n",o+="\tHP = tx"+r.contT+";\n",r.contT=r.contT+1,o+="\tSP = SP + 1;\n",o+="\t buscarTexto();\n",-1==r.funcionesUtilizadas.indexOf(n.BUSCARTEXTO)&&r.funcionesUtilizadas.push(n.BUSCARTEXTO),-1==r.funcionesUtilizadas.indexOf(n.IMPRIMIRCONSULTA)&&r.funcionesUtilizadas.push(n.IMPRIMIRCONSULTA),-1==r.funcionesUtilizadas.indexOf(n.IMPRIMIRETIQUETA)&&r.funcionesUtilizadas.push(n.IMPRIMIRETIQUETA),-1==r.funcionesUtilizadas.indexOf(n.IMPRIMIRATRIBUTO)&&r.funcionesUtilizadas.push(n.IMPRIMIRATRIBUTO),-1==r.funcionesUtilizadas.indexOf(n.IMPRIMIRTEXTO)&&r.funcionesUtilizadas.push(n.IMPRIMIRTEXTO));return{v:o};case Z.TipoNodo.AXIS:var w=new W.Consulta(e,-1,-1).obtenerSalida(i,t,null,!1),D=Object(q.a)(w,2),U=D[0],P=(D[1],[]);P=P.concat(U),o+=r.prueba(P,s,e,e.length-1,!1,!1);break;case Z.TipoNodo.NODOERROR:return{v:o}}},a=i;a<e.length;a++){var c=s(a);if("object"===typeof c)return c.v}return o}},{key:"obtenerAtributos",value:function(t,e,i){var n=this,r=[];return t.tsimbolos.forEach((function(t){var o=t.valor;o.getTipo()!==V.a.ATRIBUTO||"*"!==e&&o.getNombre()!==e||r.push(o),i||o.getTipo()!==V.a.ETIQUETA||(r=r.concat(n.obtenerAtributos(o.valor,e,i)))})),r}},{key:"prueba",value:function(t,e,i,r,o,s){for(var a="",c=0;c<t.length;c++){a+=this.traducirNodo(e);var l=void 0;(l=o?t[c].valor:t[c]).getTipo()==V.a.ETIQUETA_UNIQUE?console.log("-- Unique --"):(a+=s?this.traducirSimb(l.posicion+1):this.traducirSimb(l.posicion),r+1==i.length?(a+="\n\t/* IMPRIMIR ESTE NODO :) */\n",a+="\ttx"+this.contT+" = XPStack[(int)SP];\n",a+="\tHP = tx"+this.contT+";\n",this.contT=this.contT+1,a+="\tSP = SP + 1;\n",a+="\t imprimirConsulta();\n",-1==this.funcionesUtilizadas.indexOf(n.IMPRIMIRCONSULTA)&&this.funcionesUtilizadas.push(n.IMPRIMIRCONSULTA),-1==this.funcionesUtilizadas.indexOf(n.IMPRIMIRETIQUETA)&&this.funcionesUtilizadas.push(n.IMPRIMIRETIQUETA),-1==this.funcionesUtilizadas.indexOf(n.IMPRIMIRATRIBUTO)&&this.funcionesUtilizadas.push(n.IMPRIMIRATRIBUTO),-1==this.funcionesUtilizadas.indexOf(n.IMPRIMIRTEXTO)&&this.funcionesUtilizadas.push(n.IMPRIMIRTEXTO)):a+=this.traduccionMain(l.valor,i,r+1))}return a}},{key:"obtenerAsterisco",value:function(t){var e=[];return t.tsimbolos.forEach((function(t){e.push(t)})),e}},{key:"traducirNombre",value:function(t){var e=this,i='\n\t /* NODO "'+t+'" EN STACK*/ \n';return t.split("").forEach((function(t){i=i+"\tXPStack[(int)SP] = "+t.charCodeAt(0)+"; \n\tSP = SP + 1; \n",e.xPathStack.push(t.charCodeAt(0)),e.contSP++})),i}},{key:"traducirNodo",value:function(t){var e=t.getNombre(),i=(t.getPredicado(),"");return i+=this.traducirNombre(e),i+="\t XPStack[(int)SP] = -1; \n",i+="\t SP = SP + 1; \n",this.xPathStack.push(-1),this.contSP++,i}},{key:"traducirSimb",value:function(t){var e="\t H = stack[(int)"+t+"]; \n";return e+="\t trasladarSimbolo();",-1===this.funcionesUtilizadas.indexOf(n.TRASLADARSIMBOLO)&&this.funcionesUtilizadas.push(n.TRASLADARSIMBOLO),e}},{key:"getTrasladarSimbolo",value:function(){var t="void trasladarSimbolo(){\n",e="tx"+this.contT;this.contT=this.contT+1,t+="\t"+e+" = HP;\n",t+="\t/*--- TX"+this.contT+" TIENE EL VALOR CON EL QUE FINALIZA EL AMBITO --- */ \n";var i="tx"+this.contT;this.contT=this.contT+1,t+="\t"+i+" = heap[(int)H];\n",t+="\tXPHeap[(int)HP] = heap[(int)H];\n",t+="\t HP = HP + 1;\n\t H = H+1;\n";var n="tx"+this.contT;return this.contT=this.contT+1,t+="\tL1:\n\t\t"+n+" = heap[(int)H];\n\t\tif("+n+" == "+i+") goto L2;\n\t\tXPHeap[(int)HP] = "+n+";\n",t+="\t\t HP = HP + 1;\n\t\t H = H+1;\n",t+="\t\tgoto L1;\n",t+="\tL2: \n\t\t/*--- Ya se completo el ambito en el heap del xpath ---*/\n\t\tXPHeap[(int)HP] = heap[(int)H];\n\t\t H = H + 1;\n \t\tHP = HP + 1;\n\t\tXPStack[(int)SP] = "+e+";\n",t+="\treturn;\n",t+="}\n"}},{key:"buscarSimbolos",value:function(t,e){for(var i=[],n=0;n<e.tsimbolos.length;n++){var r=e.tsimbolos[n].valor;r.getNombre()===t.getNombre()&&i.push(r),t.isFromRoot()||r.getTipo()===V.a.ETIQUETA&&i.concat(this.buscarSimbolos(t,r.valor))}return i}},{key:"getBuscarTexto",value:function(){var t="void buscarTexto(){\n",e="tx"+this.contT;this.contT=this.contT+1;var i="tx"+this.contT;t+="\t\t"+i+" = 0;\n",this.contT=this.contT+1,t+="\t"+e+" = XPHeap[(int)HP];\n",t+="\tHP = HP + 1;\n\t//Buscar en este nodo, donde hay texto.\n";var n="tx"+this.contT;return this.contT=this.contT+1,t+="\tL1:\n\t\t"+n+" = XPHeap[(int)HP];\n\t\tif("+n+" == -3) goto L7;\n\t\tHP = HP + 1;\n\t\tgoto L2;\n",t+="\tL2:\n\t\t//ver si es atributo\n\t\tif("+n+" != -2) goto L6;\n\t\t//Es atributo, ignorar su cadena (-3) y luego continuar\n\t\tHP = HP + 1;\n\t\t"+n+" = XPHeap[(int)HP];\n\t\tgoto L3;\n",t+="\tL3:\n\t\t//Ignorar dos veces -3 (texto inicio-final)\n\t\tif("+n+" == -3) goto L4;\n\t\tHP = HP + 1;\n\t\t"+n+" = XPHeap[(int)HP];\n\t\tgoto L3;\n",t+="\tL4:\n\t\tif("+i+" == 1) goto L5;\n\t\t"+i+" = 1;\n\t\tHP = HP + 1;\n\t\t"+n+" = XPHeap[(int)HP];\n\t\tgoto L3;\n",t+="\tL5:\n\t\tHP = HP + 1;\n\t\t"+i+" = 0;\n\t\tgoto L1;\n",t+="\tL6:\n\t\t//Ver si no es finalizacion de entorno\n\t\tif("+n+" <= "+e+") goto L8;\n\t\tgoto L1;\n",t+="\tL7:\n\t\t//Se encontro donde inicia el texto, imprimirlo.\n\t\timprimirConsulta();\n",t+="\tL8:\n\treturn;\n",t+="}\n"}},{key:"getImprimirConsulta",value:function(){var t="void imprimirConsulta(){\n";t+="\t/* --- tx"+this.contT+" TIENE EL VALOR CON EL QUE FINALIZA LA CONSULTA -- */\n";var e="tx"+this.contT;return this.contT=this.contT+1,t+="\t"+e+" = XPHeap[(int)HP];\n",t+="\tL1:\n",t+="\t\t /* -- Ver si es etiqueta -- */\n",t+="\t\t if("+e+" > -5) goto L2;\n",t+="\t\timprimirEtiqueta();\n",t+="\tL2:\n",t+="\t\t /* -- Ver si es atributo(-2) o texto(-3) -- */\n",t+="\t\tif("+e+" == -2) goto L3;\n",t+="\t\tif("+e+" == -3) goto L4;\n",t+="\t\tgoto L5;\n",t+="\tL3: \n\t\tHP = HP + 2;\n\t\timprimirAtributo();\n\t\tgoto L5;\n",t+="\tL4: \n\t\tHP = HP + 1;\n\t\timprimirTexto();\n\t\tgoto L5;\n",t+='\tL5: \n\tprintf("%c", (char) 10);\n\treturn;\n}\n'}},{key:"getImprimirEtiqueta",value:function(){var t="void imprimirEtiqueta() {\n",e="tx"+this.contT;this.contT=this.contT+1,t+="\t"+e+" = XPHeap[(int)HP];\n",t+="\tHP = HP + 1;\n";var i="tx"+this.contT;this.contT=this.contT+1,t+="\t"+i+" = 0;\n";var n="tx"+this.contT;this.contT=this.contT+1,t+="\t"+n+" = HP;\n",t+='\tprintf("%c", (int) 60); //Ascii <\n';var r="tx"+this.contT;this.contT=this.contT+1,t+="\tL1:\n\t\t"+r+" = XPHeap[(int)HP];\n\t\tif("+r+" == "+e+") goto L2;\n\t\tgoto L3;\n",t+="\tL3:\n\t\tif("+r+' != -2) goto L4;\n\t\tHP = HP + 1;\n\t\tprintf("%c", (char) 32); // Espacio\n\t\timprimirAtributo();\n\t\tHP = HP + 1;\n\t\tgoto L1;\n',t+="\tL4:\n\t\t//Ver si es texto\n\t\tif("+r+' != -3) goto L5;\n\t\tprintf("%c", (char) 62); //Ascii >\n\t\tHP = HP + 1;\n\t\t'+i+" = 1;\n\t\timprimirTexto();\n\t\tgoto L1;\n",t+="\tL5:\n\t\tif("+r+" != -1) goto L6;\n\t\tHP = HP + 1;\n\t\tgoto L1;\n",t+="\tL6:\n\t\t//Revisar si hay otra etiqueta\n\t\tif("+r+" < "+e+') goto L7;\n\t\t//Aun no, solo imprimir caracter.\n\t\tprintf("%c", (char) '+r+");\n\t\tHP = HP + 1;\n\t\tgoto L1;\n";var o="tx"+this.contT;return this.contT=this.contT+1,t+="\tL7:\n\t\tif("+i+" == 0) goto L10;\n\t\tXPStack[(int)SP] = "+e+";\n\t\tSP = SP + 1;\n\t\tXPStack[(int)SP] = "+n+";\n\t\tSP = SP + 1;\n\t\timprimirEtiqueta();\n\t\t"+e+" = XPStack[(int)SP];\n\t\t"+o+" = SP + 1;\n\t\t"+i+" = 1;\n\t\t"+n+" = XPStack[(int)"+o+"];\n\t\tHP = HP + 1;\n\t\tgoto L1;\n",t+='\tL10:\n\t\tprintf("%c", (char) 62); //Ascii >\n\t\t'+i+" = 1;\n\t\tgoto L7;\n",t+="\tL2:\n\t\t//EScribir etiqueta de cierre.\n\t\tif("+i+'== 0) goto L11;\n\t\tprintf("%c", (char) 60); //Ascii <\n\t\tprintf("%c", (char) 47); //Ascii /\n\t\tgoto L8;\n',t+='\tL11:\n\t\tprintf("%c", (char) 62); //Ascii >\n\t\t'+i+" = 1;\n\t\tgoto L2;\n",t+="\tL8:\n\t\t"+r+" = XPHeap[(int)"+n+"];\n\t\tif("+r+' == -1) goto L9;\n\t\tprintf("%c", (char) '+r+");\n\t\t"+n+" = "+n+" + 1;\n\t\tgoto L8;\n",t+='\tL9:\n\t\tprintf("%c", (char) 62); //Ascii >\n\tSP = SP - 2;\n\treturn;\n',t+="}\n"}},{key:"getImprimirAtributo",value:function(){var t="void imprimirAtributo(){\n",e="tx"+this.contT;return this.contT=this.contT+1,t+="\tL1:\n\t\t"+e+" = XPHeap[(int)HP];\n\t\tif("+e+' == -2) goto L2;\n\t\tprintf("%c", (char)'+e+");\n\t\tHP = HP + 1;\n\t\tgoto L1;\n",t+='\tL2:\n\t\tprintf("%c", (char) 32); // Espacio\n\t\tprintf("%c", (char)61); // = \n\t\tprintf("%c", (char) 32); // Espacio\n\t\tHP = HP + 2;\n',t+="\tL3:\n",t+="\t\t"+e+" = XPHeap[(int)HP];\n",t+="\t\tif("+e+" == -3) goto L4;\n",t+='\t\tprintf("%c", (char)'+e+");\n",t+="\t\tHP = HP + 1;\n",t+="\t\tgoto L3;\n",t+='\tL4:\n\t\tprintf("%c", (char) 32);// Espacio\n\treturn;\n',t+="}\n"}},{key:"getImprimirTexto",value:function(){var t="void imprimirTexto(){\n";t+="\t//Texto termina con -3\n";var e="tx"+this.contT;return this.contT=this.contT+1,t+="\tL1:\n\t\t"+e+" = XPHeap[(int)HP];\n\t\tif("+e+' == -3) goto L2;\n\t\tprintf("%c", (char)'+e+");\n\t\tHP = HP + 1;\n\t\tgoto L1;\n\tL2:\n\t\tHP = HP + 1;\n\treturn;\n",t+="}\n"}},{key:"traducirPredicado",value:function(t,e){var i=t.get3Dir(e),n="\n\t/*-- TRADUCIENDO PREDICADO -- */\n";if(i instanceof Array){if("idk"===this.obtenerSigno(i[1]))return"";var r=this.continuarTrad(i),o=Object(q.a)(r,2),s=o[0];o[1];n+=s}else{if(isNaN(i))return"";var a="tx"+this.contT;this.contT++,n+="\t"+a+" = "+i+";\n"}return n}},{key:"continuarTrad",value:function(t){var e,i="",n=t[0],r=t[1],o=t[2],s=null;if(n instanceof Array){var a,c=this.continuarTrad(n),l=Object(q.a)(c,2);a=l[0],e=l[1],i+=a}else e=n;if(o instanceof Array){var u,h=this.continuarTrad(o),f=Object(q.a)(h,2);u=f[0],s=f[1],i+=u}else s=o;var g="tx"+this.contT;return this.contT++,i+="\t"+g+" = "+e,i+=this.obtenerSigno(r),[i+=s+";\n",g]}},{key:"obtenerSigno",value:function(t){switch(t){case Y.TipoOperacion.SUMA:return"+";case Y.TipoOperacion.RESTA:return"-";case Y.TipoOperacion.DIVISION:return"/";case Y.TipoOperacion.MOD:return"%";case Y.TipoOperacion.MULTIPLICACION:return"*";default:return"idk"}}}]),t}();!function(t){t[t.PRINTSTRING=0]="PRINTSTRING",t[t.COMPARESTRINGS=1]="COMPARESTRINGS",t[t.TRASLADARSIMBOLO=2]="TRASLADARSIMBOLO",t[t.IMPRIMIRCONSULTA=3]="IMPRIMIRCONSULTA",t[t.IMPRIMIRETIQUETA=4]="IMPRIMIRETIQUETA",t[t.IMPRIMIRTEXTO=5]="IMPRIMIRTEXTO",t[t.IMPRIMIRATRIBUTO=6]="IMPRIMIRATRIBUTO",t[t.BUSCARTEXTO=7]="BUSCARTEXTO"}(n||(n={}));var J,tt=i(21),et=function(){function t(e,i,n){Object(c.a)(this,t),this.contS=0,this.contH=0,this.indice=0,this.heap=new Array,this.stack=new Array,this.listaConsultas=e,this.instruccionXQuery=i,this.strXPathTraduccion="",this.strTraduccion="",this.xqEntorno=n,this.strXQueryTraduccion=""}return Object(l.a)(t,[{key:"getHeap",value:function(){return this.heap}},{key:"getStack",value:function(){return this.stack}},{key:"getContS",value:function(){return this.contS}},{key:"getContH",value:function(){return this.contS}},{key:"getStrTraduccion",value:function(){return this.strTraduccion}},{key:"getEncabezado",value:function(){return"/*------HEADER------*/ \n#include <stdio.h> \n#include <math.h> \n\ndouble heap[30101999]; \ndouble stack[30101999]; \ndouble XPStack[30101999];\ndouble XPHeap[30101999];\ndouble XQStack[30101999];\ndouble XQHeap[30101999];\ndouble HP;\ndouble SP;\ndouble S; \ndouble H; \ndouble HQ; \ndouble SQ; \n"}},{key:"getMain",value:function(t){return"/*------MAIN------*/ \nint main() { \n    S = 0; \n    H = 0; \n\n/********* INICIA TRADUCCION XML **********/ \n"+t+"\n\n/********* TERMINA TRADUCCION XML **********/ \n\n/********* INICIA TRADUCCION XPATH **********/ \n\t HP = 0;\n\t SP = 0;\n"+this.strXPathTraduccion+"\n\n/********* TERMINA TRADUCCION XPATH **********/ \n\n/********* INICIA TRADUCCION XQUERY **********/ \n\t HQ = 0;\n\t SQ = 0;\n"+this.strXQueryTraduccion+"\n\n/********* TERMINA TRADUCCION XQUERY **********/ \n    return 0; \n} \n"}},{key:"getCodeC",value:function(){var t;if(t=this.getEncabezado(),t+=this.getDeclaraTemps(),this.listaConsultas.length>0){console.log("lc: ",this.listaConsultas);var e=new K(this.listaConsultas,Tt.global,this.heap,this.stack);this.strXPathTraduccion=e.traducirXPath();var i=e.getFuncionesUtilizadas();t+=e.getDeclaraTempsXPATH()+"\n",t+=i,console.log("cod3",t)}if(null!=this.instruccionXQuery){var n=new K(this.listaConsultas,Tt.global,this.heap,this.stack),r=new tt.b(this.instruccionXQuery,this.xqEntorno,Tt.global,n);this.strXQueryTraduccion=r.iniciarTraduccion();var o=r.getFuncionesUtilizadas();t+=r.getDeclaraTempsXQuery()+"\n",t+=o}return t+=this.getMain(this.strTraduccion)}},{key:"getDeclaraTemps",value:function(){for(var t="double ",e=0;e<this.stack.length;e++)t=t+"t"+e.toString(),t+=e==this.stack.length-1?";":", ",e%100==0&&(t+="\n");return t+="\n",t+="\n"}},{key:"traducirXML",value:function(){return console.log("/* Inicio Traduccion */"),this.traducir(Tt.global,-5),this.strTraduccion=this.getCodeC(),console.log("/* Fin Traduccion */"),this.strTraduccion}},{key:"traducir",value:function(t,e){var i=this;t.tsimbolos.forEach((function(t){null===t.valor.padre&&void 0!=t.valor.padre||(t.valor.valor instanceof j.a?(i.strTraduccion=i.strTraduccion+"\n /*--- SE AGREGA NUEVO NODO ---*/",t.valor.setPosicion(i.contS),i.strTraduccion=i.strTraduccion+'\n /*--- EL AMBITO DE "'+t.valor.nombre+'" TERMINA CON: '+e+" ---*/",i.strTraduccion=i.strTraduccion+"\n\t heap[(int)H] = "+e+" ; \n",i.strTraduccion=i.strTraduccion+"\t H = H + 1; \n",i.heap.push(e),i.contH++,i.strTraduccion=i.strTraduccion+i.getIDAsignacionHeap(t.valor.nombre.toString(),"ETIQUETA"),i.traducir(t.valor.valor,e-5),i.strTraduccion=i.strTraduccion+'\n /*--- FINALIZACION DE NODO "'+t.valor.nombre+'" ---*/',i.strTraduccion=i.strTraduccion+"\n\t heap[(int)H] = "+e+" ; \n",i.strTraduccion=i.strTraduccion+"\t H = H + 1; \n",i.heap.push(e),i.contH++):!1!==t.valor.valor&&!1!==t.valor.valor&&(i.strTraduccion=i.strTraduccion+"\n /*--- SE AGREGA NUEVO SIMBOLO ---*/",t.valor.setPosicion(i.contS),t.valor.getTipo()===V.a.ATRIBUTO&&(i.strTraduccion=i.strTraduccion+i.getIDAsignacionHeap(t.valor.nombre.toString(),"ATRIBUTO")),i.strTraduccion=i.strTraduccion+i.getVALAsignacionHeap(t.valor.valor.toString())))}))}},{key:"getIDAsignacionHeap",value:function(t,e){var i=this,n="\n\t /* "+e+' "'+t+'" EN HEAP*/ \n';n=n+"\t t"+this.contS+" = H-1;\n";var r=-1;return"ATRIBUTO"===e&&(n=n+"\t heap[(int)H] = "+(r=-2)+"; \n\t H = H + 1; \n",this.heap.push(r),this.contH++),t.split("").forEach((function(t){n=n+"\t heap[(int)H] = "+t.charCodeAt(0)+"; \n\t H = H + 1; \n",i.heap.push(t.charCodeAt(0)),i.contH++})),n=n+"\t heap[(int)H] = "+r+"; \n\t H = H + 1; \n",this.heap.push(r),this.contH++,n=n+"\t stack[(int)"+this.contS+"] = t"+this.contS+"; \n",this.stack.push(this.contS),this.contS++,n}},{key:"getVALAsignacionHeap",value:function(t){var e=this,i='\n\t /* VALOR "'+t+'" EN HEAP*/ \n';return i=i+"\t t"+this.contS+" = H;\n",i+="\t heap[(int)H] = -3; \n\t H = H + 1; \n",this.heap.push(-3),this.contH++,t.split("").forEach((function(t){i=i+"\t heap[(int)H] = "+t.charCodeAt(0)+"; \n\t H = H + 1; \n",e.heap.push(t.charCodeAt(0)),e.contH++})),i+="\t heap[(int)H] = -3; \n\t H = H + 1; \n",this.heap.push(-3),this.contH++,i=i+"\t stack[(int)"+this.contS+"] = t"+this.contS+"; \n",this.stack.push(this.contS),this.contS++,i}}]),t}(),it=i(130),nt=function(){function t(e,i,n,r,o){Object(c.a)(this,t),this.fila=r,this.columna=o,this.tipo=e,this.codigoAntes=i,this.codigoAhora=n}return Object(l.a)(t,[{key:"getFila",value:function(){return this.fila}},{key:"getColumna",value:function(){return this.columna}},{key:"getCodigoAntes",value:function(){return this.codigoAntes}},{key:"getCodigoAhora",value:function(){return this.codigoAhora}},{key:"tipoReglaToString",value:function(){switch(this.tipo){case J.REGLA1:return"Regla 1";case J.REGLA2:return"Regla 2";case J.REGLA3:return"Regla 3";case J.REGLA4:return"Regla 4";case J.REGLA5:return"Regla 5";case J.REGLA6:return"Regla 6";case J.REGLA7:return"Regla 7";case J.REGLA8:return"Regla 8";case J.REGLA9:return"Regla 9";case J.REGLA10:return"Regla 10";case J.REGLA10:return"Regla 11";case J.REGLA10:return"Regla 12";case J.REGLA10:return"Regla 13";case J.REGLA10:return"Regla 14";case J.REGLA10:return"Regla 15";case J.REGLA10:return"Regla 16";default:return"Regla x"}}}]),t}();!function(t){t[t.REGLA1=0]="REGLA1",t[t.REGLA2=1]="REGLA2",t[t.REGLA3=2]="REGLA3",t[t.REGLA4=3]="REGLA4",t[t.REGLA5=4]="REGLA5",t[t.REGLA6=5]="REGLA6",t[t.REGLA7=6]="REGLA7",t[t.REGLA8=7]="REGLA8",t[t.REGLA9=8]="REGLA9",t[t.REGLA10=9]="REGLA10",t[t.REGLA11=10]="REGLA11",t[t.REGLA12=11]="REGLA12",t[t.REGLA13=12]="REGLA13",t[t.REGLA14=13]="REGLA14",t[t.REGLA15=14]="REGLA15",t[t.REGLA16=15]="REGLA16"}(J||(J={}));var rt=i(37),ot=i(20),st=i(16),at=i(35),ct=i(52),lt=i(88),ut=i(74),ht=i(27),ft=function(){function t(e,i,n,r){Object(c.a)(this,t),this.codigo3D=i,this.tipo=e,this.fila=n,this.columna=r,this.eliminada=!1,this.optimizada=!1}return Object(l.a)(t,[{key:"isOptimizada",value:function(){return this.optimizada}},{key:"setOptimizada",value:function(t){this.optimizada=t}},{key:"isEliminada",value:function(){return this.eliminada}},{key:"setEliminada",value:function(t){this.eliminada=t}},{key:"getCodigo3D",value:function(){return this.codigo3D}},{key:"setCodigo3D",value:function(t){this.codigo3D=t}},{key:"getTipoInstruccion",value:function(){return this.tipo}}]),t}(),gt=function(){function t(){Object(c.a)(this,t),this.reporte=[]}return Object(l.a)(t,[{key:"aplicar",value:function(t,e){return this.reporte=e,t=this.regla1(t),t=this.regla2(t),t=this.regla3_y_regla4(t),t=this.regla5(t),t=this.reglasAlgebraicas(t)}},{key:"instruccionesToString",value:function(t){var e="";return t.forEach((function(t){e+=t.getCodigo3D()+"\n"})),e}},{key:"agregarReporte",value:function(t,e,i){var n,r,o=this.instruccionesToString(e),s=this.instruccionesToString(t);t.length>0?(n=t[0].fila,r=t[0].columna):(n=e[0].fila,r=e[0].columna);var a=new nt(i,o,s,n,r);this.reporte.push(a)}},{key:"regla1",value:function(t){console.log("--------- Aplicando REGLA 1 ------------- ");var e=0,i=[],n=[],r=[];if(null!=t)for(var o=!1,s=0;s<t.length;s++){var a=t[s];a.getTipoInstruccion()!==ht.TipoInstruccion3D.GOTO?a.getTipoInstruccion()!==ht.TipoInstruccion3D.ETIQUETA?o?n.push(a):a.isOptimizada()||(a.setOptimizada(!0),i.push(a)):(o=!1,r.push(a),n.length>1&&this.agregarReporte(r,n,J.REGLA1),r=this.marcarAsOptimizadas(r,!0),i=i.concat(r),e+=n.length,r=[],n=[]):(o=!0,r.push(a))}return console.log("Se eliminaron :",e+" instrucciones"),console.log("-------------------------------------------"),this.marcarAsOptimizadas(i,!1)}},{key:"regla2",value:function(t){console.log("--------- Aplicando REGLA 2 ------------- ");var e=0,i=[],n="";if(null!=t)for(var r=[],o=[],s=!1,a=0;a<t.length;a++){var c=t[a];if(c instanceof ct.Etiqueta3D&&(n=c.identificador),c instanceof ut.If3D){var l=void 0;if(l=c,a+1<t.length){var u=t[a+1];if(u instanceof lt.Goto3D){var h=this.crearIfAnterior(l);r.push(h),r.push(u);var f=u.identificador;l.negarCondicion();var g=l.gotoEtiqueta;l.gotoEtiqueta=u;var m=g.identificador,d=void 0;d=this.getCodigoEtiqueta(m,t,0,!0),this.cambiarReferencias(m,n,t,0);var p;p=this.getCodigoEtiqueta(f,t,0,!0),r=r.concat(d[0]);var T=new ft(ht.TipoInstruccion3D.REPRESENTACION,"[Instrucciones_"+m+"]",-1,-1);r.push(T);var b=new ft(ht.TipoInstruccion3D.REPRESENTACION,"[Instrucciones_"+f+"]",-1,-1);(r=r.concat(p[0])).push(b),s=!0,o.push(l);var E=[];(E=E.concat(o)).push(T),E.push(p[0]),E.push(b),d.shift(),o=(o=o.concat(d)).concat(p),o=this.marcarAsOptimizadas(o,!0),i=i.concat(o),this.agregarReporte(E,r,J.REGLA2),o=[],e+=r.length,r=[]}}}s?s=!1:c.isEliminada()||c.isOptimizada()||(c.setOptimizada(!0),i.push(c))}return console.log("Se eliminaron :",e+" instrucciones"),console.log("-------------------------------------------"),this.marcarAsOptimizadas(i,!1)}},{key:"regla3_y_regla4",value:function(t){console.log("--------- Aplicando REGLA 3 y REGLA 4 ------------- ");for(var e=[],i=[],n=[],r=!1,o=0;o<t.length;o++){var s=t[o];if(s instanceof ut.If3D){var a=s.condicion;if(a instanceof ot.Operacion3D){var c=a.op_izq,l=a.op_der;if(this.sonConstantes(c,l)){var u=a.getValorRelacional(),h=s.gotoEtiqueta,f=void 0,g=null;o+1<t.length&&t[o+1]instanceof ct.Etiqueta3D&&(f=t[o+1],r=!0,u?(i.push(h),g=J.REGLA3):(i.push(f),g=J.REGLA4),n.push(s),n.push(f),this.agregarReporte(i,n,g),i=this.marcarAsOptimizadas(i,!0),e=e.concat(i),n=[],i=[])}}}r?r=!1:s.isOptimizada()||(s.setOptimizada(!0),e.push(s))}return console.log("Se eliminaron :","0 instrucciones"),console.log("-------------------------------------------"),this.marcarAsOptimizadas(e,!1)}},{key:"regla5",value:function(t){console.log("--------- Aplicando REGLA 5------------- ");for(var e=0,i=[],n=[],r=[],o=!1,s=0;s<t.length;s++){var a=t[s];if(a instanceof at.Asignacion3D){var c=a.expresion;if(c instanceof st.Primitiva3D&&c.getTipoPrim3D()===st.TipoPrim3D.IDENTIFIER){for(var l=a.identificador,u=c.getValor(),h=s+1,f=void 0,g=[];h<t.length;){if((f=t[h])instanceof at.Asignacion3D){if(f.identificador==l)break;var m=f.expresion;if(m instanceof st.Primitiva3D&&m.getTipoPrim3D()===st.TipoPrim3D.IDENTIFIER&&f.identificador==u&&m.getValor()==l){o=!0,r.push(f),n.push(a),n=n.concat(g),this.agregarReporte(n,r,J.REGLA5),n=this.marcarAsOptimizadas(n,!0),i=i.concat(n),e+=r.length,r=[],n=[];break}}else if(f instanceof ct.Etiqueta3D)break;g.push(f),h+=1}o&&(s=h)}}o?o=!1:a.isOptimizada()||(a.setOptimizada(!0),i.push(a))}return console.log("Se eliminaron :",e+" instrucciones"),console.log("-------------------------------------------"),this.marcarAsOptimizadas(i,!1)}},{key:"reglasAlgebraicas",value:function(t){console.log("--------- Aplicando REGLAS SIMPLIFICACION ALGEBRAICA  ------------- ");for(var e=0,i=[],n=[],r=[],o=!1,s=0;s<t.length;s++){var a=t[s];if(a instanceof at.Asignacion3D){var c=a.expresion;if(c instanceof ot.Operacion3D){var l=c.op_izq,u=c.op_der;if(null!=u)if(l.getTipoPrim3D()===st.TipoPrim3D.IDENTIFIER){if(l.getValor()===a.identificador){if(0==u.getValor()){var h=void 0;if(c.getTipoOperacion()===ot.TipoOperacion3D.SUMA)n.push(a),h=J.REGLA6,this.agregarReporte(r,n,h),e+=n.length,n=[],r=[],o=!0;else if(c.getTipoOperacion()===ot.TipoOperacion3D.RESTA)n.push(a),h=J.REGLA7,this.agregarReporte(r,n,h),e+=n.length,n=[],r=[],o=!0;else if(c.getTipoOperacion()===ot.TipoOperacion3D.MULTIPLICACION){n.push(a);var f=new st.Primitiva3D(rt.TipoExpresion3D.PRIMITIVA,st.TipoPrim3D.INTEGER,0,"0",l.fila,l.columna),g=new at.Asignacion3D(ht.TipoInstruccion3D.ASIGNORMAL,a.identificador,f,"",a.fila,a.columna);r.push(g),h=J.REGLA15,this.agregarReporte(r,n,h),e+=n.length,i=i.concat(r),n=[],r=[],o=!0}}else if(1===u.getValor()){var m=void 0;c.getTipoOperacion()===ot.TipoOperacion3D.MULTIPLICACION?(n.push(a),m=J.REGLA8,this.agregarReporte(r,n,m),e+=n.length,n=[],r=[],o=!0):c.getTipoOperacion()===ot.TipoOperacion3D.DIVISION&&(n.push(a),m=J.REGLA9,this.agregarReporte(r,n,m),e+=n.length,n=[],r=[],o=!0)}}else if(0===u.getValor()){var d=void 0;if(c.getTipoOperacion()===ot.TipoOperacion3D.SUMA){n.push(a);var p=new st.Primitiva3D(rt.TipoExpresion3D.PRIMITIVA,st.TipoPrim3D.IDENTIFIER,l.getValor(),l.getCodigo3D(),l.fila,l.columna),T=new at.Asignacion3D(ht.TipoInstruccion3D.ASIGNORMAL,a.identificador,p,"",a.fila,a.columna);r.push(T),d=J.REGLA10,this.agregarReporte(r,n,d),e+=n.length,i=i.concat(r),n=[],r=[],o=!0}else if(c.getTipoOperacion()===ot.TipoOperacion3D.RESTA){n.push(a);var b=new st.Primitiva3D(rt.TipoExpresion3D.PRIMITIVA,st.TipoPrim3D.IDENTIFIER,l.getValor(),l.getCodigo3D(),l.fila,l.columna),E=new at.Asignacion3D(ht.TipoInstruccion3D.ASIGNORMAL,a.identificador,b,"",a.fila,a.columna);r.push(E),d=J.REGLA11,this.agregarReporte(r,n,d),e+=n.length,i=i.concat(r),n=[],r=[],o=!0}else if(c.getTipoOperacion()===ot.TipoOperacion3D.MULTIPLICACION){n.push(a);var I=new st.Primitiva3D(rt.TipoExpresion3D.PRIMITIVA,st.TipoPrim3D.INTEGER,0,"0",l.fila,l.columna),v=new at.Asignacion3D(ht.TipoInstruccion3D.ASIGNORMAL,a.identificador,I,"",a.fila,a.columna);r.push(v),d=J.REGLA15,this.agregarReporte(r,n,d),e+=n.length,i=i.concat(r),n=[],r=[],o=!0}}else if(1===u.getValor()){var y=void 0;if(c.getTipoOperacion()===ot.TipoOperacion3D.MULTIPLICACION){n.push(a);var A=new st.Primitiva3D(rt.TipoExpresion3D.PRIMITIVA,st.TipoPrim3D.IDENTIFIER,l.getValor(),l.getCodigo3D(),l.fila,l.columna),O=new at.Asignacion3D(ht.TipoInstruccion3D.ASIGNORMAL,a.identificador,A,"",a.fila,a.columna);r.push(O),y=J.REGLA12,this.agregarReporte(r,n,y),e+=n.length,i=i.concat(r),n=[],r=[],o=!0}else if(c.getTipoOperacion()===ot.TipoOperacion3D.DIVISION){n.push(a);var N=new st.Primitiva3D(rt.TipoExpresion3D.PRIMITIVA,st.TipoPrim3D.IDENTIFIER,l.getValor(),l.getCodigo3D(),l.fila,l.columna),R=new at.Asignacion3D(ht.TipoInstruccion3D.ASIGNORMAL,a.identificador,N,"",a.fila,a.columna);r.push(R),y=J.REGLA13,this.agregarReporte(r,n,y),e+=n.length,i=i.concat(r),n=[],r=[],o=!0}}else if(2===u.getValor()){var _=void 0;if(c.getTipoOperacion()===ot.TipoOperacion3D.MULTIPLICACION){n.push(a);var S=new ot.Operacion3D(rt.TipoExpresion3D.OPERACION,ot.TipoOperacion3D.SUMA,l,l,"",l.fila,l.columna),k=new at.Asignacion3D(ht.TipoInstruccion3D.ASIGNORMAL,a.identificador,S,"",a.fila,a.columna);r.push(k),_=J.REGLA14,this.agregarReporte(r,n,_),e+=n.length,i=i.concat(r),n=[],r=[],o=!0}}}else if(l.getTipoPrim3D()===st.TipoPrim3D.INTEGER&&0===l.getValor()&&c.getTipoOperacion()===ot.TipoOperacion3D.DIVISION){var w=void 0;if(u.getTipoPrim3D()===st.TipoPrim3D.IDENTIFIER){n.push(a);var D=new st.Primitiva3D(rt.TipoExpresion3D.PRIMITIVA,st.TipoPrim3D.INTEGER,0,"0",l.fila,l.columna),U=new at.Asignacion3D(ht.TipoInstruccion3D.ASIGNORMAL,a.identificador,D,"",a.fila,a.columna);r.push(U),w=J.REGLA15,this.agregarReporte(r,n,w),e+=n.length,i=i.concat(r),n=[],r=[],o=!0}}}}o?o=!1:i.push(a)}return console.log("Se eliminaron :",e+" instrucciones"),console.log("-------------------------------------------"),console.log("MY INST ARE: ",i),i}},{key:"cambiarReferencias",value:function(t,e,i,n){for(;n<i.length;){var r=i[n];r instanceof lt.Goto3D&&r.getReferencia()===t&&r.changeReferencia(e),n+=1}}},{key:"marcarAsOptimizadas",value:function(t,e){var i=[];return t.forEach((function(t){t.setOptimizada(e),i.push(t)})),console.log("RETURNING: ",i),i}},{key:"getCodigoEtiqueta",value:function(t,e,i,n){for(var r=[],o=!1;i<e.length;){var s=e[i];if(o){if(s instanceof ct.Etiqueta3D)break;r.push(s),s.setEliminada(!0)}s instanceof ct.Etiqueta3D&&s.identificador===t&&(n&&(s.setEliminada(!0),r.push(s)),o=!0),i+=1}return r}},{key:"crearIfAnterior",value:function(t){var e=Object.create(t.condicion);return new ut.If3D(ht.TipoInstruccion3D.IF,e,t.gotoEtiqueta,t.codigo3D,t.fila,t.columna)}},{key:"sonConstantes",value:function(t,e){return t.getTipoPrim3D()!=st.TipoPrim3D.IDENTIFIER&&(null==e||e.getTipoPrim3D()!=st.TipoPrim3D.IDENTIFIER)}}]),t}(),mt=i(101),dt=i(100),pt=i(18),Tt=new(function(){function t(){return Object(c.a)(this,t),this.global=new j.a("global",null,null),this.xqGlobal=new j.a("XQGlobal",null,null),G.default.limpiar(),this.indice=0,this.reporteOptimiza=[],this.consultas=[],this.xPathEntry="",this.xQueryEntry="",this.instrucciones=null,"object"===typeof t._instance?t._instance:(t._instance=this,this)}return Object(l.a)(t,[{key:"iniciarVariables",value:function(){this.global=new j.a("global",null,null),this.xqGlobal=new j.a("XQGlobal",null,null),G.default.limpiar()}},{key:"limpiarOptimizacion",value:function(){this.reporteOptimiza=[]}},{key:"optimizacion",value:function(t){var e=this,i=it.parse(t),n="",r=new gt;return i.forEach((function(t){t.getCodigo3Dir()+"\n",(t instanceof dt.Main||t instanceof mt.Metodo)&&(t.listaInstrucciones=r.aplicar(t.listaInstrucciones,e.reporteOptimiza)),n+=t.getCodigo3Dir()+"\n"})),console.log("REPORTE: ",this.reporteOptimiza),n}},{key:"xmlDescendente",value:function(t){var e=this;console.log("---GRAMATICA DESCENDENTE---"),z.cstXmlDesc.id=0,F.parse(t).forEach((function(t){(t instanceof M.Objeto||t instanceof $.Atributo)&&t.ejecutar(e.global)})),console.log(this.global),console.log(G.default)}},{key:"xmlAscendente",value:function(t){var e=this;console.log("---GRAMATICA ASCENDENTE---"),z.cstXmlAsc.id=0;var i=x.parse(t);this.global=new j.a("global",null,null),null!==i&&i.forEach((function(t){console.log("Elemento: "+t),(t instanceof M.Objeto||t instanceof $.Atributo)&&t.ejecutar(e.global)})),console.log(this.global),console.log(G.default)}},{key:"XPathAscendente",value:function(t){var e=this;console.log("-- XPATH ASCENDENTE -- "),this.consultas=H.parse(t),this.xPathEntry=t;var i="";return console.log("---------------------------------------"),this.consultas.forEach((function(t){console.log("CONSULTA: "+t.ToString());var n=t.ejecutar(e.global);i+=t.simbolosToString(n)+"\n",console.log("-----------RESULTADO----------------"),console.log(n),console.log("StringResult:"),console.log(t.simbolosToString(n)),console.log("---------------FIN---------------------")})),i}},{key:"XPathDescendente",value:function(t){var e=this;console.log("-- XPATH DESCENDENTE -- "),this.consultas=B.parse(t);var i="";return console.log("---------------------------------------"),this.consultas.forEach((function(t){console.log("CONSULTA: "+t.ToString());var n=t.ejecutar(e.global);i+=t.simbolosToString(n)+"\n",console.log("-----------RESULTADO----------------"),console.log(n),console.log("TOSTRING:"),console.log(t.simbolosToString(n)),console.log("---------------FIN---------------------")})),i}},{key:"XQueryAscendente",value:function(t){console.log("---- XQUERY ASCENDENTE ----- "),this.xqGlobal=new j.a("XQGlobal",null,null),this.instrucciones=Q.parse(t),console.log("instrucciones: ",this.instrucciones),this.xQueryEntry=t;var e="";return null!=this.instrucciones&&(e+=this.instrucciones.ejecutar(this.xqGlobal,this.global),console.log("s:",e)),this.global.tsimbolos=this.global.tsimbolos.concat(this.xqGlobal.tsimbolos),console.log(this.global),console.log("SALIDA: ",e),e}},{key:"getTablaSimbolos",value:function(){return this.global}},{key:"getErrores",value:function(){var t="";return G.default.listaError.forEach((function(e){t=t+e.getMensaje()+"\n"})),t}},{key:"getRepTablaSimbolos",value:function(){var t="";this.global.tsimbolos;return this.indice=0,t='digraph {tbl [shape=plaintext,label=<<table border="0" cellborder="1" color="#ddd" cellspacing="0"><tr bgcolor="#04AA6D"><td><b>NO.</b></td><td><b>NOMBRE</b></td><td><b>TIPO</b></td><td><b>AMBITO</b></td><td><b>NODO</b></td><td><b>VALOR</b></td><td><b>FILA</b></td><td><b>COLUMNA</b></td><td><b>POSICION</b></td></tr>',t+=this.getSimbolosEntorno(this.global),t+="</table>>];}"}},{key:"getSimbolosEntorno",value:function(t){var e=this,i="";return t.tsimbolos.forEach((function(n){var r;n.valor.valor instanceof j.a?(e.indice++,i=i+"<tr><td>"+e.indice+"</td><td>"+n.valor.getNombre()+"</td><td>"+e.getTipoDato(n.valor.getTipo())+"</td><td>"+t.nombre+"</td><td>"+n.nombre+"</td><td>Nodo</td><td>"+n.valor.getLinea()+"</td><td>"+n.valor.getColumna()+"</td><td>"+n.valor.getPosicion()+"</td></tr>",i+=e.getSimbolosEntorno(n.valor.valor)):!1!==n.valor.valor&&(r=n.valor.valor instanceof Array&&n.valor.valor[0]instanceof pt.a?"Simbolo "+n.valor.valor[0].nombre:n.valor.getValor().toString().replace("&","and"),e.indice++,i=i+"<tr><td>"+e.indice+"</td><td>"+n.valor.getNombre()+"</td><td>"+e.getTipoDato(n.valor.getTipo())+"</td><td>"+t.nombre+"</td><td>"+n.nombre+"</td><td>"+r+"</td><td>"+n.valor.getLinea()+"</td><td>"+n.valor.getColumna()+"</td><td>"+n.valor.getPosicion()+"</td></tr>")})),i}},{key:"getTipoDato",value:function(t){switch(t){case 0:return"Texto";case 1:return"Cadena";case 2:return"Etiqueta";case 3:return"Atributo";case 4:return"Variable XQuery"}return""}},{key:"getRepErrores",value:function(){var t="",e=0;return t='<table class="tablaDatos" ><tr><th>No.</th><th>Tipo</th><th>Descripcion</th><th>Linea</th><th>Columna</th></th>',G.default.listaError.forEach((function(i){e++,t=t+"<tr><td>"+e+"</td><td>"+i.getTipo()+"</td><td>"+i.getDescripcion()+"</td><td>"+i.getLinea()+"</td><td>"+i.getColumna()+"</td></tr>"})),t+="</table>"}},{key:"getRepOptimizacion",value:function(){var t="",e=0;return t='<table class="tblRepOpti" ><tr><th>No.</th><th>CODIGO ANTES</th><th>CODIGO AHORA</th><th>REGLA</th><th>Columna</th><th>FILA</th></th>',this.reporteOptimiza.forEach((function(i){e++,t=t+"<tr><td>"+e+"</td><td>"+i.getCodigoAntes()+"</td><td>"+i.getCodigoAhora()+"</td><td>"+i.tipoReglaToString()+"</td><td>"+i.getColumna()+"</td><td>"+i.getFila()+"</td></tr>"})),t+="</table>"}},{key:"getCSTXmlAsc",value:function(){var t="digraph {";return t+=this.recorridoCst(z.cstXmlAsc.getRaiz()),t+="}"}},{key:"getCSTXmlDesc",value:function(){var t="digraph {";return t+=this.recorridoCst(z.cstXmlDesc.getRaiz()),t+="}"}},{key:"recorridoCst",value:function(t){var e=this,i="";return null!==t&&(i+=t.id+'[label="'+t.valor+'"];\n',t.hijos.forEach((function(n){i+=e.recorridoCst(n),i+=t.id+" -> "+n.id+";\n"}))),i}},{key:"traduceXML",value:function(){var t,e=B.parse(this.xPathEntry);return console.log("this: ",this.instrucciones),t=new et(e,this.instrucciones,this.xqGlobal).traducirXML(),console.log(this.global),t}}],[{key:"getInstance",value:function(){return this._instance}}]),t}()),bt=function(t){Object(h.a)(i,t);var e=Object(f.a)(i);function i(){var t;Object(c.a)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={open:!1,modalOpen:!1,modalOpenCst:!1,alertOpen:!1,opcion:"",consoleText:"",fileName:"",xml:"",xpath:"",reptHtml:"",fileDownloadUrl:null,selectedOption:"",dot:"digraph {}",c3d:"",open3D:!1,tituloRepHTML:""},t.abrirModal=function(){t.setState({modalOpen:!t.state.modalOpen})},t.handleClose=function(){t.setState({open:!1})},t.handleOpen=function(){t.setState({open:!0})},t.handleXML=function(e){t.setState({xml:e})},t.handleXPath=function(e){t.setState({xpath:e})},t.handleDot=function(e){t.setState({dot:e})},t.handleC3d=function(e){t.setState({c3d:e})},t.nuevo=function(){t.setState({fileName:"",xml:"",xpath:"",c3d:"",open3D:!1})},t.upload=function(e){e.preventDefault(),t.dofileUpload.click()},t.open=function(e){var i=e.target.files[0],n=new FileReader,r=function(e){var n=e.target.result;t.setState({xml:n,fileName:i.name})};r=r.bind(Object(u.a)(t)),n.onload=r,n.readAsText(i)},t.downloadXML=function(e){var i;e.preventDefault(),i=t.state.xml;var n=new Blob([i]),r=URL.createObjectURL(n);if(null===t.state.fileName||""===t.state.fileName){var o=new Date,s=o.getDate()+"_"+(o.getMonth()+1)+"_"+o.getFullYear()+"_"+o.getHours()+"_"+o.getMinutes();t.setState({fileName:s})}t.setState({fileDownloadUrl:r},(function(){t.dofileDownload.click(),URL.revokeObjectURL(r),t.setState({fileDownloadUrl:""})}))},t.downloadXPath=function(e){var i;e.preventDefault(),i=t.state.xml;var n=new Blob([i]),r=URL.createObjectURL(n);if(null===t.state.fileName||""===t.state.fileName){var o=new Date,s=o.getDate()+"_"+(o.getMonth()+1)+"_"+o.getFullYear()+"_"+o.getHours()+"_"+o.getMinutes();t.setState({fileName:s})}t.setState({fileDownloadUrl:r},(function(){t.dofileDownload.click(),URL.revokeObjectURL(r),t.setState({fileDownloadUrl:""})}))},t.onValueChange=function(e){t.setState({selectedOption:e.target.value})},t.formSubmit=function(e){e.preventDefault(),console.log(t.state.selectedOption)},t.analizar=function(e){t.abrirModal();var i="";switch(t.state.selectedOption){case"XPath":Tt.xmlAscendente(t.state.xml),i=""!==t.state.xpath?Tt.XPathAscendente(t.state.xpath):"";break;case"XQuery":Tt.xmlDescendente(t.state.xml),i=""!==t.state.xpath?Tt.XQueryAscendente(t.state.xpath):""}t.setState({consoleText:i}),""!==t.state.selectedOption&&t.setState({alertOpen:!0})},t.generar3D=function(e){t.setState({open3D:!0,c3d:Tt.traduceXML()})},t.optimizar=function(e){Tt.limpiarOptimizacion(),""===t.state.c3d&&""===t.state.xpath||t.setState({c3d:Tt.optimizacion(Tt.optimizacion(Tt.optimizacion(""!==t.state.c3d?t.state.c3d:t.state.xpath)))}),console.log("OPTIMIZACION FINALIZADA CON EXITO!"),t.setState({open3D:!0})},t.reporteTablaSimbolos=function(e){t.setState({dot:Tt.getRepTablaSimbolos()})},t.reporteListaErrores=function(e){t.setState({tituloRepHTML:"LISTA DE ERRORES"}),t.setState({reptHtml:Tt.getRepErrores()})},t.reporteOptimizacion=function(e){t.setState({tituloRepHTML:"REPORTE DE OPTIMIZACION"}),t.setState({reptHtml:Tt.getRepOptimizacion()})},t.mostrarCst=function(){t.setState({modalOpenCst:!t.state.modalOpenCst})},t.reporteCst=function(e){t.mostrarCst(),t.state.selectedOption},t}return Object(l.a)(i,[{key:"render",value:function(){var t=this,e={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"App",style:{width:"100%"},children:[Object(k.jsx)("header",{className:"App-header",children:Object(k.jsx)(g.a,{position:"static",style:{background:"#4b6584"},children:Object(k.jsxs)(m.a,{children:[Object(k.jsx)(d.a,{edge:"start",className:"menuButton",color:"inherit","aria-label":"menu",children:Object(k.jsx)(v.a,{})}),Object(k.jsx)(p.a,{variant:"h6",className:"title",children:"TytusX"})]})})}),Object(k.jsx)("div",{className:"App-body",children:Object(k.jsxs)(b.a,{container:!0,spacing:1,children:[Object(k.jsx)(b.a,{item:!0,xs:1}),Object(k.jsx)(b.a,{item:!0,xs:10,children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{className:"Boton",style:{backgroundColor:"white"},onClick:this.nuevo,children:Object(k.jsx)(_.a,{icon:S.e})}),Object(k.jsx)("button",{onClick:this.upload,className:"Boton",style:{backgroundColor:"white",color:"yellowgreen"},children:Object(k.jsx)(_.a,{icon:S.f})}),Object(k.jsx)("input",{type:"file",style:{display:"none"},multiple:!1,accept:".xml,application/xml",onChange:function(e){return t.open(e)},ref:function(e){return t.dofileUpload=e}}),Object(k.jsxs)("div",{style:{display:"inline-block",padding:"0px 10px 0px 10px"},children:[Object(k.jsx)(p.a,{style:{color:"white"},children:"Guardar XML"}),Object(k.jsx)("button",{className:"Boton",style:{backgroundColor:"white",color:"gray"},onClick:this.downloadXML,children:Object(k.jsx)(_.a,{icon:S.h})}),Object(k.jsx)("a",{style:{display:"none"},download:this.state.fileName,href:this.state.fileDownloadUrl,ref:function(e){return t.dofileDownload=e},children:"download it"})]}),Object(k.jsxs)("div",{style:{display:"inline-block",padding:"0px 5px 0px 5px"},children:[Object(k.jsx)(p.a,{style:{color:"white"},children:"Guardar XPath"}),Object(k.jsx)("button",{className:"Boton",style:{backgroundColor:"white",color:"gray"},onClick:this.downloadXPath,children:Object(k.jsx)(_.a,{icon:S.h})}),Object(k.jsx)("a",{style:{display:"none"},download:this.state.fileName,href:this.state.fileDownloadUrl,ref:function(e){return t.dofileDownload=e},children:"download it"})]}),Object(k.jsx)("button",{className:"Boton",style:{backgroundColor:"white",color:"green"},onClick:this.abrirModal,children:Object(k.jsx)(_.a,{icon:S.g})}),Object(k.jsx)("button",{className:"Boton",style:{backgroundColor:"white",color:"gray"},onClick:this.generar3D,children:Object(k.jsx)(_.a,{icon:S.a})}),Object(k.jsx)("button",{className:"Boton",style:{backgroundColor:"white",color:"gray"},onClick:this.optimizar,children:Object(k.jsx)(_.a,{icon:S.b})})]}),Object(k.jsx)("div",{})]})}),Object(k.jsx)(b.a,{item:!0,xs:1}),Object(k.jsx)(b.a,{item:!0,xs:1}),Object(k.jsx)(b.a,{item:!0,xs:5,children:Object(k.jsx)(E.a,{className:"paper",children:Object(k.jsx)(w,{language:"xml",displayName:"XML",value:this.state.xml,onChange:this.handleXML})})}),Object(k.jsx)(b.a,{item:!0,xs:5,children:Object(k.jsx)(E.a,{className:"paper",children:Object(k.jsx)(w,{language:"xquery",displayName:"XPath / XQuery",value:this.state.xpath,onChange:this.handleXPath})})}),Object(k.jsx)(b.a,{item:!0,xs:1}),Object(k.jsx)(b.a,{item:!0,xs:1}),Object(k.jsx)(b.a,{item:!0,xs:10,children:Object(k.jsx)(E.a,{className:"paper",children:Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("div",{className:"col-md-12",children:[Object(k.jsx)(T.a,{style:{fontWeight:"bold",fontFamily:"sans-serif"},children:"CONSOLA"}),Object(k.jsx)("div",{id:"consola",children:Object(k.jsx)("textarea",{id:"txtConsola",value:this.state.consoleText,name:"txtConsola",disabled:!0,className:"consola",rows:"8",style:{width:"100%"}})})]})})})}),Object(k.jsx)(b.a,{item:!0,xs:1}),Object(k.jsx)(b.a,{item:!0,xs:1}),Object(k.jsx)(b.a,{item:!0,xs:10,children:Object(k.jsx)(E.a,{className:"paper",children:Object(k.jsx)("div",{className:"row",style:{visibility:this.state.open3D?"visible":"hidden"},children:Object(k.jsxs)("div",{className:"col-md-12",children:[Object(k.jsx)(T.a,{style:{fontWeight:"bold",fontFamily:"sans-serif"},children:"C\xf3digo 3D"}),Object(k.jsx)(w,{language:"clike",displayName:"3DC",value:this.state.c3d,onChange:this.handleC3d})]})})})}),Object(k.jsx)(b.a,{item:!0,xs:1}),Object(k.jsx)(b.a,{item:!0,xs:1}),Object(k.jsx)(b.a,{item:!0,xs:10,children:Object(k.jsx)(E.a,{className:"paper",children:Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("div",{className:"col-md-12",children:[Object(k.jsx)("br",{}),Object(k.jsx)(T.a,{style:{fontWeight:"bold",fontFamily:"sans-serif"},children:"Reportes"}),Object(k.jsx)(D.a,{className:"btn bg-primary",onClick:this.reporteTablaSimbolos,children:"Tabla de Simbolos"})," |",Object(k.jsx)(D.a,{className:"btn bg-secondary",children:"AST"})," |",Object(k.jsx)(D.a,{className:"btn bg-success",onClick:this.mostrarCst,children:"CST"})," |",Object(k.jsx)(D.a,{className:"btn bg-danger",onClick:this.reporteListaErrores,children:"Lista de Errores"})," |",Object(k.jsx)(D.a,{className:"btn bg-warning",onClick:this.reporteOptimizacion,children:"Optimizacion"}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{style:{borderStyle:"solid",borderRadius:"2em"},children:Object(k.jsx)(C.a,{dot:this.state.dot,options:{fit:!0,width:950,zoom:!0}})}),Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("div",{className:"col-md-12",children:[Object(k.jsx)(T.a,{style:{fontWeight:"bold",fontFamily:"sans-serif"},children:this.state.tituloRepHTML}),Object(k.jsx)("div",{id:"pnlErorres",dangerouslySetInnerHTML:{__html:this.state.reptHtml}})]})})]})})})}),Object(k.jsx)(b.a,{item:!0,xs:1}),Object(k.jsx)(b.a,{item:!0,xs:1})]})})]}),Object(k.jsx)(A.a,{in:this.state.alertOpen,style:{position:"fixed",top:"90%",left:"50%",transform:"translate(-50%, -50%)"},children:Object(k.jsx)(y.a,{action:Object(k.jsx)(d.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){t.setState({alertOpen:!1})},children:Object(k.jsx)(N.a,{fontSize:"inherit"})}),children:"Analizado correctamente!"})}),Object(k.jsxs)(U.a,{isOpen:this.state.modalOpen,style:e,children:[Object(k.jsx)(P.a,{children:"Analizar"}),Object(k.jsx)(L.a,{children:Object(k.jsxs)("form",{onSubmit:this.formSubmit,children:[Object(k.jsx)("div",{className:"radio",children:Object(k.jsxs)("label",{children:[Object(k.jsx)("input",{type:"radio",value:"XPath",checked:"XPath"===this.state.selectedOption,onChange:this.onValueChange}),"XPath"]})}),Object(k.jsx)("div",{className:"radio",children:Object(k.jsxs)("label",{children:[Object(k.jsx)("input",{type:"radio",value:"XQuery",checked:"XQuery"===this.state.selectedOption,onChange:this.onValueChange}),"XQuery"]})})]})}),Object(k.jsxs)(X.a,{children:[Object(k.jsx)(D.a,{color:"primary",onClick:this.analizar,children:"Analizar"}),Object(k.jsx)(D.a,{color:"secondary",onClick:function(){t.setState({selectedOption:""}),t.abrirModal()},children:"Cerrar"})]})]}),Object(k.jsxs)(U.a,{isOpen:this.state.modalOpenCst,style:e,children:[Object(k.jsx)(P.a,{children:"Reporte CST"}),Object(k.jsx)(L.a,{children:Object(k.jsxs)("form",{onSubmit:this.formSubmit,children:[Object(k.jsx)("div",{className:"radio",children:Object(k.jsxs)("label",{children:[Object(k.jsx)("input",{type:"radio",value:"XPath",checked:"XPath"===this.state.selectedOption,onChange:this.onValueChange}),"XPath"]})}),Object(k.jsx)("div",{className:"radio",children:Object(k.jsxs)("label",{children:[Object(k.jsx)("input",{type:"radio",value:"XQuery",checked:"XQuery"===this.state.selectedOption,onChange:this.onValueChange}),"XQuery"]})})]})}),Object(k.jsxs)(X.a,{children:[Object(k.jsx)(D.a,{color:"primary",onClick:this.reporteCst,children:"Generar Reporte"}),Object(k.jsx)(D.a,{color:"secondary",onClick:function(){t.setState({selectedOption:""}),t.mostrarCst()},children:"Cerrar"})]})]})]})}}]),i}(o.a.Component);a.a.render(Object(k.jsx)(bt,{}),document.getElementById("root"))}],[[190,1,2]]]);
//# sourceMappingURL=main.deaf51c0.chunk.js.map